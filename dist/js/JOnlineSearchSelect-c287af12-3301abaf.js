import{b as S}from"./index-37448b2d.js";import{C as w,ap as C,bs as y}from"./jeecg-online-vendor-f57c6456.js";import{f as d,w as p,Y as h,a6 as i,ab as f,a9 as m,a7 as b,F as k,aa as I,E as q,ad as x}from"./tinymce-vendor-3c2b3d6e.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";const{createMessage:D}=w(),B={name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},fieldId:{type:String,required:!0}},emits:["update:value"],setup(r,{emit:u}){let t=d(""),a=d([]);p(()=>r.value,e=>{e?t.value=e:t.value=void 0},{immediate:!0}),p(()=>r.fieldId,()=>{s()},{immediate:!0});const c=S(o,800);function o(e=""){let g={keyword:e},v="/online/cgreport/api/getReportDictList?fieldId="+r.fieldId;C.get({url:v,params:g},{isTransformResponse:!1}).then(n=>{n.success?n.result&&n.result.length>0?a.value=n.result:a.value=[]:D.warning(n.message)})}function l(e){u("update:value",e),(!e||e=="")&&s()}function s(){a.value=[],o()}return{selectOptions:a,handleSearch:c,handleChange:l,selected:t}}};function E(r,u,t,a,c,o){const l=h("a-select-option"),s=h("a-select");return i(),f(s,{value:a.selected,placeholder:t.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:a.handleSearch,onChange:a.handleChange,allowClear:""},{default:m(()=>[(i(!0),b(k,null,I(a.selectOptions,e=>(i(),f(l,{key:e.value},{default:m(()=>[q(x(e.text),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder","onSearch","onChange"])}const R=y(B,[["render",E]]);export{R as default};
