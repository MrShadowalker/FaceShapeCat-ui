import{d as B,e as D,a4 as q,a5 as X,Y as r,v,a6 as a,ab as n,a9 as e,k as s,ac as F,E as o,ad as d,Z as c,q as f}from"./tinymce-vendor-3c2b3d6e.js";import{A as P,X as T}from"./antd-vue-vendor-05bfa84d.js";import g from"./CurrentPermissionMode-75376aed.js";import{u as h,b9 as C,_ as U}from"./jeecg-online-vendor-f57c6456.js";import{q as k}from"./index-37448b2d.js";import{A as b}from"./index-03bbb4ef.js";import{P as $}from"./index-31a6ff64.js";import"./vxe-table-vendor-26792376.js";import"./useContentHeight-bfd1eb89.js";import"./useWindowSizeFn-e63bb4b0.js";import"./useContentViewHeight-6be29838.js";import"./usePageContext-b7687fba.js";import"./injectionKey-69710956.js";const w=B({components:{Alert:P,PageWrapper:$,CurrentPermissionMode:g,Divider:T,Authority:b},setup(){const{changeRole:u,hasPermission:l}=k(),E=h();return{userStore:E,RoleEnum:C,isSuper:D(()=>E.getRoleList.includes(C.SUPER)),isTest:D(()=>E.getRoleList.includes(C.TEST)),changeRole:u,hasPermission:l}}});const I={class:"mt-4"};function N(u,l,E,V,L,M){const _=r("CurrentPermissionMode"),R=r("Alert"),t=r("a-button"),A=r("a-button-group"),i=r("Divider"),m=r("Authority"),S=r("PageWrapper"),p=v("auth");return a(),n(S,{title:"前端权限按钮示例",contentBackground:"",contentClass:"p-4",content:"由于刷新的时候会请求用户信息接口，会根据接口重置角色信息，所以刷新后界面会恢复原样，如果不需要，可以注释 src/layout/default/index内的获取用户信息接口"},{default:e(()=>[s(_),F("p",null,[o(" 当前角色: "),F("a",null,d(u.userStore.getRoleList),1)]),s(R,{class:"mt-4",type:"info",message:"点击后请查看按钮变化","show-icon":""}),F("div",I,[o(" 权限切换(请先切换权限模式为前端角色权限模式): "),s(A,null,{default:e(()=>[s(t,{onClick:l[0]||(l[0]=y=>u.changeRole(u.RoleEnum.SUPER)),type:u.isSuper?"primary":"default"},{default:e(()=>[o(d(u.RoleEnum.SUPER),1)]),_:1},8,["type"]),s(t,{onClick:l[1]||(l[1]=y=>u.changeRole(u.RoleEnum.TEST)),type:u.isTest?"primary":"default"},{default:e(()=>[o(d(u.RoleEnum.TEST),1)]),_:1},8,["type"])]),_:1})]),s(i,null,{default:e(()=>[o("组件方式判断权限(有需要可以自行全局注册)")]),_:1}),s(m,{value:u.RoleEnum.SUPER},{default:e(()=>[s(t,{type:"primary",class:"mx-4"},{default:e(()=>[o(" 拥有super角色权限可见 ")]),_:1})]),_:1},8,["value"]),s(m,{value:u.RoleEnum.TEST},{default:e(()=>[s(t,{color:"success",class:"mx-4"},{default:e(()=>[o(" 拥有test角色权限可见 ")]),_:1})]),_:1},8,["value"]),s(m,{value:[u.RoleEnum.TEST,u.RoleEnum.SUPER]},{default:e(()=>[s(t,{color:"error",class:"mx-4"},{default:e(()=>[o(" 拥有[test,super]角色权限可见 ")]),_:1})]),_:1},8,["value"]),s(i,null,{default:e(()=>[o("函数方式方式判断权限(适用于函数内部过滤)")]),_:1}),u.hasPermission(u.RoleEnum.SUPER)?(a(),n(t,{key:0,type:"primary",class:"mx-4"},{default:e(()=>[o(" 拥有super角色权限可见 ")]),_:1})):c("",!0),u.hasPermission(u.RoleEnum.TEST)?(a(),n(t,{key:1,color:"success",class:"mx-4"},{default:e(()=>[o(" 拥有test角色权限可见 ")]),_:1})):c("",!0),u.hasPermission([u.RoleEnum.TEST,u.RoleEnum.SUPER])?(a(),n(t,{key:2,color:"error",class:"mx-4"},{default:e(()=>[o(" 拥有[test,super]角色权限可见 ")]),_:1})):c("",!0),s(i,null,{default:e(()=>[o("指令方式方式判断权限(该方式不能动态修改权限.)")]),_:1}),f((a(),n(t,{type:"primary",class:"mx-4"},{default:e(()=>[o(" 拥有super角色权限可见 ")]),_:1})),[[p,u.RoleEnum.SUPER]]),f((a(),n(t,{color:"success",class:"mx-4"},{default:e(()=>[o(" 拥有test角色权限可见 ")]),_:1})),[[p,u.RoleEnum.TEST]]),f((a(),n(t,{color:"error",class:"mx-4"},{default:e(()=>[o(" 拥有[test,super]角色权限可见 ")]),_:1})),[[p,[u.RoleEnum.TEST,u.RoleEnum.SUPER]]])]),_:1})}const eu=U(w,[["render",N],["__scopeId","data-v-18603eae"]]);export{eu as default};
