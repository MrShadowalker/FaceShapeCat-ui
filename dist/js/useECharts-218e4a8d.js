var b=Object.defineProperty;var k=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var w=(r,t,n)=>t in r?b(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,z=(r,t)=>{for(var n in t||(t={}))C.call(t,n)&&w(r,n,t[n]);if(k)for(var n of k(t))x.call(t,n)&&w(r,n,t[n]);return r};import{j as y,b as H,f as R,J as S,s as d,e as T}from"./index-37448b2d.js";import{e as D,f as h,u as i,n as j,w as B}from"./tinymce-vendor-3c2b3d6e.js";import O from"./echarts-676384e9.js";import"./antd-vue-vendor-05bfa84d.js";import"./jeecg-online-vendor-f57c6456.js";import"./vxe-table-vendor-26792376.js";import"./echarts-vendor-0b842a89.js";function P(r,t="default"){const{getDarkMode:n}=y(),u=D(()=>t==="default"?n.value:t);let e=null,l=c;const a=h({});let v=()=>{};l=H(c,200);const g=D(()=>u.value!=="dark"?a.value:z({backgroundColor:"transparent"},a.value));function p(s=t){const o=i(r);if(!o||!i(o))return;e=O.init(o,s);const{removeEvent:f}=R({el:window,name:"resize",listener:l});v=f;const{widthRef:F,screenEnum:M}=S();(i(F)<=M.MD||o.offsetHeight===0)&&d(()=>{l()},30)}function m(s,o=!0){var f;if(a.value=s,((f=i(r))==null?void 0:f.offsetHeight)===0){d(()=>{m(i(g))},30);return}j(()=>{d(()=>{!e&&(p(u.value),!e)||(o&&(e==null||e.clear()),e==null||e.setOption(i(g)))},30)})}function c(){e==null||e.resize()}B(()=>u.value,s=>{e&&(e.dispose(),p(s),m(a.value))}),T(()=>{e&&(v(),e.dispose(),e=null)});function E(){return e||p(u.value),e}return{setOptions:m,resize:c,echarts:O,getInstance:E}}export{P as useECharts};
