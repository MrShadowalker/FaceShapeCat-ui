var M=Object.defineProperty,$=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var b=(a,t,o)=>t in a?M(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,C=(a,t)=>{for(var o in t||(t={}))L.call(t,o)&&b(a,o,t[o]);if(k)for(var o of k(t))U.call(t,o)&&b(a,o,t[o]);return a},I=(a,t)=>$(a,j(t));import{d as y,f,b as D,a6 as N,a7 as z,ac as i,u as n,ad as m,k as c,aj as E,F as R,a4 as qi,a5 as Bi}from"./tinymce-vendor-3c2b3d6e.js";import{u as V,B as W,bl as G,bm as H,_ as A}from"./jeecg-online-vendor-f57c6456.js";import{Q as J}from"./index-35591d01.js";import K from"./ThirdModal-2b91df07.js";import{a as O}from"./jeecg_ad_text-6abee8dd.js";import{k as P}from"./index-37448b2d.js";import{bf as X,b1 as Y,bg as Z,b3 as ii}from"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";import"./download-2caf3e60.js";import"./base64Conver-fa2fe1af.js";import"./index-b5f97370.js";import"./useCountdown-d833a954.js";import"./useFormItemSingle-4fd81116.js";import"./useThirdLogin-b70adaa5.js";const ti={class:"aui-content"},oi={class:"aui-container"},si={class:"aui-form"},ei={class:"aui-image"},ai={class:"aui-image-text"},ni=["src"],li={class:"aui-formBox aui-formEwm"},ci={class:"aui-formWell"},di={class:"aui-flex aui-form-nav investment_title",style:{"padding-bottom":"19px"}},ri={class:"aui-flex-box activeNav"},ui={class:"aui-form-box"},_i={class:"aui-account",style:{padding:"30px 0"}},fi={class:"aui-ewm"},mi={class:"aui-formButton"},vi={class:"aui-flex aui-third-text"},hi={class:"aui-flex-box aui-third-border"},pi={class:"aui-flex-box"},gi={class:"aui-third-login"},xi={class:"aui-flex-box"},ki={class:"aui-third-login"},bi={class:"aui-flex-box"},Ci={class:"aui-third-login"},Ii={class:"aui-flex-box"},yi={class:"aui-third-login"},Ti=y({name:"mini-code-login"}),wi=y(I(C({},Ti),{emits:["go-back","success","register"],setup(a,{expose:t,emit:o}){const T=X({scriptUrl:"//at.alicdn.com/t/font_2316098_umqusozousr.js"}),{prefixCls:w}=P("minilogin"),{t:u}=W(),v=f("");let d;const h=f("0"),p=f(),S=V(),F=o;function g(){h.value="0",G().then(s=>{v.value=s.qrcodeId,s.qrcodeId&&q(s.qrcodeId)})}function x(s){H({qrcodeId:s}).then(e=>{let l=e.token;l=="-2"&&(g(),clearInterval(d)),e.success&&(h.value="2",clearInterval(d),setTimeout(()=>{S.qrCodeLogin(l)},500))})}function q(s){x(s),_(),d=setInterval(()=>{x(s)},1500)}function _(){d&&clearInterval(d)}function r(s){p.value.onThirdLogin(s)}function B(){g()}function Q(){F("go-back"),_()}return D(()=>{_()}),t({initFrom:B}),(s,e)=>(N(),z(R,null,[i("div",ti,[i("div",oi,[i("div",si,[i("div",ei,[i("div",ai,[i("img",{src:n(O),alt:""},null,8,ni)])]),i("div",li,[i("div",ci,[i("form",null,[i("div",di,[i("div",ri,m(n(u)("sys.login.qrSignInFormTitle")),1)]),i("div",ui,[i("div",_i,[i("div",fi,[c(n(J),{value:v.value,class:"enter-x flex justify-center xl:justify-start",width:280},null,8,["value"])])])]),i("div",mi,[i("a",{class:"aui-linek-code aui-link-register",onClick:Q},m(n(u)("sys.login.backSignIn")),1)])])]),i("div",vi,[i("div",hi,[i("span",null,m(n(u)("sys.login.otherSignIn")),1)])]),i("div",{class:E(["aui-flex",`${n(w)}-sign-in-way`])},[i("div",pi,[i("div",gi,[i("a",{href:"",title:"github",onClick:e[0]||(e[0]=l=>r("github"))},[c(n(Y))])])]),i("div",xi,[i("div",ki,[i("a",{href:"",title:"企业微信",onClick:e[1]||(e[1]=l=>r("wechat_enterprise"))},[c(n(T),{class:"item-icon",type:"icon-qiyeweixin3"})])])]),i("div",bi,[i("div",Ci,[i("a",{href:"",title:"钉钉",onClick:e[2]||(e[2]=l=>r("dingtalk"))},[c(n(Z))])])]),i("div",Ii,[i("div",yi,[i("a",{href:"",title:"微信",onClick:e[3]||(e[3]=l=>r("wechat_open"))},[c(n(ii))])])])],2)])])])]),c(K,{ref_key:"thirdModalRef",ref:p},null,512)],64))}}));const Gi=A(wi,[["__scopeId","data-v-97712f90"]]);export{Gi as default};
