import J from"./DeptSelectModal-bfb41b56.js";import R from"./JSelectBiz-f6a2b32b.js";import{d as w,f as s,r as $,p as u,h as k,w as c,I as S,u as i,Y as O,a6 as z,a7 as I,k as V,ae as B}from"./tinymce-vendor-3c2b3d6e.js";import"./index-64ecc8b2.js";import{p as r,E as b}from"./index-37448b2d.js";import{useRuleFormItem as j}from"./useFormItem-613b6d5d.js";import{ar as A,_ as G}from"./jeecg-online-vendor-f57c6456.js";import"./props-ea47501e.js";import"./index-d4a67b72.js";import"./antd-vue-vendor-05bfa84d.js";import"./bem-a6e46c9e.js";import"./vxe-table-vendor-26792376.js";import"./props-3977d3d5.js";import"./useContextMenu-3e9e42e0.js";import"./useTreeBiz-a3326efb.js";import"./BasicModal-9d388b71.js";import"./useWindowSizeFn-e63bb4b0.js";const H=w({name:"JSelectDept",components:{DeptSelectModal:J,JSelectBiz:R},inheritAttrs:!1,props:{value:r.oneOfType([r.string,r.array]),multiple:r.bool.def(!0)},emits:["options-change","change","select","update:value"],setup(e,{emit:n,refs:D}){const d=s(),[m,{openModal:f}]=b(),[l]=j(e,"value","change",d),o=s([]);let t=$({value:[]});const v=s(!1);u("selectOptions",o),u("selectValues",t),u("loadingEcho",v);const g=s(!1),h=A();k(()=>{e.value&&_()}),c(()=>e.value,()=>{_()}),c(t,()=>{t&&(l.value=t.value)}),c(o,()=>{o&&n("select",S(i(o)),S(i(t)))});function M(){g.value=!0,f(!0,{isUpdate:!1})}function _(){let a=e.value?e.value:[];a&&typeof a=="string"?(l.value=a.split(","),t.value=a.split(",")):t.value=a}function y(a,p){o.value=a,l.value=p,t.value=p,n("update:value",p.join(","))}const C=Object.assign({},i(e),i(h));function E(a){n("update:value",a)}return{state:l,attrs:h,selectOptions:o,selectValues:t,loadingEcho:v,getBindValue:C,tag:g,regModal:m,setValue:y,handleOpen:M,handleChange:E}}});function T(e,n,D,d,m,f){const l=O("JSelectBiz"),o=O("DeptSelectModal");return z(),I("div",null,[V(l,B({onHandleOpen:e.handleOpen,loading:e.loadingEcho},e.attrs,{onChange:e.handleChange}),null,16,["onHandleOpen","loading","onChange"]),V(o,B({onRegister:e.regModal,onGetSelectResult:e.setValue},e.getBindValue,{multiple:e.multiple}),null,16,["onRegister","onGetSelectResult","multiple"])])}const le=G(H,[["render",T],["__scopeId","data-v-6afe8d62"]]);export{le as default};
