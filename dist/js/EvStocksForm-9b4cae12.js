var U=(s,r,d)=>new Promise((i,p)=>{var C=n=>{try{e(d.next(n))}catch(m){p(m)}},I=n=>{try{e(d.throw(n))}catch(m){p(m)}},e=n=>n.done?i(n.value):Promise.resolve(n.value).then(C,I);e((d=d.apply(s,r)).next())});import{d as X,f as _,r as V,e as z,Y as c,a6 as H,ab as L,a9 as l,k as a,ae as S,u as x,n as N}from"./tinymce-vendor-3c2b3d6e.js";import{C as B,ap as y,aM as Y,_ as $}from"./jeecg-online-vendor-f57c6456.js";import{a5 as q}from"./antd-vue-vendor-05bfa84d.js";const{createConfirm:G}=B();const te="/evStocks/exportXls",ae="/evStocks/importExcel",oe=s=>y.get({url:"/evStocks/list",params:s}),se=(s,r)=>y.delete({url:"/evStocks/delete",params:s},{joinParamsToUrl:!0}).then(()=>{r()}),le=(s,r)=>{G({iconType:"warning",title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>y.delete({url:"/evStocks/deleteBatch",data:s},{joinParamsToUrl:!0}).then(()=>{r()})})},J=(s,r)=>{let d=r?"/evStocks/edit":"/evStocks/add";return y.post({url:d,params:s},{isTransformResponse:!1})},K=X({__name:"EvStocksForm",props:{formDisabled:{type:Boolean,default:!1},formData:{type:Object,default:()=>{}},formBpm:{type:Boolean,default:!0}},emits:["register","ok"],setup(s,{expose:r,emit:d}){const i=s,p=_(),C=q.useForm,I=d,e=V({id:"",remark:"",departId:"",goodsId:"",num:""}),{createMessage:n}=B(),m=_({xs:{span:24},sm:{span:5}}),E=_({xs:{span:24},sm:{span:16}}),T=_(!1),F={},{resetFields:O,validate:j,validateInfos:k}=C(e,F,{immediate:!0}),b=z(()=>i.formBpm===!0?i.formData.disabled!==!1:i.formDisabled);function D(){w({})}function w(f){N(()=>{O(),Object.assign(e,f)})}function h(){return U(this,null,function*(){yield j(),T.value=!0;const f=_(!1);let t=e;t.id&&(f.value=!0);for(let o in t)t[o]instanceof Array&&Y(p.value.getProps,o)==="string"&&(t[o]=t[o].join(","));yield J(t,f.value).then(o=>{o.success?(n.success(o.message),I("ok")):n.warning(o.message)}).finally(()=>{T.value=!1})})}return r({add:D,edit:w,submitForm:h}),(f,t)=>{const o=c("a-input"),v=c("a-form-item"),g=c("a-col"),P=c("a-row"),M=c("a-form"),R=c("a-spin");return H(),L(R,{spinning:T.value},{default:l(()=>[a(M,{ref_key:"formRef",ref:p,class:"antd-modal-form",labelCol:m.value,wrapperCol:E.value},{default:l(()=>[a(P,null,{default:l(()=>[a(g,{span:24},{default:l(()=>[a(v,S({label:"店铺"},x(k).departId),{default:l(()=>[a(o,{value:e.departId,"onUpdate:value":t[0]||(t[0]=u=>e.departId=u),placeholder:"请输入店铺",disabled:b.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),a(g,{span:24},{default:l(()=>[a(v,S({label:"商品"},x(k).goodsId),{default:l(()=>[a(o,{value:e.goodsId,"onUpdate:value":t[1]||(t[1]=u=>e.goodsId=u),placeholder:"请输入商品",disabled:b.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),a(g,{span:24},{default:l(()=>[a(v,S({label:"数量"},x(k).num),{default:l(()=>[a(o,{value:e.num,"onUpdate:value":t[2]||(t[2]=u=>e.num=u),placeholder:"请输入数量",disabled:b.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),a(g,{span:24},{default:l(()=>[a(v,S({label:"备注"},x(k).remark),{default:l(()=>[a(o,{value:e.remark,"onUpdate:value":t[3]||(t[3]=u=>e.remark=u),placeholder:"请输入备注",disabled:b.value},null,8,["value","disabled"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["labelCol","wrapperCol"])]),_:1},8,["spinning"])}}});const Q=$(K,[["__scopeId","data-v-3b304643"]]),ne=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{Q as E,ae as a,le as b,ne as c,se as d,te as g,oe as l};
