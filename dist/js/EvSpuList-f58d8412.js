var oe=Object.defineProperty,ne=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var K=(n,a,e)=>a in n?oe(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,M=(n,a)=>{for(var e in a||(a={}))le.call(a,e)&&K(n,e,a[e]);if(F)for(var e of F(a))ie.call(a,e)&&K(n,e,a[e]);return n},N=(n,a)=>ne(n,ae(a));var k=(n,a,e)=>new Promise((p,s)=>{var U=c=>{try{f(e.next(c))}catch(g){s(g)}},J=c=>{try{f(e.throw(c))}catch(g){s(g)}},f=c=>c.done?p(c.value):Promise.resolve(c.value).then(U,J);f((e=e.apply(n,a)).next())});import{d as V,f as P,r as y,Y as d,a6 as _,a7 as Q,ac as m,k as t,a9 as o,ab as D,Z as I,E as x,ad as re,a8 as se,u as T,a4 as pe,a5 as de}from"./tinymce-vendor-3c2b3d6e.js";import"./index-0f0d0317.js";import{useListPage as ce}from"./useListPage-66651993.js";import{render as me}from"./renderUtils-59564de6.js";import{l as ue,g as fe,a as _e,d as ge,b as be}from"./EvSpuForm-e087f303.js";import ve from"./EvSpuModal-cd2a3c6a.js";import{u as he,_ as ye}from"./jeecg-online-vendor-f57c6456.js";import{_ as Ie}from"./JAddInput-a2153936.js";import{J as R}from"./componentMap-e2e33057.js";import{l as xe}from"./JDictSelectTag-f0227cc5.js";import Se from"./BasicTable-400bb95b.js";import"./index-2ad3f236.js";import"./antd-vue-vendor-05bfa84d.js";import"./index-64ecc8b2.js";import"./BasicModal-9d388b71.js";import"./index-37448b2d.js";import"./vxe-table-vendor-26792376.js";import"./useWindowSizeFn-e63bb4b0.js";import"./download-2caf3e60.js";import"./base64Conver-fa2fe1af.js";import"./index-09260ce4.js";import"./useForm-df7d93c5.js";import"./formUtils-09c7de86.js";import"./JSelectUser-6efbe652.js";import"./useSelectBiz-b5c21498.js";import"./props-ea47501e.js";import"./JSelectBiz-b887fca6.js";import"./useFormItem-613b6d5d.js";import"./JSelectDept-073e3b74.js";import"./index-d4a67b72.js";import"./bem-a6e46c9e.js";import"./props-3977d3d5.js";import"./useContextMenu-3e9e42e0.js";import"./useTreeBiz-a3326efb.js";import"./JPopup-8248ac78.js";import"./JEllipsis-242e7bd0.js";import"./JTreeSelect-73cfd2cd.js";import"./JSearchSelect-4158b9a9.js";import"./JEditor-75d90eae.js";import"./index-13e7f179.js";import"./JImageUpload-1b0b2e46.js";import"./index-ee632f67.js";import"./index-b5f97370.js";import"./useCountdown-d833a954.js";import"./useFormItemSingle-4fd81116.js";import"./areaDataUtil-10873080.js";import"./data-9be677e2.js";import"./index-2d7d6454.js";import"./htmlmixed-6ab39e30.js";import"./codemirror-vendor-0a03fef5.js";import"./vue-41a95ea0.js";/* empty css             */import"./anyword-hint-577f8e6e.js";import"./depart.api-76b2f38a.js";import"./CompTypeEnum-5c91fd88.js";import"./cron-parser-vendor-a4cfb0b0.js";import"./JUpload-70acb676.js";import"./index-76418551.js";import"./index-3dc0c4fd.js";import"./index-aba90786.js";import"./injectionKey-69710956.js";import"./validator-a0d2ebc7.js";import"./user.api-367a7bce.js";const we=[{title:"序号",dataIndex:"batch",align:"center",width:50,customRender:function({text:n,record:a,index:e,column:p}){return e+1}},{title:"商品图片",align:"center",width:80,dataIndex:"img",customRender:me.renderImage},{title:"商品名称",align:"center",width:180,dataIndex:"name"},{title:"商品编码",align:"center",width:120,dataIndex:"code"},{title:"商品分类",align:"center",width:100,dataIndex:"type"},{title:"规格型号",align:"center",width:180,dataIndex:"spec"},{title:"计量单位",align:"center",width:80,dataIndex:"unit"},{title:"零售价",align:"center",width:80,dataIndex:"price",customRender:function({text:n,record:a,index:e,column:p}){return n+"元"}},{title:"商品状态",align:"center",width:80,dataIndex:"status_dictText"},{title:"本店库存",align:"center",dataIndex:"st"},{title:"商品介绍",align:"center",dataIndex:"description"}];const Ce={remark:{title:"备注",order:0,view:"textarea",type:"string"},name:{title:"商品名称",order:1,view:"text",type:"string"},code:{title:"商品编码",order:2,view:"text",type:"string"},imgPath:{title:"商品图片",order:3,view:"image",type:"string"},description:{title:"简述",order:6,view:"umeditor",type:"string"},categoryIds:{title:"商品分类",order:8,view:"text",type:"string"}},S=n=>(pe("data-v-c59288aa"),n=n(),de(),n),ke={class:"p-2"},Pe={class:"jeecg-basic-table-form-container"},De=S(()=>m("span",{title:"商品名称"},"商品名称",-1)),Te=S(()=>m("span",{title:"商品编码"},"商品编码",-1)),Re=S(()=>m("span",{title:"商品状态"},"商品状态",-1)),Ue=S(()=>m("span",{title:"商品种类"},"商品种类",-1)),Je={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Ee=["innerHTML"],Ae=V({name:"evSpu-evSpu"}),Le=V(N(M({},Ae),{setup(n){const a=P(),e=y({}),p=P(!1),s=P(),U=he(),{prefixCls:J,tableContext:f,onExportXls:c,onImportXls:g}=ce({tableProps:{title:"SPU标准化产品单元表",api:ue,columns:we,canResize:!1,useSearchForm:!1,showTableSetting:!1,showActionColumn:!1,beforeFetch:l=>Object.assign(l,e)},exportConfig:{name:"SPU标准化产品单元表",url:fe,params:e},importConfig:{url:_e,success:v}}),[j,{reload:w,collapseAll:Be,updateTableDataRecord:Fe,findTableDataRecord:Ke,getDataSource:Me},{rowSelection:Ne,selectedRowKeys:b}]=f,H=y({xs:24,sm:6}),O=y({xs:24,sm:16}),Qe=y(Ce);function Ve(l){Object.keys(l).map(i=>{e[i]=l[i]}),C()}function je(){s.value.disableSubmit=!1,s.value.add()}function He(l){s.value.disableSubmit=!1,s.value.edit(l)}function E(l){s.value.disableSubmit=!0,s.value.edit(l)}function $(l){return k(this,null,function*(){yield ge({id:l.id},v)})}function X(){return k(this,null,function*(){yield be({ids:b.value},v)})}function v(){(b.value=[])&&w()}function Oe(l){return[{label:"详情",onClick:E.bind(null,l)}]}function $e(l){return[{label:"详情",onClick:E.bind(null,l)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:$.bind(null,l),placement:"topLeft"}}]}function C(){w()}function q(){a.value.resetFields(),b.value=[],w()}return(l,i)=>{const h=d("a-form-item"),u=d("a-col"),A=d("a-button"),L=d("Icon"),z=d("a-row"),Y=d("a-form"),Z=d("a-menu-item"),G=d("a-menu"),W=d("a-dropdown");return _(),Q("div",ke,[m("div",Pe,[t(Y,{ref_key:"formRef",ref:a,onKeyup:se(C,["enter","native"]),model:e,"label-col":H,"wrapper-col":O},{default:o(()=>[t(z,{gutter:24},{default:o(()=>[t(u,{lg:6},{default:o(()=>[t(h,{name:"name"},{label:o(()=>[De]),default:o(()=>[t(R,{placeholder:"请输入商品名称",value:e.name,"onUpdate:value":i[0]||(i[0]=r=>e.name=r)},null,8,["value"])]),_:1})]),_:1}),t(u,{lg:6},{default:o(()=>[t(h,{name:"code"},{label:o(()=>[Te]),default:o(()=>[t(R,{placeholder:"请输入商品编码",value:e.code,"onUpdate:value":i[1]||(i[1]=r=>e.code=r)},null,8,["value"])]),_:1})]),_:1}),t(u,{lg:6},{default:o(()=>[t(h,{name:"status"},{label:o(()=>[Re]),default:o(()=>[t(xe,{type:"select",value:e.status,"onUpdate:value":i[2]||(i[2]=r=>e.status=r),dictCode:"ev_goods_status",placeholder:"请选择商品状态"},null,8,["value"])]),_:1})]),_:1}),p.value?(_(),D(u,{key:0,lg:6},{default:o(()=>[t(h,{name:"code"},{label:o(()=>[Ue]),default:o(()=>[t(R,{placeholder:"请输入商品种类",value:e.type,"onUpdate:value":i[3]||(i[3]=r=>e.type=r)},null,8,["value"])]),_:1})]),_:1})):I("",!0),t(u,{xl:4,lg:4,md:8,sm:24},{default:o(()=>[m("span",Je,[t(u,{lg:5},{default:o(()=>[t(A,{type:"primary",preIcon:"ant-design:search-outlined",onClick:C},{default:o(()=>[x("查询")]),_:1}),t(A,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:q,style:{"margin-left":"8px"}},{default:o(()=>[x("重置")]),_:1}),m("a",{onClick:i[4]||(i[4]=r=>p.value=!p.value),style:{"margin-left":"8px"}},[x(re(p.value?"收起":"展开")+" ",1),t(L,{icon:p.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),t(T(Se),{onRegister:T(j)},{tableTitle:o(()=>[T(b).length>0?(_(),D(W,{key:0},{overlay:o(()=>[t(G,null,{default:o(()=>[t(Z,{key:"1",onClick:X},{default:o(()=>[t(L,{icon:"ant-design:delete-outlined"}),x(" 删除 ")]),_:1})]),_:1})]),_:1})):I("",!0)]),bodyCell:o(({column:r,record:B,index:Xe,text:ee})=>[r.dataIndex==="description"?(_(),Q("div",{key:0,innerHTML:ee},null,8,Ee)):I("",!0),r.dataIndex==="status"?(_(),D(Ie,{key:1,value:B.status,"onUpdate:value":te=>B.status=te,options:["0","1"]},null,8,["value","onUpdate:value"])):I("",!0)]),_:1},8,["onRegister"]),t(ve,{ref_key:"registerModal",ref:s,onSuccess:v},null,512)])}}}));const ao=ye(Le,[["__scopeId","data-v-c59288aa"]]);export{ao as default};
