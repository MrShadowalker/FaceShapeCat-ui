var q=(F,R,s)=>new Promise((M,g)=>{var N=r=>{try{u(s.next(r))}catch(h){g(h)}},E=r=>{try{u(s.throw(r))}catch(h){g(h)}},u=r=>r.done?M(r.value):Promise.resolve(r.value).then(N,E);u((s=s.apply(F,R)).next())});import{f as z,n as P,u as f,G as D,w as G}from"./tinymce-vendor-3c2b3d6e.js";import{v as I,o as V}from"./index-37448b2d.js";import{useWindowSizeFn as W}from"./useWindowSizeFn-e63bb4b0.js";import{u as X}from"./useContentViewHeight-6be29838.js";import{i as Z,aq as _}from"./jeecg-online-vendor-f57c6456.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";import"./usePageContext-b7687fba.js";function w(F,R,s,M,g=0,N=z(0)){const E=z(null),{footerHeightRef:u}=X();let r={useLayoutFooter:!0};const h=e=>{r=e};function A(){P(()=>{B()})}function p(e,x="all"){var m,l,H,b;function c(t){return Number(t.replace(/[^\d]/g,""))}let n=0;const a="0px";if(e){const t=getComputedStyle(e),i=c((m=t==null?void 0:t.marginTop)!=null?m:a),o=c((l=t==null?void 0:t.marginBottom)!=null?l:a),d=c((H=t==null?void 0:t.paddingTop)!=null?H:a),k=c((b=t==null?void 0:t.paddingBottom)!=null?b:a);x==="all"?(n+=i,n+=o,n+=d,n+=k):x==="top"?(n+=i,n+=d):(n+=o,n+=k)}return n}function T(e){return e==null?null:e instanceof HTMLDivElement?e:e.$el}function B(){return q(this,null,function*(){var b;if(!F.value)return;yield P();const e=T(f(R));if(!e)return;const{bottomIncludeBody:x}=I(e);let c=0;s.forEach(t=>{var i,o;c+=(o=(i=T(f(t)))==null?void 0:i.offsetHeight)!=null?o:0});let n=(b=p(e))!=null?b:0;M.forEach(t=>{n+=p(T(f(t)))});let a=0;function m(t,i){if(t&&i){const o=t.parentElement;o&&(Z(i)?o.classList.contains(i)?a+=p(o,"bottom"):(a+=p(o,"bottom"),m(o,i)):_(i)&&i>0&&(a+=p(o,"bottom"),m(o,--i)))}}D(g)?m(e,f(g)):m(e,g);let l=x-f(u)-f(N)-c-n-a;const H=()=>{var t;(t=r.elements)==null||t.forEach(i=>{var o,d;l+=(d=(o=T(f(i)))==null?void 0:o.offsetHeight)!=null?d:0})};r.useLayoutFooter&&f(u)>0,H(),E.value=l})}return V(()=>{P(()=>{B()})}),W(()=>{B()},50,{immediate:!0}),G(()=>[u.value],()=>{B()},{flush:"post",immediate:!0}),{redoHeight:A,setCompensation:h,contentHeight:E}}export{w as useContentHeight};
