var D=Object.defineProperty,E=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var V=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t)=>{for(var r in t||(t={}))R.call(t,r)&&V(e,r,t[r]);if(A)for(var r of A(t))U.call(t,r)&&V(e,r,t[r]);return e},O=(e,t)=>E(e,J(t));import{d as T,f as z,r as H,e as B,h as L,w as P,H as Y,u as g,a4 as ae,a5 as te,Y as m,a6 as u,ab as s,a9 as i,ac as Z,k as j,a7 as b,F as C,aa as _,E as h,ad as S,Z as F}from"./tinymce-vendor-3c2b3d6e.js";import{p as c}from"./index-37448b2d.js";import{useRuleFormItem as q}from"./useFormItem-613b6d5d.js";import{g as p,c as G,d as K}from"./areaDataUtil-bfcb9e4a.js";import{_ as M}from"./jeecg-online-vendor-f57c6456.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";import"./data-9be677e2.js";const Q=T({name:"JAreaSelect",props:{value:[Array,String],province:[String],city:[String],area:[String],level:c.number.def(3),disabled:c.bool.def(!1),codeField:c.string,size:c.string,placeholder:c.string,formValues:c.any,allowClear:c.bool.def(!1),getPopupContainer:{type:Function,default:e=>e==null?void 0:e.parentNode}},emits:["change","update:value","update:area","update:city","update:province"],setup(e,{emit:t,refs:r}){const k=z([]),a=H({province:"",city:"",area:""}),[o]=q(e,"value","change",k),d=B(()=>a.province?p(a.province):[]),v=B(()=>a.city?p(a.city):[]);L(()=>{e&&y()}),P(a,n=>{e.value||(t("update:province",a.province),t("update:city",a.city),t("update:area",a.area))});function y(){if(e.value)if(Array.isArray(e.value))a.province=e.value[0],a.city=e.value[1]?e.value[1]:"",a.area=e.value[2]?e.value[2]:"";else{let n=G(e.value,e.level);n&&(a.province=n[0],a.city=e.level>=2&&n[1]?n[1]:"",a.area=e.level>=3&&n[2]?n[2]:"")}else a.province=e.province?e.province:"",a.city=e.city?e.city:"",a.area=e.area?e.area:""}function l(n){var f,w;a.city=n&&((f=p(n)[0])==null?void 0:f.value),a.area=a.city&&((w=p(a.city)[0])==null?void 0:w.value),o.value=e.level<=1?n:e.level<=2?a.city:a.area,t("update:value",g(o))}function I(n){var f;a.area=n&&((f=p(n)[0])==null?void 0:f.value),o.value=e.level<=2?n:a.area,t("update:value",g(o))}function N(n){o.value=n,t("update:value",g(o))}return O($({},Y(a)),{provinceOptions:K,cityOptions:d,areaOptions:v,proChange:l,cityChange:I,areaChange:N})}});const W={class:"area-select"};function X(e,t,r,k,a,o){const d=m("a-select-option"),v=m("a-select"),y=m("a-form-item-rest");return u(),s(y,null,{default:i(()=>[Z("div",W,[j(v,{value:e.province,"onUpdate:value":t[0]||(t[0]=l=>e.province=l),onChange:e.proChange,allowClear:"",disabled:e.disabled},{default:i(()=>[(u(!0),b(C,null,_(e.provinceOptions,l=>(u(),s(d,{key:`${l.value}`,value:l.value},{default:i(()=>[h(S(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange","disabled"]),e.level>=2?(u(),s(v,{key:0,value:e.city,"onUpdate:value":t[1]||(t[1]=l=>e.city=l),onChange:e.cityChange,disabled:e.disabled},{default:i(()=>[(u(!0),b(C,null,_(e.cityOptions,l=>(u(),s(d,{key:`${l.value}`,value:l.value},{default:i(()=>[h(S(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange","disabled"])):F("",!0),e.level>=3?(u(),s(v,{key:1,value:e.area,"onUpdate:value":t[2]||(t[2]=l=>e.area=l),onChange:e.areaChange,disabled:e.disabled},{default:i(()=>[(u(!0),b(C,null,_(e.areaOptions,l=>(u(),s(d,{key:`${l.value}`,value:l.value},{default:i(()=>[h(S(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange","disabled"])):F("",!0)])]),_:1})}const se=M(Q,[["render",X],["__scopeId","data-v-b9ccd2bd"]]);export{se as default};
