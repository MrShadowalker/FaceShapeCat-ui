var x=(k,y,v)=>new Promise((_,c)=>{var U=d=>{try{a(v.next(d))}catch(b){c(b)}},j=d=>{try{a(v.throw(d))}catch(b){c(b)}},a=d=>d.done?_(d.value):Promise.resolve(d.value).then(U,j);a((v=v.apply(k,y)).next())});import{d as O,f as I,r as P,e as V,Y as i,a6 as L,ab as N,a9 as o,k as e,ae as f,u as p,n as q}from"./tinymce-vendor-3c2b3d6e.js";import{C as z,aM as G,_ as J}from"./jeecg-online-vendor-f57c6456.js";import{g as K}from"./depart.api-76b2f38a.js";import{a5 as Q}from"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";const S=O({__name:"EvAdjustForm",props:{formDisabled:{type:Boolean,default:!1},formData:{type:Object,default:()=>{}},formBpm:{type:Boolean,default:!0}},emits:["register","ok"],setup(k,{expose:y,emit:v}){const _=k,c=I(),U=Q.useForm,j=v,a=P({id:"",delFlag:"",remark:"",fromId:"",toId:"",goodsId:"",num:"",adjustTime:"",fromUserId:""}),{createMessage:d}=z(),b=I({xs:{span:24},sm:{span:5}}),F=I({xs:{span:24},sm:{span:16}}),w=I(!1),T={},{resetFields:D,validate:A,validateInfos:u}=U(a,T,{immediate:!0}),r=V(()=>_.formBpm===!0?_.formData.disabled!==!1:_.formDisabled);function B(){C({})}function C(g){q(()=>{D(),Object.assign(a,g)})}function M(){return x(this,null,function*(){yield A(),w.value=!0;const g=I(!1);let l=a;l.id&&(g.value=!0);for(let s in l)l[s]instanceof Array&&G(c.value.getProps,s)==="string"&&(l[s]=l[s].join(","));yield K(l,g.value).then(s=>{s.success?(d.success(s.message),j("ok")):d.warning(s.message)}).finally(()=>{w.value=!1})})}return y({add:B,edit:C,submitForm:M}),(g,l)=>{const s=i("a-input"),n=i("a-form-item"),m=i("a-col"),Y=i("a-date-picker"),E=i("a-row"),R=i("a-form"),H=i("a-spin");return L(),N(H,{spinning:w.value},{default:o(()=>[e(R,{ref_key:"formRef",ref:c,class:"antd-modal-form",labelCol:b.value,wrapperCol:F.value},{default:o(()=>[e(E,null,{default:o(()=>[e(m,{span:24},{default:o(()=>[e(n,f({label:"备注"},p(u).remark),{default:o(()=>[e(s,{value:a.remark,"onUpdate:value":l[0]||(l[0]=t=>a.remark=t),placeholder:"请输入备注",disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(m,{span:24},{default:o(()=>[e(n,f({label:"供货店铺"},p(u).fromId),{default:o(()=>[e(s,{value:a.fromId,"onUpdate:value":l[1]||(l[1]=t=>a.fromId=t),placeholder:"请输入供货店铺",disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(m,{span:24},{default:o(()=>[e(n,f({label:"收货店铺"},p(u).toId),{default:o(()=>[e(s,{value:a.toId,"onUpdate:value":l[2]||(l[2]=t=>a.toId=t),placeholder:"请输入收货店铺",disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(m,{span:24},{default:o(()=>[e(n,f({label:"商品"},p(u).goodsId),{default:o(()=>[e(s,{value:a.goodsId,"onUpdate:value":l[3]||(l[3]=t=>a.goodsId=t),placeholder:"请输入商品",disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(m,{span:24},{default:o(()=>[e(n,f({label:"数量"},p(u).num),{default:o(()=>[e(s,{value:a.num,"onUpdate:value":l[4]||(l[4]=t=>a.num=t),placeholder:"请输入数量",disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(m,{span:24},{default:o(()=>[e(n,f({label:"调货日期"},p(u).adjustTime),{default:o(()=>[e(Y,{placeholder:"请选择调货日期",value:a.adjustTime,"onUpdate:value":l[5]||(l[5]=t=>a.adjustTime=t),showTime:"","value-format":"YYYY-MM-DD HH:mm:ss",style:{width:"100%"},disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(m,{span:24},{default:o(()=>[e(n,f({label:"申请人"},p(u).fromUserId),{default:o(()=>[e(s,{value:a.fromUserId,"onUpdate:value":l[6]||(l[6]=t=>a.fromUserId=t),placeholder:"请输入申请人",disabled:r.value},null,8,["value","disabled"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["labelCol","wrapperCol"])]),_:1},8,["spinning"])}}});const ae=J(S,[["__scopeId","data-v-6f9c02d2"]]);export{ae as default};
