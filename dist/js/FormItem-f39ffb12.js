var ne=Object.defineProperty,ie=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var Y=(t,r,f)=>r in t?ne(t,r,{enumerable:!0,configurable:!0,writable:!0,value:f}):t[r]=f,h=(t,r)=>{for(var f in r||(r={}))le.call(r,f)&&Y(t,f,r[f]);if(z)for(var f of z(r))ce.call(r,f)&&Y(t,f,r[f]);return t},K=(t,r)=>ie(t,ae(r));import{e as L,u,d as ue,H as me,q as fe,A as pe,k as S,i as de,E as he,ae as X}from"./tinymce-vendor-3c2b3d6e.js";import{j as M,ac as be,aG as ge,z as Se,V as Pe,K as Ce,R as ye,F as te,ae as Je,ab as ke,af as Ie,G,H as xe,X as re,a7 as Q,d as Re,u as we,a5 as Ae}from"./antd-vue-vendor-05bfa84d.js";import Te from"./ApiRadioGroup-a1926fc5.js";import De from"./RadioButtonGroup-be3182af.js";import je from"./ApiSelect-a616c270.js";import Me from"./ApiTreeSelect-7ab64df4.js";import{B as _e}from"./index-2ad3f236.js";import{S as ve}from"./index-ee632f67.js";import{M as Fe,F as Ee,G as Ne,z as Z}from"./index-37448b2d.js";import{C as Oe}from"./index-b5f97370.js";import Le from"./JAreaLinkage-60ec0830.js";import Ge from"./JSelectUser-023ffd97.js";import $e from"./JSelectPosition-8ff0e3eb.js";import Ue from"./JSelectRole-2ca1ea2e.js";import Ve from"./JImageUpload-6faeac18.js";import Be from"./JDictSelectTag-74396fb4.js";import We from"./JSelectDept-26b8aabf.js";import qe from"./JAreaSelect-6943c821.js";import He from"./JEditor-72c28cfe.js";import ze from"./JMarkdownEditor-805e28d0.js";import Ye from"./JSelectInput-7c65dd59.js";import Ke from"./JCodeEditor-6267f178.js";import Xe from"./JCategorySelect-c14709b3.js";import Qe from"./JSelectMultiple-02863d2e.js";import Ze from"./JPopup-69f13ff9.js";import et from"./JSwitch-055650c4.js";import tt from"./JTreeDict-12c42977.js";import rt from"./JInputPop-9a107461.js";import ot from"./EasyCronInput-bc71f27e.js";import"./EasyCronInner-7db9d00a.js";import"./EasyCronModal-623f3973.js";import{C as st}from"./cron-parser-vendor-a4cfb0b0.js";import nt from"./JCheckbox-d99410ff.js";import it from"./JInput-32558d47.js";import at from"./JTreeSelect-e4ac4320.js";import lt from"./JEllipsis-fabea416.js";import ct from"./JSelectUserByDept-72a30e16.js";import{_ as ut}from"./JUpload-037dc399.js";import mt from"./JSearchSelect-220da3dc.js";import ft from"./JAddInput-dec0792b.js";import{T as pt}from"./index-3dc0c4fd.js";import dt from"./JRangeNumber-21c95c35.js";import ht from"./index-a68f2c34.js";import bt from"./JRangeDate-e8736b63.js";import gt from"./JRangeTime-687ea499.js";import St from"./RoleSelectInput-ad21fc36.js";import{B as oe,as as Cr,aO as yr,aq as se,v as R,at as O,ax as Pt}from"./jeecg-online-vendor-f57c6456.js";const Ct={validator({},t){if(!t)return Promise.resolve();const r=t.split(" ").filter(p=>!!p);if(r.length>7)return Promise.reject("Cron表达式最多7项！");let f=t;if(r.length===7){const p=r[6];if(p!=="*"&&p!=="?"){let J=[];if(p.indexOf("-")>=0?J=p.split("-"):p.indexOf("/")?J=p.split("/"):J=[p],J.some(b=>isNaN(Number(b))))return Promise.reject("Cron表达式参数[年]错误："+p)}f=r.slice(0,6).join(" ")}try{return st.parseExpression(f).next(),Promise.resolve()}catch(p){return Promise.reject("Cron表达式错误："+p)}}},Jr=Ct.validator,e=new Map;e.set("Time",pt);e.set("Input",M);e.set("InputGroup",M.Group);e.set("InputPassword",M.Password);e.set("InputSearch",M.Search);e.set("InputTextArea",M.TextArea);e.set("InputNumber",be);e.set("AutoComplete",ge);e.set("Select",Se);e.set("ApiSelect",je);e.set("TreeSelect",Pe);e.set("ApiTreeSelect",Me);e.set("ApiRadioGroup",Te);e.set("Switch",Ce);e.set("RadioButtonGroup",De);e.set("RadioGroup",ye.Group);e.set("Checkbox",te);e.set("CheckboxGroup",te.Group);e.set("Cascader",Je);e.set("Slider",ke);e.set("Rate",Ie);e.set("DatePicker",G);e.set("MonthPicker",G.MonthPicker);e.set("RangePicker",G.RangePicker);e.set("WeekPicker",G.WeekPicker);e.set("TimePicker",xe);e.set("StrengthMeter",ve);e.set("IconPicker",Fe);e.set("InputCountDown",Oe);e.set("Upload",_e);e.set("Divider",re);e.set("JAreaLinkage",Le);e.set("JSelectPosition",$e);e.set("JSelectUser",Ge);e.set("JSelectRole",Ue);e.set("JImageUpload",Ve);e.set("JDictSelectTag",Be);e.set("JSelectDept",We);e.set("JAreaSelect",qe);e.set("JEditor",He);e.set("JMarkdownEditor",ze);e.set("JSelectInput",Ye);e.set("JCodeEditor",Ke);e.set("JCategorySelect",Xe);e.set("JSelectMultiple",Qe);e.set("JPopup",Ze);e.set("JSwitch",et);e.set("JTreeDict",tt);e.set("JInputPop",rt);e.set("JEasyCron",ot);e.set("JCheckbox",nt);e.set("JInput",it);e.set("JTreeSelect",at);e.set("JEllipsis",lt);e.set("JSelectUserByDept",ct);e.set("JUpload",ut);e.set("JSearchSelect",mt);e.set("JAddInput",ft);e.set("JRangeNumber",dt);e.set("UserSelect",ht);e.set("RangeDate",bt);e.set("RangeTime",gt);e.set("RoleSelect",St);function kr(t,r){e.set(t,r)}function Ir(t){e.delete(t)}const{t:W}=oe();function ee(t){return t.includes("Input")||t.includes("Complete")?W("common.inputText"):t.includes("Picker")||t.includes("Select")||t.includes("Cascader")||t.includes("Checkbox")||t.includes("Radio")||t.includes("Switch")?W("common.chooseText"):""}const yt=["DatePicker","MonthPicker","WeekPicker","TimePicker"];function Jt(){return[...yt,"RangePicker"]}function kt(t,r,f){["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(r)?t.type=f?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(r)?t.type="array":["InputNumber"].includes(r)&&(t.type="number")}function xr(t,r){return t&&["Input","InputPassword","InputSearch","InputTextArea"].includes(t)&&r&&se(r)?`${r}`:r}function Rr(t,r){return t&&["InputNumber"].includes(t)&&typeof r=="string"?Number(r):r}const wr=Jt();function It(t,r){return L(()=>{const f=u(t),{labelCol:p={},wrapperCol:J={}}=f.itemProps||{},{labelWidth:j,disabledLabelWidth:b}=f,{labelWidth:w,labelCol:_,wrapperCol:v,layout:$}=u(r);if(b)return{labelCol:p,wrapperCol:J};if(!w&&!j&&!_)return p.style={textAlign:"left"},{labelCol:p,wrapperCol:J};let k=j||w;const F=h(h({},_),p),U=h(h({},v),J);return k&&(k=se(k)?`${k}px`:k),{labelCol:h({style:{width:k||"100%"}},F),wrapperCol:h({style:{width:$==="vertical"?"100%":`calc(100% - ${k})`}},U)}})}function q(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!de(t)}const xt=ue({name:"BasicFormItem",inheritAttrs:!1,props:{schema:{type:Object,default:()=>({})},formProps:{type:Object,default:()=>({})},allDefaultValues:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},setFormModel:{type:Function,default:null},validateFields:{type:Function,default:null},tableAction:{type:Object},formActionType:{type:Object}},setup(t,{slots:r}){const{t:f}=oe(),{schema:p,formProps:J}=me(t),j=It(p,J),b=L(()=>{const{allDefaultValues:s,formModel:o,schema:a}=t,{mergeDynamicData:m}=t.formProps;return{field:a.field,model:o,values:h(h(h({},m),s),o),schema:a}}),w=L(()=>{var l;const{schema:s,tableAction:o,formModel:a,formActionType:m}=t;let{componentProps:n={}}=s;return R(n)&&(n=(l=n({schema:s,tableAction:o,formModel:a,formActionType:m}))!=null?l:{}),s.component==="Divider"&&(n=Object.assign({type:"horizontal",orientation:"left",plain:!0},n)),n}),_=L(()=>{const{disabled:s}=t.formProps,{dynamicDisabled:o}=t.schema,{disabled:a=!1}=u(w);let m=!!s||a;return O(o)&&(m=o),R(o)&&(m=o(u(b))),m});function v(){const{show:s,ifShow:o}=t.schema,{showAdvancedButton:a}=t.formProps,m=a&&O(t.schema.isAdvanced)?t.schema.isAdvanced:!0;let n=!0,l=!0;return O(s)&&(n=s),O(o)&&(l=o),R(s)&&(n=s(u(b))),R(o)&&(l=o(u(b))),n=n&&m,{isShow:n,isIfShow:l}}function $(){var V;const{rules:s=[],component:o,rulesMessageJoinLabel:a,label:m,dynamicRules:n,required:l}=t.schema;if(R(n))return n(u(b));let d=Re(s);const{rulesMessageJoinLabel:P}=t.formProps,g=Reflect.has(t.schema,"rulesMessageJoinLabel")?a:P,y=ee(o)+`${g?m:""}`;function I(i,c){const x=i.message||y;return c===void 0||Pt(c)||Array.isArray(c)&&c.length===0||typeof c=="string"&&c.trim()===""||typeof c=="object"&&Reflect.has(c,"checked")&&Reflect.has(c,"halfChecked")&&Array.isArray(c.checked)&&Array.isArray(c.halfChecked)&&c.checked.length===0&&c.halfChecked.length===0?Promise.reject(x):Promise.resolve()}const A=R(l)?l(u(b)):l;(!d||d.length===0)&&A&&(d=[{required:A,validator:I}]);const T=d.findIndex(i=>Reflect.has(i,"required")&&!Reflect.has(i,"validator"));if(T!==-1){const i=d[T],{isShow:c}=v();if(c||(i.required=!1),o){Reflect.has(i,"type")||(i.type=o==="InputNumber"?"number":"string"),i.message=i.message||y,(o.includes("Input")||o.includes("Textarea"))&&(i.whitespace=!0);const x=(V=u(w))==null?void 0:V.valueFormat;kt(i,o,x)}}const C=d.findIndex(i=>i.max);return C!==-1&&!d[C].validator&&(d[C].message=d[C].message||f("component.form.maxTip",[d[C].max])),d.forEach(i=>{if(typeof i.pattern=="string")try{const c=new Function("item",`return ${i.pattern}`)(i);Object.prototype.toString.call(c)==="[object RegExp]"?i.pattern=c:i.pattern=new RegExp(i.pattern)}catch(c){i.pattern=new RegExp(i.pattern)}}),d}function k(){var H;const{renderComponentContent:s,component:o,field:a,changeEvent:m="change",valueField:n,componentProps:l}=t.schema,d=o&&["Switch","Checkbox"].includes(o);let P=!1;o==="Input"&&l&&l.trim&&(P=!0);const g=`on${we(m)}`,y={[g]:(...D)=>{const[B]=D;C[g]&&C[g](...D);const E=B?B.target:null;let N;E?d?N=E.checked:N=P?E.value.trim():E.value:N=B,t.setFormModel(a,N)}},I=e.get(o),{autoSetPlaceHolder:A,size:T}=t.formProps,C=K(h({allowClear:!0,getPopupContainer:D=>D==null?void 0:D.parentNode,size:T},u(w)),{disabled:u(_)});!C.disabled&&A&&o!=="RangePicker"&&o&&(C.placeholder=((H=u(w))==null?void 0:H.placeholder)||ee(o)+t.schema.label),C.codeField=a,C.formValues=u(b);const i={[n||(d?"checked":"value")]:t.formModel[a]},c=h(h(h({},C),y),i);if(!s)return S(I,c,null);const x=R(s)?h({},s(u(b))):{default:()=>s};return S(I,c,q(x)?x:{default:()=>[x]})}function F(){const{label:s,helpMessage:o,helpComponentProps:a,subLabel:m,labelLength:n}=t.schema;let l=s+"";n&&l.length>4&&(l=l.substr(0,n));const P=m?S("span",null,[s,he(" "),S("span",{class:"text-secondary"},[m])]):n?S("label",{title:s},[l]):s,g=R(o)?o(u(b)):o;return!g||Array.isArray(g)&&g.length===0?P:S("span",null,[P,S(Ne,X({placement:"top",class:"mx-1",text:g},a),null)])}function U(){const{itemProps:s,slot:o,render:a,field:m,suffix:n,component:l}=t.schema,{labelCol:d,wrapperCol:P}=u(j),{colon:g}=t.formProps;if(l==="Divider"){let y;return S(Q,{span:24},{default:()=>[S(re,u(w),q(y=F())?y:{default:()=>[y]})]})}else{const y=()=>o?Z(r,o,u(b)):a?a(u(b)):k(),I=!!n,A=R(n)?n(u(b)):n;return S(Ae.Item,X({name:m,colon:g,class:{"suffix-item":I}},s,{label:F(),rules:$(),labelCol:d,wrapperCol:P}),{default:()=>[S("div",{style:"display:flex"},[S("div",{style:"flex:1; width: 100%;"},[y()]),I&&S("span",{class:"suffix"},[A])])]})}}return()=>{let s;const{colProps:o={},colSlot:a,renderColContent:m,component:n}=t.schema;if(!e.has(n))return null;const{baseColProps:l={}}=t.formProps,{getIsMobile:d}=Ee();let P;P=h(h({},l),o),o.span&&!u(d)&&["xs","sm","md","lg","xl","xxl"].forEach(T=>delete P[T]);const{isIfShow:g,isShow:y}=v(),I=u(b);return g&&fe(S(Q,P,q(s=(()=>a?Z(r,a,I):m?m(I):U())())?s:{default:()=>[s]}),[[pe,y]])}}}),Ar=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"}));export{Ar as F,xt as _,kr as a,Rr as b,wr as c,Ir as d,xr as h};
