import{d as q,f as d,o as S,w as C,Y as m,a6 as f,ab as v,a9 as h,a7 as b,F as P,aa as w,E as B,ad as M}from"./tinymce-vendor-3c2b3d6e.js";import{useRuleFormItem as j}from"./useFormItem-613b6d5d.js";import{p as c,U as k}from"./index-37448b2d.js";import{ar as D,C as $,_ as A}from"./jeecg-online-vendor-f57c6456.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";const{createMessage:R,createErrorModal:U}=$(),E=q({name:"JSelectMultiple",components:{},inheritAttrs:!1,props:{value:c.oneOfType([c.string,c.array]),placeholder:{type:String,default:"请选择",required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,default:()=>[],required:!1},triggerChange:{type:Boolean,required:!1,default:!0},spliter:{type:String,required:!1,default:","},popContainer:{type:String,default:"",required:!1},dictCode:{type:String,required:!1},disabled:{type:Boolean,default:!1}},emits:["options-change","change","input","update:value"],setup(e,{emit:n,refs:y}){const p=d([]),o=d(e.value?e.value.split(e.spliter):[]),a=d([]),i=D(),[s]=j(e,"value","change",p);S(()=>{e.dictCode?O():a.value=e.options}),C(()=>e.value,t=>{t?o.value=e.value.split(e.spliter):o.value=[]}),C(()=>e.options,()=>{e.dictCode||(a.value=e.options)});function l(t){e.triggerChange?(n("change",t.join(e.spliter)),n("update:value",t.join(e.spliter))):(n("input",t.join(e.spliter)),n("update:value",t.join(e.spliter)))}function u(t){return e.popContainer?document.querySelector(e.popContainer):t==null?void 0:t.parentNode}function O(){let t=e.dictCode||"";t.indexOf(",")>0&&t.indexOf(" ")>0&&(t=encodeURI(t)),k(t).then(r=>{r?a.value=r.map(g=>({value:g.value,label:g.text})):a.value=[]})}function _(t,r){return r.children()[0].children.toLowerCase().indexOf(t.toLowerCase())>=0}return{state:s,attrs:i,dictOptions:a,onChange:l,arrayValue:o,getParentContainer:u,filterOption:_}}});function F(e,n,y,p,o,a){const i=m("a-select-option"),s=m("a-select");return f(),v(s,{value:e.arrayValue,onChange:e.onChange,mode:"multiple","filter-option":e.filterOption,disabled:e.disabled,placeholder:e.placeholder,allowClear:"",getPopupContainer:e.getParentContainer},{default:h(()=>[(f(!0),b(P,null,w(e.dictOptions,(l,u)=>(f(),v(i,{key:u,getPopupContainer:e.getParentContainer,value:l.value},{default:h(()=>[B(M(l.text||l.label),1)]),_:2},1032,["getPopupContainer","value"]))),128))]),_:1},8,["value","onChange","filter-option","disabled","placeholder","getPopupContainer"])}const Y=A(E,[["render",F]]);export{Y as default};
