var l=(o,u,t)=>new Promise((p,s)=>{var d=e=>{try{r(t.next(e))}catch(a){s(a)}},n=e=>{try{r(t.throw(e))}catch(a){s(a)}},r=e=>e.done?p(e.value):Promise.resolve(e.value).then(d,n);r((t=t.apply(o,u)).next())});import{d as k,e as C,a4 as N,a5 as V,Y as i,a6 as B,ab as F,a9 as m,k as c,ac as A,E as _}from"./tinymce-vendor-3c2b3d6e.js";import b from"./CurrentPermissionMode-75376aed.js";import{u as P,h as g,F as D,b9 as M,_ as v}from"./jeecg-online-vendor-f57c6456.js";import{q as h}from"./index-37448b2d.js";import{P as S}from"./index-31a6ff64.js";import{A as w}from"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";import"./useContentHeight-bfd1eb89.js";import"./useWindowSizeFn-e63bb4b0.js";import"./useContentViewHeight-6be29838.js";import"./usePageContext-b7687fba.js";import"./injectionKey-69710956.js";const T=k({components:{Alert:w,CurrentPermissionMode:b,PageWrapper:S},setup(){const{refreshMenu:o}=h(),u=P(),t=g(),p=C(()=>t.getProjectConfig.permissionMode===D.BACK);function s(d){return l(this,null,function*(){const n="fakeToken"+d;u.setToken(n),u.getUserInfoAction(),o()})}return{RoleEnum:M,refreshMenu:o,switchToken:s,isBackPremissionMode:p}}});const $={class:"mt-4"};function y(o,u,t,p,s,d){const n=i("CurrentPermissionMode"),r=i("Alert"),e=i("a-button"),a=i("a-button-group"),E=i("PageWrapper");return B(),F(E,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:m(()=>[c(n),c(r,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),A("div",$,[_(" 权限切换(请先切换权限模式为后台权限模式): "),c(a,null,{default:m(()=>[c(e,{onClick:u[0]||(u[0]=f=>o.switchToken(1)),disabled:!o.isBackPremissionMode},{default:m(()=>[_(" 获取用户id为1的菜单 ")]),_:1},8,["disabled"]),c(e,{onClick:u[1]||(u[1]=f=>o.switchToken(2)),disabled:!o.isBackPremissionMode},{default:m(()=>[_(" 获取用户id为2的菜单 ")]),_:1},8,["disabled"])]),_:1})])]),_:1})}const L=v(T,[["render",y],["__scopeId","data-v-e4c6395b"]]);export{L as default};
