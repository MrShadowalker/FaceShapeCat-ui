var d=(u,a,e)=>new Promise((p,m)=>{var F=t=>{try{o(e.next(t))}catch(s){m(s)}},c=t=>{try{o(e.throw(t))}catch(s){m(s)}},o=t=>t.done?p(t.value):Promise.resolve(t.value).then(F,c);o((e=e.apply(u,a)).next())});import{d as f,ac as B,Y as i,a6 as C,ab as E,a9 as n,k as r,E as l}from"./tinymce-vendor-3c2b3d6e.js";import{P as k}from"./index-31a6ff64.js";import{ap as A,u as D,_ as T}from"./jeecg-online-vendor-f57c6456.js";import{L as _}from"./antd-vue-vendor-05bfa84d.js";import"./index-37448b2d.js";import"./vxe-table-vendor-26792376.js";import"./useContentHeight-bfd1eb89.js";import"./useWindowSizeFn-e63bb4b0.js";import"./useContentViewHeight-6be29838.js";import"./usePageContext-b7687fba.js";import"./injectionKey-69710956.js";const g=()=>A.post({url:"/mock/user/tokenExpired"}),x=f({name:"TestSessionTimeout",components:{ACardGrid:_.Grid,ACard:_,PageWrapper:k},setup(){const u=D();function a(){return d(this,null,function*(){u.setToken(void 0),u.setSessionTimeout(!0)})}function e(){return d(this,null,function*(){try{yield g()}catch(p){}})}return{test1:a,test2:e}}}),y=B("span",null,null,-1);function S(u,a,e,p,m,F){const c=i("a-button"),o=i("a-card-grid"),t=i("a-card"),s=i("PageWrapper");return C(),E(s,{title:"登录过期示例",content:"用户登录过期示例，不再跳转登录页，直接生成页面覆盖当前页面，方便保持过期前的用户状态！"},{default:n(()=>[r(t,{title:"请点击下面的按钮访问测试接口",extra:"所访问的接口会返回Token过期响应"},{default:n(()=>[r(o,{style:{width:"50%","text-align":"center"}},{default:n(()=>[r(c,{type:"primary",onClick:u.test1},{default:n(()=>[l("HttpStatus == 401")]),_:1},8,["onClick"])]),_:1}),r(o,{style:{width:"50%","text-align":"center"}},{default:n(()=>[y,r(c,{class:"ml-4",type:"primary",onClick:u.test2},{default:n(()=>[l("Response.code == 401")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const G=T(x,[["render",S]]);export{G as default};
