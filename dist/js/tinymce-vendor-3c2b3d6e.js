var MZ=Object.defineProperty,UZ=Object.defineProperties;var HZ=Object.getOwnPropertyDescriptors;var Jf=Object.getOwnPropertySymbols;var HA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable;var UA=(i,c,f)=>c in i?MZ(i,c,{enumerable:!0,configurable:!0,writable:!0,value:f}):i[c]=f,Oe=(i,c)=>{for(var f in c||(c={}))HA.call(c,f)&&UA(i,f,c[f]);if(Jf)for(var f of Jf(c))zA.call(c,f)&&UA(i,f,c[f]);return i},yt=(i,c)=>UZ(i,HZ(c));var VA=(i,c)=>{var f={};for(var p in i)HA.call(i,p)&&c.indexOf(p)<0&&(f[p]=i[p]);if(i!=null&&Jf)for(var p of Jf(i))c.indexOf(p)<0&&zA.call(i,p)&&(f[p]=i[p]);return f};var jA=(i,c,f)=>new Promise((p,h)=>{var b=N=>{try{x(f.next(N))}catch(D){h(D)}},C=N=>{try{x(f.throw(N))}catch(D){h(D)}},x=N=>N.done?p(N.value):Promise.resolve(N.value).then(b,C);x((f=f.apply(i,c)).next())});function Tl(i,c){const f=Object.create(null),p=i.split(",");for(let h=0;h<p.length;h++)f[p[h]]=!0;return c?h=>!!f[h.toLowerCase()]:h=>!!f[h]}const Bt={},Ca=[],Us=()=>{},zZ=()=>!1,Al=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Gb=i=>i.startsWith("onUpdate:"),jt=Object.assign,Yb=(i,c)=>{const f=i.indexOf(c);f>-1&&i.splice(f,1)},VZ=Object.prototype.hasOwnProperty,St=(i,c)=>VZ.call(i,c),ze=Array.isArray,Ea=i=>Ra(i)==="[object Map]",wi=i=>Ra(i)==="[object Set]",WA=i=>Ra(i)==="[object Date]",jZ=i=>Ra(i)==="[object RegExp]",et=i=>typeof i=="function",Wt=i=>typeof i=="string",dr=i=>typeof i=="symbol",Pt=i=>i!==null&&typeof i=="object",Xb=i=>(Pt(i)||et(i))&&et(i.then)&&et(i.catch),$R=Object.prototype.toString,Ra=i=>$R.call(i),WZ=i=>Ra(i).slice(8,-1),FR=i=>Ra(i)==="[object Object]",Zb=i=>Wt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,fl=Tl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");const Nd=i=>{const c=Object.create(null);return f=>c[f]||(c[f]=i(f))},KZ=/-(\w)/g,Yn=Nd(i=>i.replace(KZ,(c,f)=>f?f.toUpperCase():"")),qZ=/\B([A-Z])/g,Ss=Nd(i=>i.replace(qZ,"-$1").toLowerCase()),Rl=Nd(i=>i.charAt(0).toUpperCase()+i.slice(1)),dl=Nd(i=>i?`on${Rl(i)}`:""),pr=(i,c)=>!Object.is(i,c),wa=(i,c)=>{for(let f=0;f<i.length;f++)i[f](c)},pd=(i,c,f)=>{Object.defineProperty(i,c,{configurable:!0,enumerable:!1,value:f})},md=i=>{const c=parseFloat(i);return isNaN(c)?i:c},gd=i=>{const c=Wt(i)?Number(i):NaN;return isNaN(c)?i:c};let KA;const Rb=()=>KA||(KA=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});const GZ="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",YZ=Tl(GZ);function Pl(i){if(ze(i)){const c={};for(let f=0;f<i.length;f++){const p=i[f],h=Wt(p)?QZ(p):Pl(p);if(h)for(const b in h)c[b]=h[b]}return c}else if(Wt(i)||Pt(i))return i}const XZ=/;(?![^(]*\))/g,ZZ=/:([^]+)/,JZ=/\/\*[^]*?\*\//g;function QZ(i){const c={};return i.replace(JZ,"").split(XZ).forEach(f=>{if(f){const p=f.split(ZZ);p.length>1&&(c[p[0].trim()]=p[1].trim())}}),c}function Ol(i){let c="";if(Wt(i))c=i;else if(ze(i))for(let f=0;f<i.length;f++){const p=Ol(i[f]);p&&(c+=p+" ")}else if(Pt(i))for(const f in i)i[f]&&(c+=f+" ");return c.trim()}function eJ(i){if(!i)return null;let{class:c,style:f}=i;return c&&!Wt(c)&&(i.class=Ol(c)),f&&(i.style=Pl(f)),i}const LR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tJ=Tl(LR),wne=Tl(LR+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function MR(i){return!!i||i===""}function nJ(i,c){if(i.length!==c.length)return!1;let f=!0;for(let p=0;f&&p<i.length;p++)f=mr(i[p],c[p]);return f}function mr(i,c){if(i===c)return!0;let f=WA(i),p=WA(c);if(f||p)return f&&p?i.getTime()===c.getTime():!1;if(f=dr(i),p=dr(c),f||p)return i===c;if(f=ze(i),p=ze(c),f||p)return f&&p?nJ(i,c):!1;if(f=Pt(i),p=Pt(c),f||p){if(!f||!p)return!1;const h=Object.keys(i).length,b=Object.keys(c).length;if(h!==b)return!1;for(const C in i){const x=i.hasOwnProperty(C),N=c.hasOwnProperty(C);if(x&&!N||!x&&N||!mr(i[C],c[C]))return!1}}return String(i)===String(c)}function Td(i,c){return i.findIndex(f=>mr(f,c))}const sJ=i=>Wt(i)?i:i==null?"":ze(i)||Pt(i)&&(i.toString===$R||!et(i.toString))?JSON.stringify(i,UR,2):String(i),UR=(i,c)=>c&&c.__v_isRef?UR(i,c.value):Ea(c)?{[`Map(${c.size})`]:[...c.entries()].reduce((f,[p,h],b)=>(f[Cb(p,b)+" =>"]=h,f),{})}:wi(c)?{[`Set(${c.size})`]:[...c.values()].map(f=>Cb(f))}:dr(c)?Cb(c):Pt(c)&&!ze(c)&&!FR(c)?String(c):c,Cb=(i,c="")=>{var f;return dr(i)?`Symbol(${(f=i.description)!=null?f:c})`:i};let ls;class Jb{constructor(c=!1){this.detached=c,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ls,!c&&ls&&(this.index=(ls.scopes||(ls.scopes=[])).push(this)-1)}get active(){return this._active}run(c){if(this._active){const f=ls;try{return ls=this,c()}finally{ls=f}}}on(){ls=this}off(){ls=this.parent}stop(c){if(this._active){let f,p;for(f=0,p=this.effects.length;f<p;f++)this.effects[f].stop();for(f=0,p=this.cleanups.length;f<p;f++)this.cleanups[f]();if(this.scopes)for(f=0,p=this.scopes.length;f<p;f++)this.scopes[f].stop(!0);if(!this.detached&&this.parent&&!c){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function oJ(i){return new Jb(i)}function HR(i,c=ls){c&&c.active&&c.effects.push(i)}function zR(){return ls}function rJ(i){ls&&ls.cleanups.push(i)}const Qb=i=>{const c=new Set(i);return c.w=0,c.n=0,c},VR=i=>(i.w&gr)>0,jR=i=>(i.n&gr)>0,iJ=({deps:i})=>{if(i.length)for(let c=0;c<i.length;c++)i[c].w|=gr},aJ=i=>{const{deps:c}=i;if(c.length){let f=0;for(let p=0;p<c.length;p++){const h=c[p];VR(h)&&!jR(h)?h.delete(i):c[f++]=h,h.w&=~gr,h.n&=~gr}c.length=f}},hd=new WeakMap;let cl=0,gr=1;const Pb=30;let Ls;const gi=Symbol(""),Ob=Symbol("");class xa{constructor(c,f=null,p){this.fn=c,this.scheduler=f,this.active=!0,this.deps=[],this.parent=void 0,HR(this,p)}run(){if(!this.active)return this.fn();let c=Ls,f=lr;for(;c;){if(c===this)return;c=c.parent}try{return this.parent=Ls,Ls=this,lr=!0,gr=1<<++cl,cl<=Pb?iJ(this):qA(this),this.fn()}finally{cl<=Pb&&aJ(this),gr=1<<--cl,Ls=this.parent,lr=f,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ls===this?this.deferStop=!0:this.active&&(qA(this),this.onStop&&this.onStop(),this.active=!1)}}function qA(i){const{deps:c}=i;if(c.length){for(let f=0;f<c.length;f++)c[f].delete(i);c.length=0}}function cJ(i,c){i.effect instanceof xa&&(i=i.effect.fn);const f=new xa(i);c&&(jt(f,c),c.scope&&HR(f,c.scope)),(!c||!c.lazy)&&f.run();const p=f.run.bind(f);return p.effect=f,p}function lJ(i){i.effect.stop()}let lr=!0;const WR=[];function _i(){WR.push(lr),lr=!1}function Si(){const i=WR.pop();lr=i===void 0?!0:i}function Xn(i,c,f){if(lr&&Ls){let p=hd.get(i);p||hd.set(i,p=new Map);let h=p.get(f);h||p.set(f,h=Qb()),KR(h,void 0)}}function KR(i,c){let f=!1;cl<=Pb?jR(i)||(i.n|=gr,f=!VR(i)):f=!i.has(Ls),f&&(i.add(Ls),Ls.deps.push(i))}function Po(i,c,f,p,h,b){const C=hd.get(i);if(!C)return;let x=[];if(c==="clear")x=[...C.values()];else if(f==="length"&&ze(i)){const D=Number(p);C.forEach((W,$)=>{($==="length"||!dr($)&&$>=D)&&x.push(W)})}else switch(f!==void 0&&x.push(C.get(f)),c){case"add":ze(i)?Zb(f)&&x.push(C.get("length")):(x.push(C.get(gi)),Ea(i)&&x.push(C.get(Ob)));break;case"delete":ze(i)||(x.push(C.get(gi)),Ea(i)&&x.push(C.get(Ob)));break;case"set":Ea(i)&&x.push(C.get(gi));break}const N=void 0;if(x.length===1)x[0]&&Db(x[0]);else{const D=[];for(const W of x)W&&D.push(...W);Db(Qb(D))}}function Db(i,c){const f=ze(i)?i:[...i];for(const p of f)p.computed&&GA(p,c);for(const p of f)p.computed||GA(p,c)}function GA(i,c){(i!==Ls||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}function uJ(i,c){var f;return(f=hd.get(i))==null?void 0:f.get(c)}const fJ=Tl("__proto__,__v_isRef,__isVue"),qR=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(dr)),YA=dJ();function dJ(){const i={};return["includes","indexOf","lastIndexOf"].forEach(c=>{i[c]=function(...f){const p=mt(this);for(let b=0,C=this.length;b<C;b++)Xn(p,"get",b+"");const h=p[c](...f);return h===-1||h===!1?p[c](...f.map(mt)):h}}),["push","pop","shift","unshift","splice"].forEach(c=>{i[c]=function(...f){_i();const p=mt(this)[c].apply(this,f);return Si(),p}}),i}function pJ(i){const c=mt(this);return Xn(c,"has",i),c.hasOwnProperty(i)}class GR{constructor(c=!1,f=!1){this._isReadonly=c,this._shallow=f}get(c,f,p){const h=this._isReadonly,b=this._shallow;if(f==="__v_isReactive")return!h;if(f==="__v_isReadonly")return h;if(f==="__v_isShallow")return b;if(f==="__v_raw")return p===(h?b?eP:QR:b?JR:ZR).get(c)||Object.getPrototypeOf(c)===Object.getPrototypeOf(p)?c:void 0;const C=ze(c);if(!h){if(C&&St(YA,f))return Reflect.get(YA,f,p);if(f==="hasOwnProperty")return pJ}const x=Reflect.get(c,f,p);return(dr(f)?qR.has(f):fJ(f))||(h||Xn(c,"get",f),b)?x:sn(x)?C&&Zb(f)?x:x.value:Pt(x)?h?ty(x):Pd(x):x}}class YR extends GR{constructor(c=!1){super(!1,c)}set(c,f,p,h){let b=c[f];if(Oo(b)&&sn(b)&&!sn(p))return!1;if(!this._shallow&&(!vl(p)&&!Oo(p)&&(b=mt(b),p=mt(p)),!ze(c)&&sn(b)&&!sn(p)))return b.value=p,!0;const C=ze(c)&&Zb(f)?Number(f)<c.length:St(c,f),x=Reflect.set(c,f,p,h);return c===mt(h)&&(C?pr(p,b)&&Po(c,"set",f,p,b):Po(c,"add",f,p)),x}deleteProperty(c,f){const p=St(c,f),h=c[f],b=Reflect.deleteProperty(c,f);return b&&p&&Po(c,"delete",f,void 0,h),b}has(c,f){const p=Reflect.has(c,f);return(!dr(f)||!qR.has(f))&&Xn(c,"has",f),p}ownKeys(c){return Xn(c,"iterate",ze(c)?"length":gi),Reflect.ownKeys(c)}}class XR extends GR{constructor(c=!1){super(!0,c)}set(c,f){return!0}deleteProperty(c,f){return!0}}const mJ=new YR,gJ=new XR,hJ=new YR(!0),bJ=new XR(!0),ey=i=>i,Ad=i=>Reflect.getPrototypeOf(i);function Qf(i,c,f=!1,p=!1){i=i.__v_raw;const h=mt(i),b=mt(c);f||(pr(c,b)&&Xn(h,"get",c),Xn(h,"get",b));const{has:C}=Ad(h),x=p?ey:f?oy:Cl;if(C.call(h,c))return x(i.get(c));if(C.call(h,b))return x(i.get(b));i!==h&&i.get(c)}function ed(i,c=!1){const f=this.__v_raw,p=mt(f),h=mt(i);return c||(pr(i,h)&&Xn(p,"has",i),Xn(p,"has",h)),i===h?f.has(i):f.has(i)||f.has(h)}function td(i,c=!1){return i=i.__v_raw,!c&&Xn(mt(i),"iterate",gi),Reflect.get(i,"size",i)}function XA(i){i=mt(i);const c=mt(this);return Ad(c).has.call(c,i)||(c.add(i),Po(c,"add",i,i)),this}function ZA(i,c){c=mt(c);const f=mt(this),{has:p,get:h}=Ad(f);let b=p.call(f,i);b||(i=mt(i),b=p.call(f,i));const C=h.call(f,i);return f.set(i,c),b?pr(c,C)&&Po(f,"set",i,c,C):Po(f,"add",i,c),this}function JA(i){const c=mt(this),{has:f,get:p}=Ad(c);let h=f.call(c,i);h||(i=mt(i),h=f.call(c,i));const b=p?p.call(c,i):void 0,C=c.delete(i);return h&&Po(c,"delete",i,void 0,b),C}function QA(){const i=mt(this),c=i.size!==0,f=void 0,p=i.clear();return c&&Po(i,"clear",void 0,void 0,f),p}function nd(i,c){return function(p,h){const b=this,C=b.__v_raw,x=mt(C),N=c?ey:i?oy:Cl;return!i&&Xn(x,"iterate",gi),C.forEach((D,W)=>p.call(h,N(D),N(W),b))}}function sd(i,c,f){return function(...p){const h=this.__v_raw,b=mt(h),C=Ea(b),x=i==="entries"||i===Symbol.iterator&&C,N=i==="keys"&&C,D=h[i](...p),W=f?ey:c?oy:Cl;return!c&&Xn(b,"iterate",N?Ob:gi),{next(){const{value:$,done:K}=D.next();return K?{value:$,done:K}:{value:x?[W($[0]),W($[1])]:W($),done:K}},[Symbol.iterator](){return this}}}}function sr(i){return function(...c){return i==="delete"?!1:i==="clear"?void 0:this}}function yJ(){const i={get(b){return Qf(this,b)},get size(){return td(this)},has:ed,add:XA,set:ZA,delete:JA,clear:QA,forEach:nd(!1,!1)},c={get(b){return Qf(this,b,!1,!0)},get size(){return td(this)},has:ed,add:XA,set:ZA,delete:JA,clear:QA,forEach:nd(!1,!0)},f={get(b){return Qf(this,b,!0)},get size(){return td(this,!0)},has(b){return ed.call(this,b,!0)},add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear"),forEach:nd(!0,!1)},p={get(b){return Qf(this,b,!0,!0)},get size(){return td(this,!0)},has(b){return ed.call(this,b,!0)},add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear"),forEach:nd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(b=>{i[b]=sd(b,!1,!1),f[b]=sd(b,!0,!1),c[b]=sd(b,!1,!0),p[b]=sd(b,!0,!0)}),[i,f,c,p]}const[vJ,CJ,EJ,wJ]=yJ();function Rd(i,c){const f=c?i?wJ:EJ:i?CJ:vJ;return(p,h,b)=>h==="__v_isReactive"?!i:h==="__v_isReadonly"?i:h==="__v_raw"?p:Reflect.get(St(f,h)&&h in p?f:p,h,b)}const _J={get:Rd(!1,!1)},SJ={get:Rd(!1,!0)},xJ={get:Rd(!0,!1)},kJ={get:Rd(!0,!0)};const ZR=new WeakMap,JR=new WeakMap,QR=new WeakMap,eP=new WeakMap;function NJ(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TJ(i){return i.__v_skip||!Object.isExtensible(i)?0:NJ(WZ(i))}function Pd(i){return Oo(i)?i:Od(i,!1,mJ,_J,ZR)}function tP(i){return Od(i,!1,hJ,SJ,JR)}function ty(i){return Od(i,!0,gJ,xJ,QR)}function AJ(i){return Od(i,!0,bJ,kJ,eP)}function Od(i,c,f,p,h){if(!Pt(i)||i.__v_raw&&!(c&&i.__v_isReactive))return i;const b=h.get(i);if(b)return b;const C=TJ(i);if(C===0)return i;const x=new Proxy(i,C===2?p:f);return h.set(i,x),x}function ur(i){return Oo(i)?ur(i.__v_raw):!!(i&&i.__v_isReactive)}function Oo(i){return!!(i&&i.__v_isReadonly)}function vl(i){return!!(i&&i.__v_isShallow)}function ny(i){return ur(i)||Oo(i)}function mt(i){const c=i&&i.__v_raw;return c?mt(c):i}function sy(i){return pd(i,"__v_skip",!0),i}const Cl=i=>Pt(i)?Pd(i):i,oy=i=>Pt(i)?ty(i):i;function ry(i){lr&&Ls&&(i=mt(i),KR(i.dep||(i.dep=Qb())))}function Dd(i,c){i=mt(i);const f=i.dep;f&&Db(f)}function sn(i){return!!(i&&i.__v_isRef===!0)}function hi(i){return nP(i,!1)}function RJ(i){return nP(i,!0)}function nP(i,c){return sn(i)?i:new PJ(i,c)}class PJ{constructor(c,f){this.__v_isShallow=f,this.dep=void 0,this.__v_isRef=!0,this._rawValue=f?c:mt(c),this._value=f?c:Cl(c)}get value(){return ry(this),this._value}set value(c){const f=this.__v_isShallow||vl(c)||Oo(c);c=f?c:mt(c),pr(c,this._rawValue)&&(this._rawValue=c,this._value=f?c:Cl(c),Dd(this,c))}}function OJ(i){Dd(i,void 0)}function iy(i){return sn(i)?i.value:i}function DJ(i){return et(i)?i():iy(i)}const BJ={get:(i,c,f)=>iy(Reflect.get(i,c,f)),set:(i,c,f,p)=>{const h=i[c];return sn(h)&&!sn(f)?(h.value=f,!0):Reflect.set(i,c,f,p)}};function ay(i){return ur(i)?i:new Proxy(i,BJ)}class IJ{constructor(c){this.dep=void 0,this.__v_isRef=!0;const{get:f,set:p}=c(()=>ry(this),()=>Dd(this));this._get=f,this._set=p}get value(){return this._get()}set value(c){this._set(c)}}function $J(i){return new IJ(i)}function sP(i){const c=ze(i)?new Array(i.length):{};for(const f in i)c[f]=oP(i,f);return c}class FJ{constructor(c,f,p){this._object=c,this._key=f,this._defaultValue=p,this.__v_isRef=!0}get value(){const c=this._object[this._key];return c===void 0?this._defaultValue:c}set value(c){this._object[this._key]=c}get dep(){return uJ(mt(this._object),this._key)}}class LJ{constructor(c){this._getter=c,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function MJ(i,c,f){return sn(i)?i:et(i)?new LJ(i):Pt(i)&&arguments.length>1?oP(i,c,f):hi(i)}function oP(i,c,f){const p=i[c];return sn(p)?p:new FJ(i,c,f)}class UJ{constructor(c,f,p,h){this._setter=f,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new xa(c,()=>{this._dirty||(this._dirty=!0,Dd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=p}get value(){const c=mt(this);return ry(c),(c._dirty||!c._cacheable)&&(c._dirty=!1,c._value=c.effect.run()),c._value}set value(c){this._setter(c)}}function HJ(i,c,f=!1){let p,h;const b=et(i);return b?(p=i,h=Us):(p=i.get,h=i.set),new UJ(p,h,b||!h,f)}const pl=[];function bd(i,...c){}function zJ(){let i=pl[pl.length-1];if(!i)return[];const c=[];for(;i;){const f=c[0];f&&f.vnode===i?f.recurseCount++:c.push({vnode:i,recurseCount:0});const p=i.component&&i.component.parent;i=p&&p.vnode}return c}function VJ(i){const c=[];return i.forEach((f,p)=>{c.push(...p===0?[]:[`
`],...jJ(f))}),c}function jJ({vnode:i,recurseCount:c}){const f=c>0?`... (${c} recursive calls)`:"",p=i.component?i.component.parent==null:!1,h=` at <${XP(i.component,i.type,p)}`,b=">"+f;return i.props?[h,...WJ(i.props),b]:[h+b]}function WJ(i){const c=[],f=Object.keys(i);return f.slice(0,3).forEach(p=>{c.push(...rP(p,i[p]))}),f.length>3&&c.push(" ..."),c}function rP(i,c,f){return Wt(c)?(c=JSON.stringify(c),f?c:[`${i}=${c}`]):typeof c=="number"||typeof c=="boolean"||c==null?f?c:[`${i}=${c}`]:sn(c)?(c=rP(i,mt(c.value),!0),f?c:[`${i}=Ref<`,c,">"]):et(c)?[`${i}=fn${c.name?`<${c.name}>`:""}`]:(c=mt(c),f?c:[`${i}=`,c])}function KJ(i,c){}function ao(i,c,f,p){let h;try{h=p?i(...p):i()}catch(b){xi(b,c,f)}return h}function fs(i,c,f,p){if(et(i)){const b=ao(i,c,f,p);return b&&Xb(b)&&b.catch(C=>{xi(C,c,f)}),b}const h=[];for(let b=0;b<i.length;b++)h.push(fs(i[b],c,f,p));return h}function xi(i,c,f,p=!0){const h=c?c.vnode:null;if(c){let b=c.parent;const C=c.proxy,x=f;for(;b;){const D=b.ec;if(D){for(let W=0;W<D.length;W++)if(D[W](i,C,x)===!1)return}b=b.parent}const N=c.appContext.config.errorHandler;if(N){ao(N,null,10,[i,C,x]);return}}}let El=!1,Bb=!1;const On=[];let io=0;const _a=[];let Ao=null,fi=0;const iP=Promise.resolve();let cy=null;function wl(i){const c=cy||iP;return i?c.then(this?i.bind(this):i):c}function qJ(i){let c=io+1,f=On.length;for(;c<f;){const p=c+f>>>1,h=On[p],b=_l(h);b<i||b===i&&h.pre?c=p+1:f=p}return c}function Bd(i){(!On.length||!On.includes(i,El&&i.allowRecurse?io+1:io))&&(i.id==null?On.push(i):On.splice(qJ(i.id),0,i),aP())}function aP(){!El&&!Bb&&(Bb=!0,cy=iP.then(cP))}function GJ(i){const c=On.indexOf(i);c>io&&On.splice(c,1)}function yd(i){ze(i)?_a.push(...i):(!Ao||!Ao.includes(i,i.allowRecurse?fi+1:fi))&&_a.push(i),aP()}function eR(i,c,f=El?io+1:0){for(;f<On.length;f++){const p=On[f];if(p&&p.pre){if(i&&p.id!==i.uid)continue;On.splice(f,1),f--,p()}}}function vd(i){if(_a.length){const c=[...new Set(_a)];if(_a.length=0,Ao){Ao.push(...c);return}for(Ao=c,Ao.sort((f,p)=>_l(f)-_l(p)),fi=0;fi<Ao.length;fi++)Ao[fi]();Ao=null,fi=0}}const _l=i=>i.id==null?1/0:i.id,YJ=(i,c)=>{const f=_l(i)-_l(c);if(f===0){if(i.pre&&!c.pre)return-1;if(c.pre&&!i.pre)return 1}return f};function cP(i){Bb=!1,El=!0,On.sort(YJ);const c=Us;try{for(io=0;io<On.length;io++){const f=On[io];f&&f.active!==!1&&ao(f,null,14)}}finally{io=0,On.length=0,vd(i),El=!1,cy=null,(On.length||_a.length)&&cP(i)}}let va,od=[],tR=!1;function lP(i,c){var f,p;va=i,va?(va.enabled=!0,od.forEach(({event:h,args:b})=>va.emit(h,...b)),od=[]):typeof window!="undefined"&&window.HTMLElement&&!((p=(f=window.navigator)==null?void 0:f.userAgent)!=null&&p.includes("jsdom"))?((c.__VUE_DEVTOOLS_HOOK_REPLAY__=c.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(b=>{lP(b,c)}),setTimeout(()=>{va||(c.__VUE_DEVTOOLS_HOOK_REPLAY__=null,tR=!0,od=[])},3e3)):(tR=!0,od=[])}function XJ(i,c,...f){if(i.isUnmounted)return;const p=i.vnode.props||Bt;let h=f;const b=c.startsWith("update:"),C=b&&c.slice(7);if(C&&C in p){const W=`${C==="modelValue"?"model":C}Modifiers`,{number:$,trim:K}=p[W]||Bt;K&&(h=f.map(ue=>Wt(ue)?ue.trim():ue)),$&&(h=f.map(md))}let x,N=p[x=dl(c)]||p[x=dl(Yn(c))];!N&&b&&(N=p[x=dl(Ss(c))]),N&&fs(N,i,6,h);const D=p[x+"Once"];if(D){if(!i.emitted)i.emitted={};else if(i.emitted[x])return;i.emitted[x]=!0,fs(D,i,6,h)}}function uP(i,c,f=!1){const p=c.emitsCache,h=p.get(i);if(h!==void 0)return h;const b=i.emits;let C={},x=!1;if(!et(i)){const N=D=>{const W=uP(D,c,!0);W&&(x=!0,jt(C,W))};!f&&c.mixins.length&&c.mixins.forEach(N),i.extends&&N(i.extends),i.mixins&&i.mixins.forEach(N)}return!b&&!x?(Pt(i)&&p.set(i,null),null):(ze(b)?b.forEach(N=>C[N]=null):jt(C,b),Pt(i)&&p.set(i,C),C)}function Id(i,c){return!i||!Al(c)?!1:(c=c.slice(2).replace(/Once$/,""),St(i,c[0].toLowerCase()+c.slice(1))||St(i,Ss(c))||St(i,c))}let Cn=null,$d=null;function Sl(i){const c=Cn;return Cn=i,$d=i&&i.type.__scopeId||null,c}function ZJ(i){$d=i}function JJ(){$d=null}const QJ=i=>ly;function ly(i,c=Cn,f){if(!c||i._n)return i;const p=(...h)=>{p._d&&Hb(-1);const b=Sl(c);let C;try{C=i(...h)}finally{Sl(b),p._d&&Hb(1)}return C};return p._n=!0,p._c=!0,p._d=!0,p}function fd(i){const{type:c,vnode:f,proxy:p,withProxy:h,props:b,propsOptions:[C],slots:x,attrs:N,emit:D,render:W,renderCache:$,data:K,setupState:ue,ctx:pe,inheritAttrs:De}=i;let Ve,tt;const de=Sl(i);try{if(f.shapeFlag&4){const ee=h||p,we=ee;Ve=us(W.call(we,ee,$,b,ue,K,pe)),tt=N}else{const ee=c;Ve=us(ee.length>1?ee(b,{attrs:N,slots:x,emit:D}):ee(b,null)),tt=c.props?N:tQ(N)}}catch(ee){bl.length=0,xi(ee,i,1),Ve=Vt(Dn)}let A=Ve,V;if(tt&&De!==!1){const ee=Object.keys(tt),{shapeFlag:we}=A;ee.length&&we&7&&(C&&ee.some(Gb)&&(tt=nQ(tt,C)),A=lo(A,tt))}return f.dirs&&(A=lo(A),A.dirs=A.dirs?A.dirs.concat(f.dirs):f.dirs),f.transition&&(A.transition=f.transition),Ve=A,Sl(de),Ve}function eQ(i){let c;for(let f=0;f<i.length;f++){const p=i[f];if(hr(p)){if(p.type!==Dn||p.children==="v-if"){if(c)return;c=p}}else return}return c}const tQ=i=>{let c;for(const f in i)(f==="class"||f==="style"||Al(f))&&((c||(c={}))[f]=i[f]);return c},nQ=(i,c)=>{const f={};for(const p in i)(!Gb(p)||!(p.slice(9)in c))&&(f[p]=i[p]);return f};function sQ(i,c,f){const{props:p,children:h,component:b}=i,{props:C,children:x,patchFlag:N}=c,D=b.emitsOptions;if(c.dirs||c.transition)return!0;if(f&&N>=0){if(N&1024)return!0;if(N&16)return p?nR(p,C,D):!!C;if(N&8){const W=c.dynamicProps;for(let $=0;$<W.length;$++){const K=W[$];if(C[K]!==p[K]&&!Id(D,K))return!0}}}else return(h||x)&&(!x||!x.$stable)?!0:p===C?!1:p?C?nR(p,C,D):!0:!!C;return!1}function nR(i,c,f){const p=Object.keys(c);if(p.length!==Object.keys(i).length)return!0;for(let h=0;h<p.length;h++){const b=p[h];if(c[b]!==i[b]&&!Id(f,b))return!0}return!1}function uy({vnode:i,parent:c},f){for(;c&&c.subTree===i;)(i=c.vnode).el=f,c=c.parent}const fy="components",oQ="directives";function rQ(i,c){return dy(fy,i,!0,c)||i}const fP=Symbol.for("v-ndc");function iQ(i){return Wt(i)?dy(fy,i,!1)||i:i||fP}function aQ(i){return dy(oQ,i)}function dy(i,c,f=!0,p=!1){const h=Cn||fn;if(h){const b=h.type;if(i===fy){const x=_d(b,!1);if(x&&(x===c||x===Yn(c)||x===Rl(Yn(c))))return b}const C=sR(h[i]||b[i],c)||sR(h.appContext[i],c);return!C&&p?b:C}}function sR(i,c){return i&&(i[c]||i[Yn(c)]||i[Rl(Yn(c))])}const dP=i=>i.__isSuspense,cQ={name:"Suspense",__isSuspense:!0,process(i,c,f,p,h,b,C,x,N,D){i==null?uQ(c,f,p,h,b,C,x,N,D):fQ(i,c,f,p,h,C,x,N,D)},hydrate:dQ,create:py,normalize:pQ},lQ=cQ;function xl(i,c){const f=i.props&&i.props[c];et(f)&&f()}function uQ(i,c,f,p,h,b,C,x,N){const{p:D,o:{createElement:W}}=N,$=W("div"),K=i.suspense=py(i,h,p,c,$,f,b,C,x,N);D(null,K.pendingBranch=i.ssContent,$,null,p,K,b,C),K.deps>0?(xl(i,"onPending"),xl(i,"onFallback"),D(null,i.ssFallback,c,f,p,null,b,C),Sa(K,i.ssFallback)):K.resolve(!1,!0)}function fQ(i,c,f,p,h,b,C,x,{p:N,um:D,o:{createElement:W}}){const $=c.suspense=i.suspense;$.vnode=c,c.el=i.el;const K=c.ssContent,ue=c.ssFallback,{activeBranch:pe,pendingBranch:De,isInFallback:Ve,isHydrating:tt}=$;if(De)$.pendingBranch=K,Ms(K,De)?(N(De,K,$.hiddenContainer,null,h,$,b,C,x),$.deps<=0?$.resolve():Ve&&(N(pe,ue,f,p,h,null,b,C,x),Sa($,ue))):($.pendingId++,tt?($.isHydrating=!1,$.activeBranch=De):D(De,h,$),$.deps=0,$.effects.length=0,$.hiddenContainer=W("div"),Ve?(N(null,K,$.hiddenContainer,null,h,$,b,C,x),$.deps<=0?$.resolve():(N(pe,ue,f,p,h,null,b,C,x),Sa($,ue))):pe&&Ms(K,pe)?(N(pe,K,f,p,h,$,b,C,x),$.resolve(!0)):(N(null,K,$.hiddenContainer,null,h,$,b,C,x),$.deps<=0&&$.resolve()));else if(pe&&Ms(K,pe))N(pe,K,f,p,h,$,b,C,x),Sa($,K);else if(xl(c,"onPending"),$.pendingBranch=K,$.pendingId++,N(null,K,$.hiddenContainer,null,h,$,b,C,x),$.deps<=0)$.resolve();else{const{timeout:de,pendingId:A}=$;de>0?setTimeout(()=>{$.pendingId===A&&$.fallback(ue)},de):de===0&&$.fallback(ue)}}function py(i,c,f,p,h,b,C,x,N,D,W=!1){const{p:$,m:K,um:ue,n:pe,o:{parentNode:De,remove:Ve}}=D;let tt;const de=mQ(i);de&&c!=null&&c.pendingBranch&&(tt=c.pendingId,c.deps++);const A=i.props?gd(i.props.timeout):void 0,V={vnode:i,parent:c,parentComponent:f,isSVG:C,container:p,hiddenContainer:h,anchor:b,deps:0,pendingId:0,timeout:typeof A=="number"?A:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:W,isUnmounted:!1,effects:[],resolve(ee=!1,we=!1){const{vnode:ke,activeBranch:ve,pendingBranch:Ee,pendingId:be,effects:q,parentComponent:ce,container:Ge}=V;let vt=!1;if(V.isHydrating)V.isHydrating=!1;else if(!ee){vt=ve&&Ee.transition&&Ee.transition.mode==="out-in",vt&&(ve.transition.afterLeave=()=>{be===V.pendingId&&(K(Ee,Ge,pe(ve),0),yd(q))});let{anchor:ut}=V;ve&&(ut=pe(ve),ue(ve,ce,V,!0)),vt||K(Ee,Ge,ut,0)}Sa(V,Ee),V.pendingBranch=null,V.isInFallback=!1;let Be=V.parent,He=!1;for(;Be;){if(Be.pendingBranch){Be.effects.push(...q),He=!0;break}Be=Be.parent}!He&&!vt&&yd(q),V.effects=[],de&&c&&c.pendingBranch&&tt===c.pendingId&&(c.deps--,c.deps===0&&!we&&c.resolve()),xl(ke,"onResolve")},fallback(ee){if(!V.pendingBranch)return;const{vnode:we,activeBranch:ke,parentComponent:ve,container:Ee,isSVG:be}=V;xl(we,"onFallback");const q=pe(ke),ce=()=>{V.isInFallback&&($(null,ee,Ee,q,ve,null,be,x,N),Sa(V,ee))},Ge=ee.transition&&ee.transition.mode==="out-in";Ge&&(ke.transition.afterLeave=ce),V.isInFallback=!0,ue(ke,ve,null,!0),Ge||ce()},move(ee,we,ke){V.activeBranch&&K(V.activeBranch,ee,we,ke),V.container=ee},next(){return V.activeBranch&&pe(V.activeBranch)},registerDep(ee,we){const ke=!!V.pendingBranch;ke&&V.deps++;const ve=ee.vnode.el;ee.asyncDep.catch(Ee=>{xi(Ee,ee,0)}).then(Ee=>{if(ee.isUnmounted||V.isUnmounted||V.pendingId!==ee.suspenseId)return;ee.asyncResolved=!0;const{vnode:be}=ee;zb(ee,Ee,!1),ve&&(be.el=ve);const q=!ve&&ee.subTree.el;we(ee,be,De(ve||ee.subTree.el),ve?null:pe(ee.subTree),V,C,N),q&&Ve(q),uy(ee,be.el),ke&&--V.deps===0&&V.resolve()})},unmount(ee,we){V.isUnmounted=!0,V.activeBranch&&ue(V.activeBranch,f,ee,we),V.pendingBranch&&ue(V.pendingBranch,f,ee,we)}};return V}function dQ(i,c,f,p,h,b,C,x,N){const D=c.suspense=py(c,p,f,i.parentNode,document.createElement("div"),null,h,b,C,x,!0),W=N(i,D.pendingBranch=c.ssContent,f,D,b,C);return D.deps===0&&D.resolve(!1,!0),W}function pQ(i){const{shapeFlag:c,children:f}=i,p=c&32;i.ssContent=oR(p?f.default:f),i.ssFallback=p?oR(f.fallback):Vt(Dn)}function oR(i){let c;if(et(i)){const f=Ei&&i._c;f&&(i._d=!1,zd()),i=i(),f&&(i._d=!0,c=Gn,UP())}return ze(i)&&(i=eQ(i)),i=us(i),c&&!i.dynamicChildren&&(i.dynamicChildren=c.filter(f=>f!==i)),i}function pP(i,c){c&&c.pendingBranch?ze(i)?c.effects.push(...i):c.effects.push(i):yd(i)}function Sa(i,c){i.activeBranch=c;const{vnode:f,parentComponent:p}=i,h=f.el=c.el;p&&p.subTree===f&&(p.vnode.el=h,uy(p,h))}function mQ(i){var c;return((c=i.props)==null?void 0:c.suspensible)!=null&&i.props.suspensible!==!1}function gQ(i,c){return Dl(i,null,c)}function mP(i,c){return Dl(i,null,{flush:"post"})}function hQ(i,c){return Dl(i,null,{flush:"sync"})}const rd={};function co(i,c,f){return Dl(i,c,f)}function Dl(i,c,{immediate:f,deep:p,flush:h,onTrack:b,onTrigger:C}=Bt){var x;const N=ee=>{bd("Invalid watch source: ",ee,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},D=zR()===((x=fn)==null?void 0:x.scope)?fn:null;let W,$=!1,K=!1;if(sn(i)?(W=()=>i.value,$=vl(i)):ur(i)?(W=()=>i,p=!0):ze(i)?(K=!0,$=i.some(ee=>ur(ee)||vl(ee)),W=()=>i.map(ee=>{if(sn(ee))return ee.value;if(ur(ee))return mi(ee);if(et(ee))return ao(ee,D,2)})):et(i)?c?W=()=>ao(i,D,2):W=()=>{if(!(D&&D.isUnmounted))return ue&&ue(),fs(i,D,3,[pe])}:W=Us,c&&p){const ee=W;W=()=>mi(ee())}let ue,pe=ee=>{ue=A.onStop=()=>{ao(ee,D,4),ue=A.onStop=void 0}},De;if(Na)if(pe=Us,c?f&&fs(c,D,3,[W(),K?[]:void 0,pe]):W(),h==="sync"){const ee=QP();De=ee.__watcherHandles||(ee.__watcherHandles=[])}else return Us;let Ve=K?new Array(i.length).fill(rd):rd;const tt=()=>{if(A.active)if(c){const ee=A.run();(p||$||(K?ee.some((we,ke)=>pr(we,Ve[ke])):pr(ee,Ve)))&&(ue&&ue(),fs(c,D,3,[ee,Ve===rd?void 0:K&&Ve[0]===rd?[]:Ve,pe]),Ve=ee)}else A.run()};tt.allowRecurse=!!c;let de;h==="sync"?de=tt:h==="post"?de=()=>kn(tt,D&&D.suspense):(tt.pre=!0,D&&(tt.id=D.uid),de=()=>Bd(tt));const A=new xa(W,de);c?f?tt():Ve=A.run():h==="post"?kn(A.run.bind(A),D&&D.suspense):A.run();const V=()=>{A.stop(),D&&D.scope&&Yb(D.scope.effects,A)};return De&&De.push(V),V}function bQ(i,c,f){const p=this.proxy,h=Wt(i)?i.includes(".")?gP(p,i):()=>p[i]:i.bind(p,p);let b;et(c)?b=c:(b=c.handler,f=c);const C=fn;br(this);const x=Dl(h,b.bind(p),f);return C?br(C):fr(),x}function gP(i,c){const f=c.split(".");return()=>{let p=i;for(let h=0;h<f.length&&p;h++)p=p[f[h]];return p}}function mi(i,c){if(!Pt(i)||i.__v_skip||(c=c||new Set,c.has(i)))return i;if(c.add(i),sn(i))mi(i.value,c);else if(ze(i))for(let f=0;f<i.length;f++)mi(i[f],c);else if(wi(i)||Ea(i))i.forEach(f=>{mi(f,c)});else if(FR(i))for(const f in i)mi(i[f],c);return i}function yQ(i,c){const f=Cn;if(f===null)return i;const p=jd(f)||f.proxy,h=i.dirs||(i.dirs=[]);for(let b=0;b<c.length;b++){let[C,x,N,D=Bt]=c[b];C&&(et(C)&&(C={mounted:C,updated:C}),C.deep&&mi(x),h.push({dir:C,instance:p,value:x,oldValue:void 0,arg:N,modifiers:D}))}return i}function ro(i,c,f,p){const h=i.dirs,b=c&&c.dirs;for(let C=0;C<h.length;C++){const x=h[C];b&&(x.oldValue=b[C].value);let N=x.dir[p];N&&(_i(),fs(N,f,8,[i.el,x,i,c]),Si())}}const ar=Symbol("_leaveCb"),id=Symbol("_enterCb");function my(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pa(()=>{i.isMounted=!0}),Il(()=>{i.isUnmounting=!0}),i}const _s=[Function,Array],gy={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_s,onEnter:_s,onAfterEnter:_s,onEnterCancelled:_s,onBeforeLeave:_s,onLeave:_s,onAfterLeave:_s,onLeaveCancelled:_s,onBeforeAppear:_s,onAppear:_s,onAfterAppear:_s,onAppearCancelled:_s},vQ={name:"BaseTransition",props:gy,setup(i,{slots:c}){const f=Bo(),p=my();let h;return()=>{const b=c.default&&Fd(c.default(),!0);if(!b||!b.length)return;let C=b[0];if(b.length>1){let De=!1;for(const Ve of b)if(Ve.type!==Dn){C=Ve,De=!0;break}}const x=mt(i),{mode:N}=x;if(p.isLeaving)return Eb(C);const D=rR(C);if(!D)return Eb(C);const W=ka(D,x,p,f);vi(D,W);const $=f.subTree,K=$&&rR($);let ue=!1;const{getTransitionKey:pe}=D.type;if(pe){const De=pe();h===void 0?h=De:De!==h&&(h=De,ue=!0)}if(K&&K.type!==Dn&&(!Ms(D,K)||ue)){const De=ka(K,x,p,f);if(vi(K,De),N==="out-in")return p.isLeaving=!0,De.afterLeave=()=>{p.isLeaving=!1,f.update.active!==!1&&f.update()},Eb(C);N==="in-out"&&D.type!==Dn&&(De.delayLeave=(Ve,tt,de)=>{const A=bP(p,K);A[String(K.key)]=K,Ve[ar]=()=>{tt(),Ve[ar]=void 0,delete W.delayedLeave},W.delayedLeave=de})}return C}}},hP=vQ;function bP(i,c){const{leavingVNodes:f}=i;let p=f.get(c.type);return p||(p=Object.create(null),f.set(c.type,p)),p}function ka(i,c,f,p){const{appear:h,mode:b,persisted:C=!1,onBeforeEnter:x,onEnter:N,onAfterEnter:D,onEnterCancelled:W,onBeforeLeave:$,onLeave:K,onAfterLeave:ue,onLeaveCancelled:pe,onBeforeAppear:De,onAppear:Ve,onAfterAppear:tt,onAppearCancelled:de}=c,A=String(i.key),V=bP(f,i),ee=(ve,Ee)=>{ve&&fs(ve,p,9,Ee)},we=(ve,Ee)=>{const be=Ee[1];ee(ve,Ee),ze(ve)?ve.every(q=>q.length<=1)&&be():ve.length<=1&&be()},ke={mode:b,persisted:C,beforeEnter(ve){let Ee=x;if(!f.isMounted)if(h)Ee=De||x;else return;ve[ar]&&ve[ar](!0);const be=V[A];be&&Ms(i,be)&&be.el[ar]&&be.el[ar](),ee(Ee,[ve])},enter(ve){let Ee=N,be=D,q=W;if(!f.isMounted)if(h)Ee=Ve||N,be=tt||D,q=de||W;else return;let ce=!1;const Ge=ve[id]=vt=>{ce||(ce=!0,vt?ee(q,[ve]):ee(be,[ve]),ke.delayedLeave&&ke.delayedLeave(),ve[id]=void 0)};Ee?we(Ee,[ve,Ge]):Ge()},leave(ve,Ee){const be=String(i.key);if(ve[id]&&ve[id](!0),f.isUnmounting)return Ee();ee($,[ve]);let q=!1;const ce=ve[ar]=Ge=>{q||(q=!0,Ee(),Ge?ee(pe,[ve]):ee(ue,[ve]),ve[ar]=void 0,V[be]===i&&delete V[be])};V[be]=i,K?we(K,[ve,ce]):ce()},clone(ve){return ka(ve,c,f,p)}};return ke}function Eb(i){if(Bl(i))return i=lo(i),i.children=null,i}function rR(i){return Bl(i)?i.children?i.children[0]:void 0:i}function vi(i,c){i.shapeFlag&6&&i.component?vi(i.component.subTree,c):i.shapeFlag&128?(i.ssContent.transition=c.clone(i.ssContent),i.ssFallback.transition=c.clone(i.ssFallback)):i.transition=c}function Fd(i,c=!1,f){let p=[],h=0;for(let b=0;b<i.length;b++){let C=i[b];const x=f==null?C.key:String(f)+String(C.key!=null?C.key:b);C.type===Nn?(C.patchFlag&128&&h++,p=p.concat(Fd(C.children,c,x))):(c||C.type!==Dn)&&p.push(x!=null?lo(C,{key:x}):C)}if(h>1)for(let b=0;b<p.length;b++)p[b].patchFlag=-2;return p}/*! #__NO_SIDE_EFFECTS__ */function Ld(i,c){return et(i)?(()=>jt({name:i.name},c,{setup:i}))():i}const bi=i=>!!i.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function CQ(i){et(i)&&(i={loader:i});const{loader:c,loadingComponent:f,errorComponent:p,delay:h=200,timeout:b,suspensible:C=!0,onError:x}=i;let N=null,D,W=0;const $=()=>(W++,N=null,K()),K=()=>{let ue;return N||(ue=N=c().catch(pe=>{if(pe=pe instanceof Error?pe:new Error(String(pe)),x)return new Promise((De,Ve)=>{x(pe,()=>De($()),()=>Ve(pe),W+1)});throw pe}).then(pe=>ue!==N&&N?N:(pe&&(pe.__esModule||pe[Symbol.toStringTag]==="Module")&&(pe=pe.default),D=pe,pe)))};return Ld({name:"AsyncComponentWrapper",__asyncLoader:K,get __asyncResolved(){return D},setup(){const ue=fn;if(D)return()=>wb(D,ue);const pe=de=>{N=null,xi(de,ue,13,!p)};if(C&&ue.suspense||Na)return K().then(de=>()=>wb(de,ue)).catch(de=>(pe(de),()=>p?Vt(p,{error:de}):null));const De=hi(!1),Ve=hi(),tt=hi(!!h);return h&&setTimeout(()=>{tt.value=!1},h),b!=null&&setTimeout(()=>{if(!De.value&&!Ve.value){const de=new Error(`Async component timed out after ${b}ms.`);pe(de),Ve.value=de}},b),K().then(()=>{De.value=!0,ue.parent&&Bl(ue.parent.vnode)&&Bd(ue.parent.update)}).catch(de=>{pe(de),Ve.value=de}),()=>{if(De.value&&D)return wb(D,ue);if(Ve.value&&p)return Vt(p,{error:Ve.value});if(f&&!tt.value)return Vt(f)}}})}function wb(i,c){const{ref:f,props:p,children:h,ce:b}=c.vnode,C=Vt(i,p,h);return C.ref=f,C.ce=b,delete c.vnode.ce,C}const Bl=i=>i.type.__isKeepAlive,EQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(i,{slots:c}){const f=Bo(),p=f.ctx;if(!p.renderer)return()=>{const de=c.default&&c.default();return de&&de.length===1?de[0]:de};const h=new Map,b=new Set;let C=null;const x=f.suspense,{renderer:{p:N,m:D,um:W,o:{createElement:$}}}=p,K=$("div");p.activate=(de,A,V,ee,we)=>{const ke=de.component;D(de,A,V,0,x),N(ke.vnode,de,A,V,ke,x,ee,de.slotScopeIds,we),kn(()=>{ke.isDeactivated=!1,ke.a&&wa(ke.a);const ve=de.props&&de.props.onVnodeMounted;ve&&qn(ve,ke.parent,de)},x)},p.deactivate=de=>{const A=de.component;D(de,K,null,1,x),kn(()=>{A.da&&wa(A.da);const V=de.props&&de.props.onVnodeUnmounted;V&&qn(V,A.parent,de),A.isDeactivated=!0},x)};function ue(de){_b(de),W(de,f,x,!0)}function pe(de){h.forEach((A,V)=>{const ee=_d(A.type);ee&&(!de||!de(ee))&&De(V)})}function De(de){const A=h.get(de);!C||!Ms(A,C)?ue(A):C&&_b(C),h.delete(de),b.delete(de)}co(()=>[i.include,i.exclude],([de,A])=>{de&&pe(V=>ll(de,V)),A&&pe(V=>!ll(A,V))},{flush:"post",deep:!0});let Ve=null;const tt=()=>{Ve!=null&&h.set(Ve,Sb(f.subTree))};return Pa(tt),Ud(tt),Il(()=>{h.forEach(de=>{const{subTree:A,suspense:V}=f,ee=Sb(A);if(de.type===ee.type&&de.key===ee.key){_b(ee);const we=ee.component.da;we&&kn(we,V);return}ue(de)})}),()=>{if(Ve=null,!c.default)return null;const de=c.default(),A=de[0];if(de.length>1)return C=null,de;if(!hr(A)||!(A.shapeFlag&4)&&!(A.shapeFlag&128))return C=null,A;let V=Sb(A);const ee=V.type,we=_d(bi(V)?V.type.__asyncResolved||{}:ee),{include:ke,exclude:ve,max:Ee}=i;if(ke&&(!we||!ll(ke,we))||ve&&we&&ll(ve,we))return C=V,A;const be=V.key==null?ee:V.key,q=h.get(be);return V.el&&(V=lo(V),A.shapeFlag&128&&(A.ssContent=V)),Ve=be,q?(V.el=q.el,V.component=q.component,V.transition&&vi(V,V.transition),V.shapeFlag|=512,b.delete(be),b.add(be)):(b.add(be),Ee&&b.size>parseInt(Ee,10)&&De(b.values().next().value)),V.shapeFlag|=256,C=V,dP(A.type)?A:V}}},wQ=EQ;function ll(i,c){return ze(i)?i.some(f=>ll(f,c)):Wt(i)?i.split(",").includes(c):jZ(i)?i.test(c):!1}function hy(i,c){yP(i,"a",c)}function by(i,c){yP(i,"da",c)}function yP(i,c,f=fn){const p=i.__wdc||(i.__wdc=()=>{let h=f;for(;h;){if(h.isDeactivated)return;h=h.parent}return i()});if(Md(c,p,f),f){let h=f.parent;for(;h&&h.parent;)Bl(h.parent.vnode)&&_Q(p,c,f,h),h=h.parent}}function _Q(i,c,f,p){const h=Md(c,i,p,!0);Hd(()=>{Yb(p[c],h)},f)}function _b(i){i.shapeFlag&=-257,i.shapeFlag&=-513}function Sb(i){return i.shapeFlag&128?i.ssContent:i}function Md(i,c,f=fn,p=!1){if(f){const h=f[i]||(f[i]=[]),b=c.__weh||(c.__weh=(...C)=>{if(f.isUnmounted)return;_i(),br(f);const x=fs(c,f,i,C);return fr(),Si(),x});return p?h.unshift(b):h.push(b),b}}const Do=i=>(c,f=fn)=>(!Na||i==="sp")&&Md(i,(...p)=>c(...p),f),vP=Do("bm"),Pa=Do("m"),CP=Do("bu"),Ud=Do("u"),Il=Do("bum"),Hd=Do("um"),EP=Do("sp"),wP=Do("rtg"),_P=Do("rtc");function SP(i,c=fn){Md("ec",i,c)}function SQ(i,c,f,p){let h;const b=f&&f[p];if(ze(i)||Wt(i)){h=new Array(i.length);for(let C=0,x=i.length;C<x;C++)h[C]=c(i[C],C,void 0,b&&b[C])}else if(typeof i=="number"){h=new Array(i);for(let C=0;C<i;C++)h[C]=c(C+1,C,void 0,b&&b[C])}else if(Pt(i))if(i[Symbol.iterator])h=Array.from(i,(C,x)=>c(C,x,void 0,b&&b[x]));else{const C=Object.keys(i);h=new Array(C.length);for(let x=0,N=C.length;x<N;x++){const D=C[x];h[x]=c(i[D],D,x,b&&b[x])}}else h=[];return f&&(f[p]=h),h}function xQ(i,c){for(let f=0;f<c.length;f++){const p=c[f];if(ze(p))for(let h=0;h<p.length;h++)i[p[h].name]=p[h].fn;else p&&(i[p.name]=p.key?(...h)=>{const b=p.fn(...h);return b&&(b.key=p.key),b}:p.fn)}return i}function kQ(i,c,f={},p,h){if(Cn.isCE||Cn.parent&&bi(Cn.parent)&&Cn.parent.isCE)return c!=="default"&&(f.name=c),Vt("slot",f,p&&p());let b=i[c];b&&b._c&&(b._d=!1),zd();const C=b&&xP(b(f)),x=Ey(Nn,{key:f.key||C&&C.key||`_${c}`},C||(p?p():[]),C&&i._===1?64:-2);return!h&&x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),b&&b._c&&(b._d=!0),x}function xP(i){return i.some(c=>hr(c)?!(c.type===Dn||c.type===Nn&&!xP(c.children)):!0)?i:null}function NQ(i,c){const f={};for(const p in i)f[c&&/[A-Z]/.test(p)?`on:${p}`:dl(p)]=i[p];return f}const Ib=i=>i?KP(i)?jd(i)||i.proxy:Ib(i.parent):null,ml=jt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Ib(i.parent),$root:i=>Ib(i.root),$emit:i=>i.emit,$options:i=>yy(i),$forceUpdate:i=>i.f||(i.f=()=>Bd(i.update)),$nextTick:i=>i.n||(i.n=wl.bind(i.proxy)),$watch:i=>bQ.bind(i)});const xb=(i,c)=>i!==Bt&&!i.__isScriptSetup&&St(i,c),$b={get({_:i},c){const{ctx:f,setupState:p,data:h,props:b,accessCache:C,type:x,appContext:N}=i;let D;if(c[0]!=="$"){const ue=C[c];if(ue!==void 0)switch(ue){case 1:return p[c];case 2:return h[c];case 4:return f[c];case 3:return b[c]}else{if(xb(p,c))return C[c]=1,p[c];if(h!==Bt&&St(h,c))return C[c]=2,h[c];if((D=i.propsOptions[0])&&St(D,c))return C[c]=3,b[c];if(f!==Bt&&St(f,c))return C[c]=4,f[c];Fb&&(C[c]=0)}}const W=ml[c];let $,K;if(W)return c==="$attrs"&&Xn(i,"get",c),W(i);if(($=x.__cssModules)&&($=$[c]))return $;if(f!==Bt&&St(f,c))return C[c]=4,f[c];if(K=N.config.globalProperties,St(K,c))return K[c]},set({_:i},c,f){const{data:p,setupState:h,ctx:b}=i;return xb(h,c)?(h[c]=f,!0):p!==Bt&&St(p,c)?(p[c]=f,!0):St(i.props,c)||c[0]==="$"&&c.slice(1)in i?!1:(b[c]=f,!0)},has({_:{data:i,setupState:c,accessCache:f,ctx:p,appContext:h,propsOptions:b}},C){let x;return!!f[C]||i!==Bt&&St(i,C)||xb(c,C)||(x=b[0])&&St(x,C)||St(p,C)||St(ml,C)||St(h.config.globalProperties,C)},defineProperty(i,c,f){return f.get!=null?i._.accessCache[c]=0:St(f,"value")&&this.set(i,c,f.value,null),Reflect.defineProperty(i,c,f)}},TQ=jt({},$b,{get(i,c){if(c!==Symbol.unscopables)return $b.get(i,c,i)},has(i,c){return c[0]!=="_"&&!YZ(c)}});function AQ(){return null}function RQ(){return null}function PQ(i){}function OQ(i){}function DQ(){return null}function BQ(){}function IQ(i,c){return null}function $Q(){return kP().slots}function FQ(){return kP().attrs}function LQ(i,c,f){const p=Bo();if(f&&f.local){const h=hi(i[c]);return co(()=>i[c],b=>h.value=b),co(h,b=>{b!==i[c]&&p.emit(`update:${c}`,b)}),h}else return{__v_isRef:!0,get value(){return i[c]},set value(h){p.emit(`update:${c}`,h)}}}function kP(){const i=Bo();return i.setupContext||(i.setupContext=YP(i))}function kl(i){return ze(i)?i.reduce((c,f)=>(c[f]=null,c),{}):i}function MQ(i,c){const f=kl(i);for(const p in c){if(p.startsWith("__skip"))continue;let h=f[p];h?ze(h)||et(h)?h=f[p]={type:h,default:c[p]}:h.default=c[p]:h===null&&(h=f[p]={default:c[p]}),h&&c[`__skip_${p}`]&&(h.skipFactory=!0)}return f}function UQ(i,c){return!i||!c?i||c:ze(i)&&ze(c)?i.concat(c):jt({},kl(i),kl(c))}function HQ(i,c){const f={};for(const p in i)c.includes(p)||Object.defineProperty(f,p,{enumerable:!0,get:()=>i[p]});return f}function zQ(i){const c=Bo();let f=i();return fr(),Xb(f)&&(f=f.catch(p=>{throw br(c),p})),[f,()=>br(c)]}let Fb=!0;function VQ(i){const c=yy(i),f=i.proxy,p=i.ctx;Fb=!1,c.beforeCreate&&iR(c.beforeCreate,i,"bc");const{data:h,computed:b,methods:C,watch:x,provide:N,inject:D,created:W,beforeMount:$,mounted:K,beforeUpdate:ue,updated:pe,activated:De,deactivated:Ve,beforeDestroy:tt,beforeUnmount:de,destroyed:A,unmounted:V,render:ee,renderTracked:we,renderTriggered:ke,errorCaptured:ve,serverPrefetch:Ee,expose:be,inheritAttrs:q,components:ce,directives:Ge,filters:vt}=c;if(D&&jQ(D,p,null),C)for(const ut in C){const G=C[ut];et(G)&&(p[ut]=G.bind(f))}if(h){const ut=h.call(f,f);Pt(ut)&&(i.data=Pd(ut))}if(Fb=!0,b)for(const ut in b){const G=b[ut],Lt=et(G)?G.bind(f,f):et(G.get)?G.get.bind(f,f):Us,Io=!et(G)&&et(G.set)?G.set.bind(f):Us,ye=ZP({get:Lt,set:Io});Object.defineProperty(p,ut,{enumerable:!0,configurable:!0,get:()=>ye.value,set:ds=>ye.value=ds})}if(x)for(const ut in x)NP(x[ut],p,f,ut);if(N){const ut=et(N)?N.call(f):N;Reflect.ownKeys(ut).forEach(G=>{AP(G,ut[G])})}W&&iR(W,i,"c");function He(ut,G){ze(G)?G.forEach(Lt=>ut(Lt.bind(f))):G&&ut(G.bind(f))}if(He(vP,$),He(Pa,K),He(CP,ue),He(Ud,pe),He(hy,De),He(by,Ve),He(SP,ve),He(_P,we),He(wP,ke),He(Il,de),He(Hd,V),He(EP,Ee),ze(be))if(be.length){const ut=i.exposed||(i.exposed={});be.forEach(G=>{Object.defineProperty(ut,G,{get:()=>f[G],set:Lt=>f[G]=Lt})})}else i.exposed||(i.exposed={});ee&&i.render===Us&&(i.render=ee),q!=null&&(i.inheritAttrs=q),ce&&(i.components=ce),Ge&&(i.directives=Ge)}function jQ(i,c,f=Us){ze(i)&&(i=Lb(i));for(const p in i){const h=i[p];let b;Pt(h)?"default"in h?b=gl(h.from||p,h.default,!0):b=gl(h.from||p):b=gl(h),sn(b)?Object.defineProperty(c,p,{enumerable:!0,configurable:!0,get:()=>b.value,set:C=>b.value=C}):c[p]=b}}function iR(i,c,f){fs(ze(i)?i.map(p=>p.bind(c.proxy)):i.bind(c.proxy),c,f)}function NP(i,c,f,p){const h=p.includes(".")?gP(f,p):()=>f[p];if(Wt(i)){const b=c[i];et(b)&&co(h,b)}else if(et(i))co(h,i.bind(f));else if(Pt(i))if(ze(i))i.forEach(b=>NP(b,c,f,p));else{const b=et(i.handler)?i.handler.bind(f):c[i.handler];et(b)&&co(h,b,i)}}function yy(i){const c=i.type,{mixins:f,extends:p}=c,{mixins:h,optionsCache:b,config:{optionMergeStrategies:C}}=i.appContext,x=b.get(c);let N;return x?N=x:!h.length&&!f&&!p?N=c:(N={},h.length&&h.forEach(D=>Cd(N,D,C,!0)),Cd(N,c,C)),Pt(c)&&b.set(c,N),N}function Cd(i,c,f,p=!1){const{mixins:h,extends:b}=c;b&&Cd(i,b,f,!0),h&&h.forEach(C=>Cd(i,C,f,!0));for(const C in c)if(!(p&&C==="expose")){const x=WQ[C]||f&&f[C];i[C]=x?x(i[C],c[C]):c[C]}return i}const WQ={data:aR,props:cR,emits:cR,methods:ul,computed:ul,beforeCreate:Un,created:Un,beforeMount:Un,mounted:Un,beforeUpdate:Un,updated:Un,beforeDestroy:Un,beforeUnmount:Un,destroyed:Un,unmounted:Un,activated:Un,deactivated:Un,errorCaptured:Un,serverPrefetch:Un,components:ul,directives:ul,watch:qQ,provide:aR,inject:KQ};function aR(i,c){return c?i?function(){return jt(et(i)?i.call(this,this):i,et(c)?c.call(this,this):c)}:c:i}function KQ(i,c){return ul(Lb(i),Lb(c))}function Lb(i){if(ze(i)){const c={};for(let f=0;f<i.length;f++)c[i[f]]=i[f];return c}return i}function Un(i,c){return i?[...new Set([].concat(i,c))]:c}function ul(i,c){return i?jt(Object.create(null),i,c):c}function cR(i,c){return i?ze(i)&&ze(c)?[...new Set([...i,...c])]:jt(Object.create(null),kl(i),kl(c!=null?c:{})):c}function qQ(i,c){if(!i)return c;if(!c)return i;const f=jt(Object.create(null),i);for(const p in c)f[p]=Un(i[p],c[p]);return f}function TP(){return{app:null,config:{isNativeTag:zZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GQ=0;function YQ(i,c){return function(p,h=null){et(p)||(p=jt({},p)),h!=null&&!Pt(h)&&(h=null);const b=TP(),C=new WeakSet;let x=!1;const N=b.app={_uid:GQ++,_component:p,_props:h,_container:null,_context:b,_instance:null,version:tO,get config(){return b.config},set config(D){},use(D,...W){return C.has(D)||(D&&et(D.install)?(C.add(D),D.install(N,...W)):et(D)&&(C.add(D),D(N,...W))),N},mixin(D){return b.mixins.includes(D)||b.mixins.push(D),N},component(D,W){return W?(b.components[D]=W,N):b.components[D]},directive(D,W){return W?(b.directives[D]=W,N):b.directives[D]},mount(D,W,$){if(!x){const K=Vt(p,h);return K.appContext=b,W&&c?c(K,D):i(K,D,$),x=!0,N._container=D,D.__vue_app__=N,jd(K.component)||K.component.proxy}},unmount(){x&&(i(null,N._container),delete N._container.__vue_app__)},provide(D,W){return b.provides[D]=W,N},runWithContext(D){Nl=N;try{return D()}finally{Nl=null}}};return N}}let Nl=null;function AP(i,c){if(fn){let f=fn.provides;const p=fn.parent&&fn.parent.provides;p===f&&(f=fn.provides=Object.create(p)),f[i]=c}}function gl(i,c,f=!1){const p=fn||Cn;if(p||Nl){const h=p?p.parent==null?p.vnode.appContext&&p.vnode.appContext.provides:p.parent.provides:Nl._context.provides;if(h&&i in h)return h[i];if(arguments.length>1)return f&&et(c)?c.call(p&&p.proxy):c}}function XQ(){return!!(fn||Cn||Nl)}function ZQ(i,c,f,p=!1){const h={},b={};pd(b,Vd,1),i.propsDefaults=Object.create(null),RP(i,c,h,b);for(const C in i.propsOptions[0])C in h||(h[C]=void 0);f?i.props=p?h:tP(h):i.type.props?i.props=h:i.props=b,i.attrs=b}function JQ(i,c,f,p){const{props:h,attrs:b,vnode:{patchFlag:C}}=i,x=mt(h),[N]=i.propsOptions;let D=!1;if((p||C>0)&&!(C&16)){if(C&8){const W=i.vnode.dynamicProps;for(let $=0;$<W.length;$++){let K=W[$];if(Id(i.emitsOptions,K))continue;const ue=c[K];if(N)if(St(b,K))ue!==b[K]&&(b[K]=ue,D=!0);else{const pe=Yn(K);h[pe]=Mb(N,x,pe,ue,i,!1)}else ue!==b[K]&&(b[K]=ue,D=!0)}}}else{RP(i,c,h,b)&&(D=!0);let W;for(const $ in x)(!c||!St(c,$)&&((W=Ss($))===$||!St(c,W)))&&(N?f&&(f[$]!==void 0||f[W]!==void 0)&&(h[$]=Mb(N,x,$,void 0,i,!0)):delete h[$]);if(b!==x)for(const $ in b)(!c||!St(c,$))&&(delete b[$],D=!0)}D&&Po(i,"set","$attrs")}function RP(i,c,f,p){const[h,b]=i.propsOptions;let C=!1,x;if(c)for(let N in c){if(fl(N))continue;const D=c[N];let W;h&&St(h,W=Yn(N))?!b||!b.includes(W)?f[W]=D:(x||(x={}))[W]=D:Id(i.emitsOptions,N)||(!(N in p)||D!==p[N])&&(p[N]=D,C=!0)}if(b){const N=mt(f),D=x||Bt;for(let W=0;W<b.length;W++){const $=b[W];f[$]=Mb(h,N,$,D[$],i,!St(D,$))}}return C}function Mb(i,c,f,p,h,b){const C=i[f];if(C!=null){const x=St(C,"default");if(x&&p===void 0){const N=C.default;if(C.type!==Function&&!C.skipFactory&&et(N)){const{propsDefaults:D}=h;f in D?p=D[f]:(br(h),p=D[f]=N.call(null,c),fr())}else p=N}C[0]&&(b&&!x?p=!1:C[1]&&(p===""||p===Ss(f))&&(p=!0))}return p}function PP(i,c,f=!1){const p=c.propsCache,h=p.get(i);if(h)return h;const b=i.props,C={},x=[];let N=!1;if(!et(i)){const W=$=>{N=!0;const[K,ue]=PP($,c,!0);jt(C,K),ue&&x.push(...ue)};!f&&c.mixins.length&&c.mixins.forEach(W),i.extends&&W(i.extends),i.mixins&&i.mixins.forEach(W)}if(!b&&!N)return Pt(i)&&p.set(i,Ca),Ca;if(ze(b))for(let W=0;W<b.length;W++){const $=Yn(b[W]);lR($)&&(C[$]=Bt)}else if(b)for(const W in b){const $=Yn(W);if(lR($)){const K=b[W],ue=C[$]=ze(K)||et(K)?{type:K}:jt({},K);if(ue){const pe=dR(Boolean,ue.type),De=dR(String,ue.type);ue[0]=pe>-1,ue[1]=De<0||pe<De,(pe>-1||St(ue,"default"))&&x.push($)}}}const D=[C,x];return Pt(i)&&p.set(i,D),D}function lR(i){return i[0]!=="$"}function uR(i){const c=i&&i.toString().match(/^\s*(function|class) (\w+)/);return c?c[2]:i===null?"null":""}function fR(i,c){return uR(i)===uR(c)}function dR(i,c){return ze(c)?c.findIndex(f=>fR(f,i)):et(c)&&fR(c,i)?0:-1}const OP=i=>i[0]==="_"||i==="$stable",vy=i=>ze(i)?i.map(us):[us(i)],QQ=(i,c,f)=>{if(c._n)return c;const p=ly((...h)=>vy(c(...h)),f);return p._c=!1,p},DP=(i,c,f)=>{const p=i._ctx;for(const h in i){if(OP(h))continue;const b=i[h];if(et(b))c[h]=QQ(h,b,p);else if(b!=null){const C=vy(b);c[h]=()=>C}}},BP=(i,c)=>{const f=vy(c);i.slots.default=()=>f},eee=(i,c)=>{if(i.vnode.shapeFlag&32){const f=c._;f?(i.slots=mt(c),pd(c,"_",f)):DP(c,i.slots={})}else i.slots={},c&&BP(i,c);pd(i.slots,Vd,1)},tee=(i,c,f)=>{const{vnode:p,slots:h}=i;let b=!0,C=Bt;if(p.shapeFlag&32){const x=c._;x?f&&x===1?b=!1:(jt(h,c),!f&&x===1&&delete h._):(b=!c.$stable,DP(c,h)),C=c}else c&&(BP(i,c),C={default:1});if(b)for(const x in h)!OP(x)&&C[x]==null&&delete h[x]};function Ed(i,c,f,p,h=!1){if(ze(i)){i.forEach((K,ue)=>Ed(K,c&&(ze(c)?c[ue]:c),f,p,h));return}if(bi(p)&&!h)return;const b=p.shapeFlag&4?jd(p.component)||p.component.proxy:p.el,C=h?null:b,{i:x,r:N}=i,D=c&&c.r,W=x.refs===Bt?x.refs={}:x.refs,$=x.setupState;if(D!=null&&D!==N&&(Wt(D)?(W[D]=null,St($,D)&&($[D]=null)):sn(D)&&(D.value=null)),et(N))ao(N,x,12,[C,W]);else{const K=Wt(N),ue=sn(N);if(K||ue){const pe=()=>{if(i.f){const De=K?St($,N)?$[N]:W[N]:N.value;h?ze(De)&&Yb(De,b):ze(De)?De.includes(b)||De.push(b):K?(W[N]=[b],St($,N)&&($[N]=W[N])):(N.value=[b],i.k&&(W[i.k]=N.value))}else K?(W[N]=C,St($,N)&&($[N]=C)):ue&&(N.value=C,i.k&&(W[i.k]=C))};C?(pe.id=-1,kn(pe,f)):pe()}}}let or=!1;const ad=i=>/svg/.test(i.namespaceURI)&&i.tagName!=="foreignObject",cd=i=>i.nodeType===8;function nee(i){const{mt:c,p:f,o:{patchProp:p,createText:h,nextSibling:b,parentNode:C,remove:x,insert:N,createComment:D}}=i,W=(A,V)=>{if(!V.hasChildNodes()){f(null,A,V),vd(),V._vnode=A;return}or=!1,$(V.firstChild,A,null,null,null),vd(),V._vnode=A},$=(A,V,ee,we,ke,ve=!1)=>{const Ee=cd(A)&&A.data==="[",be=()=>De(A,V,ee,we,ke,Ee),{type:q,ref:ce,shapeFlag:Ge,patchFlag:vt}=V;let Be=A.nodeType;V.el=A,vt===-2&&(ve=!1,V.dynamicChildren=null);let He=null;switch(q){case Ci:Be!==3?V.children===""?(N(V.el=h(""),C(A),A),He=A):He=be():(A.data!==V.children&&(or=!0,A.data=V.children),He=b(A));break;case Dn:de(A)?(He=b(A),tt(V.el=A.content.firstChild,A,ee)):Be!==8||Ee?He=be():He=b(A);break;case yi:if(Ee&&(A=b(A),Be=A.nodeType),Be===1||Be===3){He=A;const ut=!V.children.length;for(let G=0;G<V.staticCount;G++)ut&&(V.children+=He.nodeType===1?He.outerHTML:He.data),G===V.staticCount-1&&(V.anchor=He),He=b(He);return Ee?b(He):He}else be();break;case Nn:Ee?He=pe(A,V,ee,we,ke,ve):He=be();break;default:if(Ge&1)(Be!==1||V.type.toLowerCase()!==A.tagName.toLowerCase())&&!de(A)?He=be():He=K(A,V,ee,we,ke,ve);else if(Ge&6){V.slotScopeIds=ke;const ut=C(A);if(Ee?He=Ve(A):cd(A)&&A.data==="teleport start"?He=Ve(A,A.data,"teleport end"):He=b(A),c(V,ut,null,ee,we,ad(ut),ve),bi(V)){let G;Ee?(G=Vt(Nn),G.anchor=He?He.previousSibling:ut.lastChild):G=A.nodeType===3?_y(""):Vt("div"),G.el=A,V.component.subTree=G}}else Ge&64?Be!==8?He=be():He=V.type.hydrate(A,V,ee,we,ke,ve,i,ue):Ge&128&&(He=V.type.hydrate(A,V,ee,we,ad(C(A)),ke,ve,i,$))}return ce!=null&&Ed(ce,null,we,V),He},K=(A,V,ee,we,ke,ve)=>{ve=ve||!!V.dynamicChildren;const{type:Ee,props:be,patchFlag:q,shapeFlag:ce,dirs:Ge,transition:vt}=V,Be=Ee==="input"||Ee==="option";if(Be||q!==-1){if(Ge&&ro(V,null,ee,"created"),be)if(Be||!ve||q&48)for(const G in be)(Be&&(G.endsWith("value")||G==="indeterminate")||Al(G)&&!fl(G)||G[0]===".")&&p(A,G,null,be[G],!1,void 0,ee);else be.onClick&&p(A,"onClick",null,be.onClick,!1,void 0,ee);let He;(He=be&&be.onVnodeBeforeMount)&&qn(He,ee,V);let ut=!1;if(de(A)){ut=LP(we,vt)&&ee&&ee.vnode.props&&ee.vnode.props.appear;const G=A.content.firstChild;ut&&vt.beforeEnter(G),tt(G,A,ee),V.el=A=G}if(Ge&&ro(V,null,ee,"beforeMount"),((He=be&&be.onVnodeMounted)||Ge||ut)&&pP(()=>{He&&qn(He,ee,V),ut&&vt.enter(A),Ge&&ro(V,null,ee,"mounted")},we),ce&16&&!(be&&(be.innerHTML||be.textContent))){let G=ue(A.firstChild,V,A,ee,we,ke,ve),Lt=!1;for(;G;){or=!0;const Io=G;G=G.nextSibling,x(Io)}}else ce&8&&A.textContent!==V.children&&(or=!0,A.textContent=V.children)}return A.nextSibling},ue=(A,V,ee,we,ke,ve,Ee)=>{Ee=Ee||!!V.dynamicChildren;const be=V.children,q=be.length;let ce=!1;for(let Ge=0;Ge<q;Ge++){const vt=Ee?be[Ge]:be[Ge]=us(be[Ge]);if(A)A=$(A,vt,we,ke,ve,Ee);else{if(vt.type===Ci&&!vt.children)continue;or=!0,f(null,vt,ee,null,we,ke,ad(ee),ve)}}return A},pe=(A,V,ee,we,ke,ve)=>{const{slotScopeIds:Ee}=V;Ee&&(ke=ke?ke.concat(Ee):Ee);const be=C(A),q=ue(b(A),V,be,ee,we,ke,ve);return q&&cd(q)&&q.data==="]"?b(V.anchor=q):(or=!0,N(V.anchor=D("]"),be,q),q)},De=(A,V,ee,we,ke,ve)=>{if(or=!0,V.el=null,ve){const q=Ve(A);for(;;){const ce=b(A);if(ce&&ce!==q)x(ce);else break}}const Ee=b(A),be=C(A);return x(A),f(null,V,be,Ee,ee,we,ad(be),ke),Ee},Ve=(A,V="[",ee="]")=>{let we=0;for(;A;)if(A=b(A),A&&cd(A)&&(A.data===V&&we++,A.data===ee)){if(we===0)return b(A);we--}return A},tt=(A,V,ee)=>{const we=V.parentNode;we&&we.replaceChild(A,V);let ke=ee;for(;ke;)ke.vnode.el===V&&(ke.vnode.el=ke.subTree.el=A),ke=ke.parent},de=A=>A.nodeType===1&&A.tagName.toLowerCase()==="template";return[W,$]}function see(){const i=[]}const kn=pP;function IP(i){return FP(i)}function $P(i){return FP(i,nee)}function FP(i,c){see();const f=Rb();f.__VUE__=!0;const{insert:p,remove:h,patchProp:b,createElement:C,createText:x,createComment:N,setText:D,setElementText:W,parentNode:$,nextSibling:K,setScopeId:ue=Us,insertStaticContent:pe}=i,De=(B,I,Z,Q=null,R=null,Te=null,Ie=!1,J=null,Re=!!I.dynamicChildren)=>{if(B===I)return;B&&!Ms(B,I)&&(Q=v(B),ks(B,R,Te,!0),B=null),I.patchFlag===-2&&(Re=!1,I.dynamicChildren=null);const{type:le,ref:qe,shapeFlag:Pe}=I;switch(le){case Ci:Ve(B,I,Z,Q);break;case Dn:tt(B,I,Z,Q);break;case yi:B==null&&de(I,Z,Q,Ie);break;case Nn:Ge(B,I,Z,Q,R,Te,Ie,J,Re);break;default:Pe&1?we(B,I,Z,Q,R,Te,Ie,J,Re):Pe&6?vt(B,I,Z,Q,R,Te,Ie,J,Re):(Pe&64||Pe&128)&&le.process(B,I,Z,Q,R,Te,Ie,J,Re,$o)}qe!=null&&R&&Ed(qe,B&&B.ref,Te,I||B,!I)},Ve=(B,I,Z,Q)=>{if(B==null)p(I.el=x(I.children),Z,Q);else{const R=I.el=B.el;I.children!==B.children&&D(R,I.children)}},tt=(B,I,Z,Q)=>{B==null?p(I.el=N(I.children||""),Z,Q):I.el=B.el},de=(B,I,Z,Q)=>{[B.el,B.anchor]=pe(B.children,I,Z,Q,B.el,B.anchor)},A=(B,I,Z,Q)=>{if(I.children!==B.children){const R=K(B.anchor);ee(B),[I.el,I.anchor]=pe(I.children,Z,R,Q)}else I.el=B.el,I.anchor=B.anchor},V=({el:B,anchor:I},Z,Q)=>{let R;for(;B&&B!==I;)R=K(B),p(B,Z,Q),B=R;p(I,Z,Q)},ee=({el:B,anchor:I})=>{let Z;for(;B&&B!==I;)Z=K(B),h(B),B=Z;h(I)},we=(B,I,Z,Q,R,Te,Ie,J,Re)=>{Ie=Ie||I.type==="svg",B==null?ke(I,Z,Q,R,Te,Ie,J,Re):be(B,I,R,Te,Ie,J,Re)},ke=(B,I,Z,Q,R,Te,Ie,J)=>{let Re,le;const{type:qe,props:Pe,shapeFlag:Ke,transition:rt,dirs:nt}=B;if(Re=B.el=C(B.type,Te,Pe&&Pe.is,Pe),Ke&8?W(Re,B.children):Ke&16&&Ee(B.children,Re,null,Q,R,Te&&qe!=="foreignObject",Ie,J),nt&&ro(B,null,Q,"created"),ve(Re,B,B.scopeId,Ie,Q),Pe){for(const wt in Pe)wt!=="value"&&!fl(wt)&&b(Re,wt,null,Pe[wt],Te,B.children,Q,R,Et);"value"in Pe&&b(Re,"value",null,Pe.value),(le=Pe.onVnodeBeforeMount)&&qn(le,Q,B)}nt&&ro(B,null,Q,"beforeMount");const Ct=LP(R,rt);Ct&&rt.beforeEnter(Re),p(Re,I,Z),((le=Pe&&Pe.onVnodeMounted)||Ct||nt)&&kn(()=>{le&&qn(le,Q,B),Ct&&rt.enter(Re),nt&&ro(B,null,Q,"mounted")},R)},ve=(B,I,Z,Q,R)=>{if(Z&&ue(B,Z),Q)for(let Te=0;Te<Q.length;Te++)ue(B,Q[Te]);if(R){let Te=R.subTree;if(I===Te){const Ie=R.vnode;ve(B,Ie,Ie.scopeId,Ie.slotScopeIds,R.parent)}}},Ee=(B,I,Z,Q,R,Te,Ie,J,Re=0)=>{for(let le=Re;le<B.length;le++){const qe=B[le]=J?cr(B[le]):us(B[le]);De(null,qe,I,Z,Q,R,Te,Ie,J)}},be=(B,I,Z,Q,R,Te,Ie)=>{const J=I.el=B.el;let{patchFlag:Re,dynamicChildren:le,dirs:qe}=I;Re|=B.patchFlag&16;const Pe=B.props||Bt,Ke=I.props||Bt;let rt;Z&&ci(Z,!1),(rt=Ke.onVnodeBeforeUpdate)&&qn(rt,Z,I,B),qe&&ro(I,B,Z,"beforeUpdate"),Z&&ci(Z,!0);const nt=R&&I.type!=="foreignObject";if(le?q(B.dynamicChildren,le,J,Z,Q,nt,Te):Ie||Lt(B,I,J,null,Z,Q,nt,Te,!1),Re>0){if(Re&16)ce(J,I,Pe,Ke,Z,Q,R);else if(Re&2&&Pe.class!==Ke.class&&b(J,"class",null,Ke.class,R),Re&4&&b(J,"style",Pe.style,Ke.style,R),Re&8){const Ct=I.dynamicProps;for(let wt=0;wt<Ct.length;wt++){const Ut=Ct[wt],Bn=Pe[Ut],Hn=Ke[Ut];(Hn!==Bn||Ut==="value")&&b(J,Ut,Bn,Hn,R,B.children,Z,Q,Et)}}Re&1&&B.children!==I.children&&W(J,I.children)}else!Ie&&le==null&&ce(J,I,Pe,Ke,Z,Q,R);((rt=Ke.onVnodeUpdated)||qe)&&kn(()=>{rt&&qn(rt,Z,I,B),qe&&ro(I,B,Z,"updated")},Q)},q=(B,I,Z,Q,R,Te,Ie)=>{for(let J=0;J<I.length;J++){const Re=B[J],le=I[J],qe=Re.el&&(Re.type===Nn||!Ms(Re,le)||Re.shapeFlag&70)?$(Re.el):Z;De(Re,le,qe,null,Q,R,Te,Ie,!0)}},ce=(B,I,Z,Q,R,Te,Ie)=>{if(Z!==Q){if(Z!==Bt)for(const J in Z)!fl(J)&&!(J in Q)&&b(B,J,Z[J],null,Ie,I.children,R,Te,Et);for(const J in Q){if(fl(J))continue;const Re=Q[J],le=Z[J];Re!==le&&J!=="value"&&b(B,J,le,Re,Ie,I.children,R,Te,Et)}"value"in Q&&b(B,"value",Z.value,Q.value)}},Ge=(B,I,Z,Q,R,Te,Ie,J,Re)=>{const le=I.el=B?B.el:x(""),qe=I.anchor=B?B.anchor:x("");let{patchFlag:Pe,dynamicChildren:Ke,slotScopeIds:rt}=I;rt&&(J=J?J.concat(rt):rt),B==null?(p(le,Z,Q),p(qe,Z,Q),Ee(I.children,Z,qe,R,Te,Ie,J,Re)):Pe>0&&Pe&64&&Ke&&B.dynamicChildren?(q(B.dynamicChildren,Ke,Z,R,Te,Ie,J),(I.key!=null||R&&I===R.subTree)&&Cy(B,I,!0)):Lt(B,I,Z,qe,R,Te,Ie,J,Re)},vt=(B,I,Z,Q,R,Te,Ie,J,Re)=>{I.slotScopeIds=J,B==null?I.shapeFlag&512?R.ctx.activate(I,Z,Q,Ie,Re):Be(I,Z,Q,R,Te,Ie,Re):He(B,I,Re)},Be=(B,I,Z,Q,R,Te,Ie)=>{const J=B.component=WP(B,Q,R);if(Bl(B)&&(J.ctx.renderer=$o),qP(J),J.asyncDep){if(R&&R.registerDep(J,ut),!B.el){const Re=J.subTree=Vt(Dn);tt(null,Re,I,Z)}return}ut(J,B,I,Z,R,Te,Ie)},He=(B,I,Z)=>{const Q=I.component=B.component;if(sQ(B,I,Z))if(Q.asyncDep&&!Q.asyncResolved){G(Q,I,Z);return}else Q.next=I,GJ(Q.update),Q.update();else I.el=B.el,Q.vnode=I},ut=(B,I,Z,Q,R,Te,Ie)=>{const J=()=>{if(B.isMounted){let{next:qe,bu:Pe,u:Ke,parent:rt,vnode:nt}=B,Ct=qe,wt;ci(B,!1),qe?(qe.el=nt.el,G(B,qe,Ie)):qe=nt,Pe&&wa(Pe),(wt=qe.props&&qe.props.onVnodeBeforeUpdate)&&qn(wt,rt,qe,nt),ci(B,!0);const Ut=fd(B),Bn=B.subTree;B.subTree=Ut,De(Bn,Ut,$(Bn.el),v(Bn),B,R,Te),qe.el=Ut.el,Ct===null&&uy(B,Ut.el),Ke&&kn(Ke,R),(wt=qe.props&&qe.props.onVnodeUpdated)&&kn(()=>qn(wt,rt,qe,nt),R)}else{let qe;const{el:Pe,props:Ke}=I,{bm:rt,m:nt,parent:Ct}=B,wt=bi(I);if(ci(B,!1),rt&&wa(rt),!wt&&(qe=Ke&&Ke.onVnodeBeforeMount)&&qn(qe,Ct,I),ci(B,!0),Pe&&Ti){const Ut=()=>{B.subTree=fd(B),Ti(Pe,B.subTree,B,R,null)};wt?I.type.__asyncLoader().then(()=>!B.isUnmounted&&Ut()):Ut()}else{const Ut=B.subTree=fd(B);De(null,Ut,Z,Q,B,R,Te),I.el=Ut.el}if(nt&&kn(nt,R),!wt&&(qe=Ke&&Ke.onVnodeMounted)){const Ut=I;kn(()=>qn(qe,Ct,Ut),R)}(I.shapeFlag&256||Ct&&bi(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&B.a&&kn(B.a,R),B.isMounted=!0,I=Z=Q=null}},Re=B.effect=new xa(J,()=>Bd(le),B.scope),le=B.update=()=>Re.run();le.id=B.uid,ci(B,!0),le()},G=(B,I,Z)=>{I.component=B;const Q=B.vnode.props;B.vnode=I,B.next=null,JQ(B,I.props,Q,Z),tee(B,I.children,Z),_i(),eR(B),Si()},Lt=(B,I,Z,Q,R,Te,Ie,J,Re=!1)=>{const le=B&&B.children,qe=B?B.shapeFlag:0,Pe=I.children,{patchFlag:Ke,shapeFlag:rt}=I;if(Ke>0){if(Ke&128){ye(le,Pe,Z,Q,R,Te,Ie,J,Re);return}else if(Ke&256){Io(le,Pe,Z,Q,R,Te,Ie,J,Re);return}}rt&8?(qe&16&&Et(le,R,Te),Pe!==le&&W(Z,Pe)):qe&16?rt&16?ye(le,Pe,Z,Q,R,Te,Ie,J,Re):Et(le,R,Te,!0):(qe&8&&W(Z,""),rt&16&&Ee(Pe,Z,Q,R,Te,Ie,J,Re))},Io=(B,I,Z,Q,R,Te,Ie,J,Re)=>{B=B||Ca,I=I||Ca;const le=B.length,qe=I.length,Pe=Math.min(le,qe);let Ke;for(Ke=0;Ke<Pe;Ke++){const rt=I[Ke]=Re?cr(I[Ke]):us(I[Ke]);De(B[Ke],rt,Z,null,R,Te,Ie,J,Re)}le>qe?Et(B,R,Te,!0,!1,Pe):Ee(I,Z,Q,R,Te,Ie,J,Re,Pe)},ye=(B,I,Z,Q,R,Te,Ie,J,Re)=>{let le=0;const qe=I.length;let Pe=B.length-1,Ke=qe-1;for(;le<=Pe&&le<=Ke;){const rt=B[le],nt=I[le]=Re?cr(I[le]):us(I[le]);if(Ms(rt,nt))De(rt,nt,Z,null,R,Te,Ie,J,Re);else break;le++}for(;le<=Pe&&le<=Ke;){const rt=B[Pe],nt=I[Ke]=Re?cr(I[Ke]):us(I[Ke]);if(Ms(rt,nt))De(rt,nt,Z,null,R,Te,Ie,J,Re);else break;Pe--,Ke--}if(le>Pe){if(le<=Ke){const rt=Ke+1,nt=rt<qe?I[rt].el:Q;for(;le<=Ke;)De(null,I[le]=Re?cr(I[le]):us(I[le]),Z,nt,R,Te,Ie,J,Re),le++}}else if(le>Ke)for(;le<=Pe;)ks(B[le],R,Te,!0),le++;else{const rt=le,nt=le,Ct=new Map;for(le=nt;le<=Ke;le++){const $t=I[le]=Re?cr(I[le]):us(I[le]);$t.key!=null&&Ct.set($t.key,le)}let wt,Ut=0;const Bn=Ke-nt+1;let Hn=!1,Cr=0;const Jt=new Array(Bn);for(le=0;le<Bn;le++)Jt[le]=0;for(le=rt;le<=Pe;le++){const $t=B[le];if(Ut>=Bn){ks($t,R,Te,!0);continue}let En;if($t.key!=null)En=Ct.get($t.key);else for(wt=nt;wt<=Ke;wt++)if(Jt[wt-nt]===0&&Ms($t,I[wt])){En=wt;break}En===void 0?ks($t,R,Te,!0):(Jt[En-nt]=le+1,En>=Cr?Cr=En:Hn=!0,De($t,I[En],Z,null,R,Te,Ie,J,Re),Ut++)}const Hs=Hn?oee(Jt):Ca;for(wt=Hs.length-1,le=Bn-1;le>=0;le--){const $t=nt+le,En=I[$t],$l=$t+1<qe?I[$t+1].el:Q;Jt[le]===0?De(null,En,Z,$l,R,Te,Ie,J,Re):Hn&&(wt<0||le!==Hs[wt]?ds(En,Z,$l,2):wt--)}}},ds=(B,I,Z,Q,R=null)=>{const{el:Te,type:Ie,transition:J,children:Re,shapeFlag:le}=B;if(le&6){ds(B.component.subTree,I,Z,Q);return}if(le&128){B.suspense.move(I,Z,Q);return}if(le&64){Ie.move(B,I,Z,$o);return}if(Ie===Nn){p(Te,I,Z);for(let Pe=0;Pe<Re.length;Pe++)ds(Re[Pe],I,Z,Q);p(B.anchor,I,Z);return}if(Ie===yi){V(B,I,Z);return}if(Q!==2&&le&1&&J)if(Q===0)J.beforeEnter(Te),p(Te,I,Z),kn(()=>J.enter(Te),R);else{const{leave:Pe,delayLeave:Ke,afterLeave:rt}=J,nt=()=>p(Te,I,Z),Ct=()=>{Pe(Te,()=>{nt(),rt&&rt()})};Ke?Ke(Te,nt,Ct):Ct()}else p(Te,I,Z)},ks=(B,I,Z,Q=!1,R=!1)=>{const{type:Te,props:Ie,ref:J,children:Re,dynamicChildren:le,shapeFlag:qe,patchFlag:Pe,dirs:Ke}=B;if(J!=null&&Ed(J,null,Z,B,!0),qe&256){I.ctx.deactivate(B);return}const rt=qe&1&&Ke,nt=!bi(B);let Ct;if(nt&&(Ct=Ie&&Ie.onVnodeBeforeUnmount)&&qn(Ct,I,B),qe&6)Ot(B.component,Z,Q);else{if(qe&128){B.suspense.unmount(Z,Q);return}rt&&ro(B,null,I,"beforeUnmount"),qe&64?B.type.remove(B,I,Z,R,$o,Q):le&&(Te!==Nn||Pe>0&&Pe&64)?Et(le,I,Z,!1,!0):(Te===Nn&&Pe&384||!R&&qe&16)&&Et(Re,I,Z),Q&&ki(B)}(nt&&(Ct=Ie&&Ie.onVnodeUnmounted)||rt)&&kn(()=>{Ct&&qn(Ct,I,B),rt&&ro(B,null,I,"unmounted")},Z)},ki=B=>{const{type:I,el:Z,anchor:Q,transition:R}=B;if(I===Nn){vr(Z,Q);return}if(I===yi){ee(B);return}const Te=()=>{h(Z),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(B.shapeFlag&1&&R&&!R.persisted){const{leave:Ie,delayLeave:J}=R,Re=()=>Ie(Z,Te);J?J(B.el,Te,Re):Re()}else Te()},vr=(B,I)=>{let Z;for(;B!==I;)Z=K(B),h(B),B=Z;h(I)},Ot=(B,I,Z)=>{const{bum:Q,scope:R,update:Te,subTree:Ie,um:J}=B;Q&&wa(Q),R.stop(),Te&&(Te.active=!1,ks(Ie,B,I,Z)),J&&kn(J,I),kn(()=>{B.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Et=(B,I,Z,Q=!1,R=!1,Te=0)=>{for(let Ie=Te;Ie<B.length;Ie++)ks(B[Ie],I,Z,Q,R)},v=B=>B.shapeFlag&6?v(B.component.subTree):B.shapeFlag&128?B.suspense.next():K(B.anchor||B.el),Ni=(B,I,Z)=>{B==null?I._vnode&&ks(I._vnode,null,null,!0):De(I._vnode||null,B,I,null,null,null,Z),eR(),vd(),I._vnode=B},$o={p:De,um:ks,m:ds,r:ki,mt:Be,mc:Ee,pc:Lt,pbc:q,n:v,o:i};let Oa,Ti;return c&&([Oa,Ti]=c($o)),{render:Ni,hydrate:Oa,createApp:YQ(Ni,Oa)}}function ci({effect:i,update:c},f){i.allowRecurse=c.allowRecurse=f}function LP(i,c){return(!i||i&&!i.pendingBranch)&&c&&!c.persisted}function Cy(i,c,f=!1){const p=i.children,h=c.children;if(ze(p)&&ze(h))for(let b=0;b<p.length;b++){const C=p[b];let x=h[b];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=h[b]=cr(h[b]),x.el=C.el),f||Cy(C,x)),x.type===Ci&&(x.el=C.el)}}function oee(i){const c=i.slice(),f=[0];let p,h,b,C,x;const N=i.length;for(p=0;p<N;p++){const D=i[p];if(D!==0){if(h=f[f.length-1],i[h]<D){c[p]=h,f.push(p);continue}for(b=0,C=f.length-1;b<C;)x=b+C>>1,i[f[x]]<D?b=x+1:C=x;D<i[f[b]]&&(b>0&&(c[p]=f[b-1]),f[b]=p)}}for(b=f.length,C=f[b-1];b-- >0;)f[b]=C,C=c[C];return f}const ree=i=>i.__isTeleport,hl=i=>i&&(i.disabled||i.disabled===""),pR=i=>typeof SVGElement!="undefined"&&i instanceof SVGElement,Ub=(i,c)=>{const f=i&&i.to;if(Wt(f))if(c){const p=c(f);return p}else return null;else return f},iee={name:"Teleport",__isTeleport:!0,process(i,c,f,p,h,b,C,x,N,D){const{mc:W,pc:$,pbc:K,o:{insert:ue,querySelector:pe,createText:De,createComment:Ve}}=D,tt=hl(c.props);let{shapeFlag:de,children:A,dynamicChildren:V}=c;if(i==null){const ee=c.el=De(""),we=c.anchor=De("");ue(ee,f,p),ue(we,f,p);const ke=c.target=Ub(c.props,pe),ve=c.targetAnchor=De("");ke&&(ue(ve,ke),C=C||pR(ke));const Ee=(be,q)=>{de&16&&W(A,be,q,h,b,C,x,N)};tt?Ee(f,we):ke&&Ee(ke,ve)}else{c.el=i.el;const ee=c.anchor=i.anchor,we=c.target=i.target,ke=c.targetAnchor=i.targetAnchor,ve=hl(i.props),Ee=ve?f:we,be=ve?ee:ke;if(C=C||pR(we),V?(K(i.dynamicChildren,V,Ee,h,b,C,x),Cy(i,c,!0)):N||$(i,c,Ee,be,h,b,C,x,!1),tt)ve?c.props&&i.props&&c.props.to!==i.props.to&&(c.props.to=i.props.to):ld(c,f,ee,D,1);else if((c.props&&c.props.to)!==(i.props&&i.props.to)){const q=c.target=Ub(c.props,pe);q&&ld(c,q,null,D,0)}else ve&&ld(c,we,ke,D,1)}MP(c)},remove(i,c,f,p,{um:h,o:{remove:b}},C){const{shapeFlag:x,children:N,anchor:D,targetAnchor:W,target:$,props:K}=i;if($&&b(W),C&&b(D),x&16){const ue=C||!hl(K);for(let pe=0;pe<N.length;pe++){const De=N[pe];h(De,c,f,ue,!!De.dynamicChildren)}}},move:ld,hydrate:aee};function ld(i,c,f,{o:{insert:p},m:h},b=2){b===0&&p(i.targetAnchor,c,f);const{el:C,anchor:x,shapeFlag:N,children:D,props:W}=i,$=b===2;if($&&p(C,c,f),(!$||hl(W))&&N&16)for(let K=0;K<D.length;K++)h(D[K],c,f,2);$&&p(x,c,f)}function aee(i,c,f,p,h,b,{o:{nextSibling:C,parentNode:x,querySelector:N}},D){const W=c.target=Ub(c.props,N);if(W){const $=W._lpa||W.firstChild;if(c.shapeFlag&16)if(hl(c.props))c.anchor=D(C(i),c,x(i),f,p,h,b),c.targetAnchor=$;else{c.anchor=C(i);let K=$;for(;K;)if(K=C(K),K&&K.nodeType===8&&K.data==="teleport anchor"){c.targetAnchor=K,W._lpa=c.targetAnchor&&C(c.targetAnchor);break}D($,c,W,f,p,h,b)}MP(c)}return c.anchor&&C(c.anchor)}const cee=iee;function MP(i){const c=i.ctx;if(c&&c.ut){let f=i.children[0].el;for(;f&&f!==i.targetAnchor;)f.nodeType===1&&f.setAttribute("data-v-owner",c.uid),f=f.nextSibling;c.ut()}}const Nn=Symbol.for("v-fgt"),Ci=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),yi=Symbol.for("v-stc"),bl=[];let Gn=null;function zd(i=!1){bl.push(Gn=i?null:[])}function UP(){bl.pop(),Gn=bl[bl.length-1]||null}let Ei=1;function Hb(i){Ei+=i}function HP(i){return i.dynamicChildren=Ei>0?Gn||Ca:null,UP(),Ei>0&&Gn&&Gn.push(i),i}function lee(i,c,f,p,h,b){return HP(wy(i,c,f,p,h,b,!0))}function Ey(i,c,f,p,h){return HP(Vt(i,c,f,p,h,!0))}function hr(i){return i?i.__v_isVNode===!0:!1}function Ms(i,c){return i.type===c.type&&i.key===c.key}let uee;function fee(i){uee=i}const Vd="__vInternal",zP=({key:i})=>i!=null?i:null,dd=({ref:i,ref_key:c,ref_for:f})=>(typeof i=="number"&&(i=""+i),i!=null?Wt(i)||sn(i)||et(i)?{i:Cn,r:i,k:c,f:!!f}:i:null);function wy(i,c=null,f=null,p=0,h=null,b=i===Nn?0:1,C=!1,x=!1){const N={__v_isVNode:!0,__v_skip:!0,type:i,props:c,key:c&&zP(c),ref:c&&dd(c),scopeId:$d,slotScopeIds:null,children:f,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:b,patchFlag:p,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:Cn};return x?(Sy(N,f),b&128&&i.normalize(N)):f&&(N.shapeFlag|=Wt(f)?8:16),Ei>0&&!C&&Gn&&(N.patchFlag>0||b&6)&&N.patchFlag!==32&&Gn.push(N),N}const Vt=dee;function dee(i,c=null,f=null,p=0,h=null,b=!1){if((!i||i===fP)&&(i=Dn),hr(i)){const x=lo(i,c,!0);return f&&Sy(x,f),Ei>0&&!b&&Gn&&(x.shapeFlag&6?Gn[Gn.indexOf(i)]=x:Gn.push(x)),x.patchFlag|=-2,x}if(_ee(i)&&(i=i.__vccOpts),c){c=VP(c);let{class:x,style:N}=c;x&&!Wt(x)&&(c.class=Ol(x)),Pt(N)&&(ny(N)&&!ze(N)&&(N=jt({},N)),c.style=Pl(N))}const C=Wt(i)?1:dP(i)?128:ree(i)?64:Pt(i)?4:et(i)?2:0;return wy(i,c,f,p,h,C,b,!0)}function VP(i){return i?ny(i)||Vd in i?jt({},i):i:null}function lo(i,c,f=!1){const{props:p,ref:h,patchFlag:b,children:C}=i,x=c?jP(p||{},c):p;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:x,key:x&&zP(x),ref:c&&c.ref?f&&h?ze(h)?h.concat(dd(c)):[h,dd(c)]:dd(c):h,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:C,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:c&&i.type!==Nn?b===-1?16:b|16:b,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&lo(i.ssContent),ssFallback:i.ssFallback&&lo(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function _y(i=" ",c=0){return Vt(Ci,null,i,c)}function pee(i,c){const f=Vt(yi,null,i);return f.staticCount=c,f}function mee(i="",c=!1){return c?(zd(),Ey(Dn,null,i)):Vt(Dn,null,i)}function us(i){return i==null||typeof i=="boolean"?Vt(Dn):ze(i)?Vt(Nn,null,i.slice()):typeof i=="object"?cr(i):Vt(Ci,null,String(i))}function cr(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:lo(i)}function Sy(i,c){let f=0;const{shapeFlag:p}=i;if(c==null)c=null;else if(ze(c))f=16;else if(typeof c=="object")if(p&65){const h=c.default;h&&(h._c&&(h._d=!1),Sy(i,h()),h._c&&(h._d=!0));return}else{f=32;const h=c._;!h&&!(Vd in c)?c._ctx=Cn:h===3&&Cn&&(Cn.slots._===1?c._=1:(c._=2,i.patchFlag|=1024))}else et(c)?(c={default:c,_ctx:Cn},f=32):(c=String(c),p&64?(f=16,c=[_y(c)]):f=8);i.children=c,i.shapeFlag|=f}function jP(...i){const c={};for(let f=0;f<i.length;f++){const p=i[f];for(const h in p)if(h==="class")c.class!==p.class&&(c.class=Ol([c.class,p.class]));else if(h==="style")c.style=Pl([c.style,p.style]);else if(Al(h)){const b=c[h],C=p[h];C&&b!==C&&!(ze(b)&&b.includes(C))&&(c[h]=b?[].concat(b,C):C)}else h!==""&&(c[h]=p[h])}return c}function qn(i,c,f,p=null){fs(i,c,7,[f,p])}const gee=TP();let hee=0;function WP(i,c,f){const p=i.type,h=(c?c.appContext:i.appContext)||gee,b={uid:hee++,vnode:i,type:p,parent:c,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:c?c.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PP(p,h),emitsOptions:uP(p,h),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:p.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:f,suspenseId:f?f.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return b.ctx={_:b},b.root=c?c.root:b,b.emit=XJ.bind(null,b),i.ce&&i.ce(b),b}let fn=null;const Bo=()=>fn||Cn;let xy,ya,mR="__VUE_INSTANCE_SETTERS__";(ya=Rb()[mR])||(ya=Rb()[mR]=[]),ya.push(i=>fn=i),xy=i=>{ya.length>1?ya.forEach(c=>c(i)):ya[0](i)};const br=i=>{xy(i),i.scope.on()},fr=()=>{fn&&fn.scope.off(),xy(null)};function KP(i){return i.vnode.shapeFlag&4}let Na=!1;function qP(i,c=!1){Na=c;const{props:f,children:p}=i.vnode,h=KP(i);ZQ(i,f,h,c),eee(i,p);const b=h?bee(i,c):void 0;return Na=!1,b}function bee(i,c){var f;const p=i.type;i.accessCache=Object.create(null),i.proxy=sy(new Proxy(i.ctx,$b));const{setup:h}=p;if(h){const b=i.setupContext=h.length>1?YP(i):null;br(i),_i();const C=ao(h,i,0,[i.props,b]);if(Si(),fr(),Xb(C)){if(C.then(fr,fr),c)return C.then(x=>{zb(i,x,c)}).catch(x=>{xi(x,i,0)});i.asyncDep=C}else zb(i,C,c)}else GP(i,c)}function zb(i,c,f){et(c)?i.type.__ssrInlineRender?i.ssrRender=c:i.render=c:Pt(c)&&(i.setupState=ay(c)),GP(i,f)}let wd,Vb;function yee(i){wd=i,Vb=c=>{c.render._rc&&(c.withProxy=new Proxy(c.ctx,TQ))}}const vee=()=>!wd;function GP(i,c,f){const p=i.type;if(!i.render){if(!c&&wd&&!p.render){const h=p.template||yy(i).template;if(h){const{isCustomElement:b,compilerOptions:C}=i.appContext.config,{delimiters:x,compilerOptions:N}=p,D=jt(jt({isCustomElement:b,delimiters:x},C),N);p.render=wd(h,D)}}i.render=p.render||Us,Vb&&Vb(i)}br(i),_i();try{VQ(i)}finally{Si(),fr()}}function Cee(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(c,f){return Xn(i,"get","$attrs"),c[f]}}))}function YP(i){const c=f=>{i.exposed=f||{}};return{get attrs(){return Cee(i)},slots:i.slots,emit:i.emit,expose:c}}function jd(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(ay(sy(i.exposed)),{get(c,f){if(f in c)return c[f];if(f in ml)return ml[f](i)},has(c,f){return f in c||f in ml}}))}const Eee=/(?:^|[-_])(\w)/g,wee=i=>i.replace(Eee,c=>c.toUpperCase()).replace(/[-_]/g,"");function _d(i,c=!0){return et(i)?i.displayName||i.name:i.name||c&&i.__name}function XP(i,c,f=!1){let p=_d(c);if(!p&&c.__file){const h=c.__file.match(/([^/\\]+)\.\w+$/);h&&(p=h[1])}if(!p&&i&&i.parent){const h=b=>{for(const C in b)if(b[C]===c)return C};p=h(i.components||i.parent.type.components)||h(i.appContext.components)}return p?wee(p):f?"App":"Anonymous"}function _ee(i){return et(i)&&"__vccOpts"in i}const ZP=(i,c)=>HJ(i,c,Na);function Sd(i,c,f){const p=arguments.length;return p===2?Pt(c)&&!ze(c)?hr(c)?Vt(i,null,[c]):Vt(i,c):Vt(i,null,c):(p>3?f=Array.prototype.slice.call(arguments,2):p===3&&hr(f)&&(f=[f]),Vt(i,c,f))}const JP=Symbol.for("v-scx"),QP=()=>{{const i=gl(JP);return i}};function kb(i){return!!(i&&i.__v_isShallow)}function See(){return;function b($){const K=[];$.type.props&&$.props&&K.push(C("props",mt($.props))),$.setupState!==Bt&&K.push(C("setup",$.setupState)),$.data!==Bt&&K.push(C("data",mt($.data)));const ue=N($,"computed");ue&&K.push(C("computed",ue));const pe=N($,"inject");return pe&&K.push(C("injected",pe)),K.push(["div",{},["span",{style:p.style+";opacity:0.66"},"$ (internal): "],["object",{object:$}]]),K}function C($,K){return K=jt({},K),Object.keys(K).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},$],["div",{style:"padding-left:1.25em"},...Object.keys(K).map(ue=>["div",{},["span",p,ue+": "],x(K[ue],!1)])]]:["span",{}]}function x($,K=!0){return typeof $=="number"?["span",c,$]:typeof $=="string"?["span",f,JSON.stringify($)]:typeof $=="boolean"?["span",p,$]:Pt($)?["object",{object:K?mt($):$}]:["span",f,String($)]}function N($,K){const ue=$.type;if(et(ue))return;const pe={};for(const De in $.ctx)D(ue,De,K)&&(pe[De]=$.ctx[De]);return pe}function D($,K,ue){const pe=$[ue];if(ze(pe)&&pe.includes(K)||Pt(pe)&&K in pe||$.extends&&D($.extends,K,ue)||$.mixins&&$.mixins.some(De=>D(De,K,ue)))return!0}function W($){return kb($)?"ShallowRef":$.effect?"ComputedRef":"Ref"}}function xee(i,c,f,p){const h=f[p];if(h&&eO(h,i))return h;const b=c();return b.memo=i.slice(),f[p]=b}function eO(i,c){const f=i.memo;if(f.length!=c.length)return!1;for(let p=0;p<f.length;p++)if(pr(f[p],c[p]))return!1;return Ei>0&&Gn&&Gn.push(i),!0}const tO="3.3.11",kee={createComponentInstance:WP,setupComponent:qP,renderComponentRoot:fd,setCurrentRenderingInstance:Sl,isVNode:hr,normalizeVNode:us},Nee=kee,Tee=null,Aee=null,Ree="http://www.w3.org/2000/svg",di=typeof document!="undefined"?document:null,gR=di&&di.createElement("template"),Pee={insert:(i,c,f)=>{c.insertBefore(i,f||null)},remove:i=>{const c=i.parentNode;c&&c.removeChild(i)},createElement:(i,c,f,p)=>{const h=c?di.createElementNS(Ree,i):di.createElement(i,f?{is:f}:void 0);return i==="select"&&p&&p.multiple!=null&&h.setAttribute("multiple",p.multiple),h},createText:i=>di.createTextNode(i),createComment:i=>di.createComment(i),setText:(i,c)=>{i.nodeValue=c},setElementText:(i,c)=>{i.textContent=c},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>di.querySelector(i),setScopeId(i,c){i.setAttribute(c,"")},insertStaticContent(i,c,f,p,h,b){const C=f?f.previousSibling:c.lastChild;if(h&&(h===b||h.nextSibling))for(;c.insertBefore(h.cloneNode(!0),f),!(h===b||!(h=h.nextSibling)););else{gR.innerHTML=p?`<svg>${i}</svg>`:i;const x=gR.content;if(p){const N=x.firstChild;for(;N.firstChild;)x.appendChild(N.firstChild);x.removeChild(N)}c.insertBefore(x,f)}return[C?C.nextSibling:c.firstChild,f?f.previousSibling:c.lastChild]}},rr="transition",il="animation",Ta=Symbol("_vtc"),ky=(i,{slots:c})=>Sd(hP,sO(i),c);ky.displayName="Transition";const nO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Oee=ky.props=jt({},gy,nO),li=(i,c=[])=>{ze(i)?i.forEach(f=>f(...c)):i&&i(...c)},hR=i=>i?ze(i)?i.some(c=>c.length>1):i.length>1:!1;function sO(i){const c={};for(const ce in i)ce in nO||(c[ce]=i[ce]);if(i.css===!1)return c;const{name:f="v",type:p,duration:h,enterFromClass:b=`${f}-enter-from`,enterActiveClass:C=`${f}-enter-active`,enterToClass:x=`${f}-enter-to`,appearFromClass:N=b,appearActiveClass:D=C,appearToClass:W=x,leaveFromClass:$=`${f}-leave-from`,leaveActiveClass:K=`${f}-leave-active`,leaveToClass:ue=`${f}-leave-to`}=i,pe=Dee(h),De=pe&&pe[0],Ve=pe&&pe[1],{onBeforeEnter:tt,onEnter:de,onEnterCancelled:A,onLeave:V,onLeaveCancelled:ee,onBeforeAppear:we=tt,onAppear:ke=de,onAppearCancelled:ve=A}=c,Ee=(ce,Ge,vt)=>{ir(ce,Ge?W:x),ir(ce,Ge?D:C),vt&&vt()},be=(ce,Ge)=>{ce._isLeaving=!1,ir(ce,$),ir(ce,ue),ir(ce,K),Ge&&Ge()},q=ce=>(Ge,vt)=>{const Be=ce?ke:de,He=()=>Ee(Ge,ce,vt);li(Be,[Ge,He]),bR(()=>{ir(Ge,ce?N:b),To(Ge,ce?W:x),hR(Be)||yR(Ge,p,De,He)})};return jt(c,{onBeforeEnter(ce){li(tt,[ce]),To(ce,b),To(ce,C)},onBeforeAppear(ce){li(we,[ce]),To(ce,N),To(ce,D)},onEnter:q(!1),onAppear:q(!0),onLeave(ce,Ge){ce._isLeaving=!0;const vt=()=>be(ce,Ge);To(ce,$),rO(),To(ce,K),bR(()=>{ce._isLeaving&&(ir(ce,$),To(ce,ue),hR(V)||yR(ce,p,Ve,vt))}),li(V,[ce,vt])},onEnterCancelled(ce){Ee(ce,!1),li(A,[ce])},onAppearCancelled(ce){Ee(ce,!0),li(ve,[ce])},onLeaveCancelled(ce){be(ce),li(ee,[ce])}})}function Dee(i){if(i==null)return null;if(Pt(i))return[Nb(i.enter),Nb(i.leave)];{const c=Nb(i);return[c,c]}}function Nb(i){return gd(i)}function To(i,c){c.split(/\s+/).forEach(f=>f&&i.classList.add(f)),(i[Ta]||(i[Ta]=new Set)).add(c)}function ir(i,c){c.split(/\s+/).forEach(p=>p&&i.classList.remove(p));const f=i[Ta];f&&(f.delete(c),f.size||(i[Ta]=void 0))}function bR(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let Bee=0;function yR(i,c,f,p){const h=i._endId=++Bee,b=()=>{h===i._endId&&p()};if(f)return setTimeout(b,f);const{type:C,timeout:x,propCount:N}=oO(i,c);if(!C)return p();const D=C+"end";let W=0;const $=()=>{i.removeEventListener(D,K),b()},K=ue=>{ue.target===i&&++W>=N&&$()};setTimeout(()=>{W<N&&$()},x+1),i.addEventListener(D,K)}function oO(i,c){const f=window.getComputedStyle(i),p=pe=>(f[pe]||"").split(", "),h=p(`${rr}Delay`),b=p(`${rr}Duration`),C=vR(h,b),x=p(`${il}Delay`),N=p(`${il}Duration`),D=vR(x,N);let W=null,$=0,K=0;c===rr?C>0&&(W=rr,$=C,K=b.length):c===il?D>0&&(W=il,$=D,K=N.length):($=Math.max(C,D),W=$>0?C>D?rr:il:null,K=W?W===rr?b.length:N.length:0);const ue=W===rr&&/\b(transform|all)(,|$)/.test(p(`${rr}Property`).toString());return{type:W,timeout:$,propCount:K,hasTransform:ue}}function vR(i,c){for(;i.length<c.length;)i=i.concat(i);return Math.max(...c.map((f,p)=>CR(f)+CR(i[p])))}function CR(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function rO(){return document.body.offsetHeight}function Iee(i,c,f){const p=i[Ta];p&&(c=(c?[c,...p]:[...p]).join(" ")),c==null?i.removeAttribute("class"):f?i.setAttribute("class",c):i.className=c}const Ny=Symbol("_vod"),iO={beforeMount(i,{value:c},{transition:f}){i[Ny]=i.style.display==="none"?"":i.style.display,f&&c?f.beforeEnter(i):al(i,c)},mounted(i,{value:c},{transition:f}){f&&c&&f.enter(i)},updated(i,{value:c,oldValue:f},{transition:p}){!c!=!f&&(p?c?(p.beforeEnter(i),al(i,!0),p.enter(i)):p.leave(i,()=>{al(i,!1)}):al(i,c))},beforeUnmount(i,{value:c}){al(i,c)}};function al(i,c){i.style.display=c?i[Ny]:"none"}function $ee(){iO.getSSRProps=({value:i})=>{if(!i)return{style:{display:"none"}}}}function Fee(i,c,f){const p=i.style,h=Wt(f);if(f&&!h){if(c&&!Wt(c))for(const b in c)f[b]==null&&jb(p,b,"");for(const b in f)jb(p,b,f[b])}else{const b=p.display;h?c!==f&&(p.cssText=f):c&&i.removeAttribute("style"),Ny in i&&(p.display=b)}}const ER=/\s*!important$/;function jb(i,c,f){if(ze(f))f.forEach(p=>jb(i,c,p));else if(f==null&&(f=""),c.startsWith("--"))i.setProperty(c,f);else{const p=Lee(i,c);ER.test(f)?i.setProperty(Ss(p),f.replace(ER,""),"important"):i[p]=f}}const wR=["Webkit","Moz","ms"],Tb={};function Lee(i,c){const f=Tb[c];if(f)return f;let p=Yn(c);if(p!=="filter"&&p in i)return Tb[c]=p;p=Rl(p);for(let h=0;h<wR.length;h++){const b=wR[h]+p;if(b in i)return Tb[c]=b}return c}const _R="http://www.w3.org/1999/xlink";function Mee(i,c,f,p,h){if(p&&c.startsWith("xlink:"))f==null?i.removeAttributeNS(_R,c.slice(6,c.length)):i.setAttributeNS(_R,c,f);else{const b=tJ(c);f==null||b&&!MR(f)?i.removeAttribute(c):i.setAttribute(c,b?"":f)}}function Uee(i,c,f,p,h,b,C){if(c==="innerHTML"||c==="textContent"){p&&C(p,h,b),i[c]=f==null?"":f;return}const x=i.tagName;if(c==="value"&&x!=="PROGRESS"&&!x.includes("-")){i._value=f;const D=x==="OPTION"?i.getAttribute("value"):i.value,W=f==null?"":f;D!==W&&(i.value=W),f==null&&i.removeAttribute(c);return}let N=!1;if(f===""||f==null){const D=typeof i[c];D==="boolean"?f=MR(f):f==null&&D==="string"?(f="",N=!0):D==="number"&&(f=0,N=!0)}try{i[c]=f}catch(D){}N&&i.removeAttribute(c)}function Ro(i,c,f,p){i.addEventListener(c,f,p)}function Hee(i,c,f,p){i.removeEventListener(c,f,p)}const SR=Symbol("_vei");function zee(i,c,f,p,h=null){const b=i[SR]||(i[SR]={}),C=b[c];if(p&&C)C.value=p;else{const[x,N]=Vee(c);if(p){const D=b[c]=Kee(p,h);Ro(i,x,D,N)}else C&&(Hee(i,x,C,N),b[c]=void 0)}}const xR=/(?:Once|Passive|Capture)$/;function Vee(i){let c;if(xR.test(i)){c={};let p;for(;p=i.match(xR);)i=i.slice(0,i.length-p[0].length),c[p[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Ss(i.slice(2)),c]}let Ab=0;const jee=Promise.resolve(),Wee=()=>Ab||(jee.then(()=>Ab=0),Ab=Date.now());function Kee(i,c){const f=p=>{if(!p._vts)p._vts=Date.now();else if(p._vts<=f.attached)return;fs(qee(p,f.value),c,5,[p])};return f.value=i,f.attached=Wee(),f}function qee(i,c){if(ze(c)){const f=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{f.call(i),i._stopped=!0},c.map(p=>h=>!h._stopped&&p&&p(h))}else return c}const kR=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,Gee=(i,c,f,p,h=!1,b,C,x,N)=>{c==="class"?Iee(i,p,h):c==="style"?Fee(i,f,p):Al(c)?Gb(c)||zee(i,c,f,p,C):(c[0]==="."?(c=c.slice(1),!0):c[0]==="^"?(c=c.slice(1),!1):Yee(i,c,p,h))?Uee(i,c,p,b,C,x,N):(c==="true-value"?i._trueValue=p:c==="false-value"&&(i._falseValue=p),Mee(i,c,p,h))};function Yee(i,c,f,p){if(p)return!!(c==="innerHTML"||c==="textContent"||c in i&&kR(c)&&et(f));if(c==="spellcheck"||c==="draggable"||c==="translate"||c==="form"||c==="list"&&i.tagName==="INPUT"||c==="type"&&i.tagName==="TEXTAREA")return!1;if(c==="width"||c==="height"){const h=i.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return kR(c)&&Wt(f)?!1:c in i}/*! #__NO_SIDE_EFFECTS__ */function aO(i,c){const f=Ld(i);class p extends Wd{constructor(b){super(f,b,c)}}return p.def=f,p}/*! #__NO_SIDE_EFFECTS__ */const Xee=i=>aO(i,yO),Zee=typeof HTMLElement!="undefined"?HTMLElement:class{};class Wd extends Zee{constructor(c,f={},p){super(),this._def=c,this._props=f,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&p?p(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),wl(()=>{this._connected||(qb(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let p=0;p<this.attributes.length;p++)this._setAttr(this.attributes[p].name);this._ob=new MutationObserver(p=>{for(const h of p)this._setAttr(h.attributeName)}),this._ob.observe(this,{attributes:!0});const c=(p,h=!1)=>{const{props:b,styles:C}=p;let x;if(b&&!ze(b))for(const N in b){const D=b[N];(D===Number||D&&D.type===Number)&&(N in this._props&&(this._props[N]=gd(this._props[N])),(x||(x=Object.create(null)))[Yn(N)]=!0)}this._numberProps=x,h&&this._resolveProps(p),this._applyStyles(C),this._update()},f=this._def.__asyncLoader;f?f().then(p=>c(p,!0)):c(this._def)}_resolveProps(c){const{props:f}=c,p=ze(f)?f:Object.keys(f||{});for(const h of Object.keys(this))h[0]!=="_"&&p.includes(h)&&this._setProp(h,this[h],!0,!1);for(const h of p.map(Yn))Object.defineProperty(this,h,{get(){return this._getProp(h)},set(b){this._setProp(h,b)}})}_setAttr(c){let f=this.getAttribute(c);const p=Yn(c);this._numberProps&&this._numberProps[p]&&(f=gd(f)),this._setProp(p,f,!1)}_getProp(c){return this._props[c]}_setProp(c,f,p=!0,h=!0){f!==this._props[c]&&(this._props[c]=f,h&&this._instance&&this._update(),p&&(f===!0?this.setAttribute(Ss(c),""):typeof f=="string"||typeof f=="number"?this.setAttribute(Ss(c),f+""):f||this.removeAttribute(Ss(c))))}_update(){qb(this._createVNode(),this.shadowRoot)}_createVNode(){const c=Vt(this._def,jt({},this._props));return this._instance||(c.ce=f=>{this._instance=f,f.isCE=!0;const p=(b,C)=>{this.dispatchEvent(new CustomEvent(b,{detail:C}))};f.emit=(b,...C)=>{p(b,C),Ss(b)!==b&&p(Ss(b),C)};let h=this;for(;h=h&&(h.parentNode||h.host);)if(h instanceof Wd){f.parent=h._instance,f.provides=h._instance.provides;break}}),c}_applyStyles(c){c&&c.forEach(f=>{const p=document.createElement("style");p.textContent=f,this.shadowRoot.appendChild(p)})}}function Jee(i="$style"){{const c=Bo();if(!c)return Bt;const f=c.type.__cssModules;if(!f)return Bt;const p=f[i];return p||Bt}}function Qee(i){const c=Bo();if(!c)return;const f=c.ut=(h=i(c.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${c.uid}"]`)).forEach(b=>Kb(b,h))},p=()=>{const h=i(c.proxy);Wb(c.subTree,h),f(h)};mP(p),Pa(()=>{const h=new MutationObserver(p);h.observe(c.subTree.el.parentNode,{childList:!0}),Hd(()=>h.disconnect())})}function Wb(i,c){if(i.shapeFlag&128){const f=i.suspense;i=f.activeBranch,f.pendingBranch&&!f.isHydrating&&f.effects.push(()=>{Wb(f.activeBranch,c)})}for(;i.component;)i=i.component.subTree;if(i.shapeFlag&1&&i.el)Kb(i.el,c);else if(i.type===Nn)i.children.forEach(f=>Wb(f,c));else if(i.type===yi){let{el:f,anchor:p}=i;for(;f&&(Kb(f,c),f!==p);)f=f.nextSibling}}function Kb(i,c){if(i.nodeType===1){const f=i.style;for(const p in c)f.setProperty(`--${p}`,c[p])}}const cO=new WeakMap,lO=new WeakMap,xd=Symbol("_moveCb"),NR=Symbol("_enterCb"),uO={name:"TransitionGroup",props:jt({},Oee,{tag:String,moveClass:String}),setup(i,{slots:c}){const f=Bo(),p=my();let h,b;return Ud(()=>{if(!h.length)return;const C=i.moveClass||`${i.name||"v"}-move`;if(!rte(h[0].el,f.vnode.el,C))return;h.forEach(nte),h.forEach(ste);const x=h.filter(ote);rO(),x.forEach(N=>{const D=N.el,W=D.style;To(D,C),W.transform=W.webkitTransform=W.transitionDuration="";const $=D[xd]=K=>{K&&K.target!==D||(!K||/transform$/.test(K.propertyName))&&(D.removeEventListener("transitionend",$),D[xd]=null,ir(D,C))};D.addEventListener("transitionend",$)})}),()=>{const C=mt(i),x=sO(C);let N=C.tag||Nn;h=b,b=c.default?Fd(c.default()):[];for(let D=0;D<b.length;D++){const W=b[D];W.key!=null&&vi(W,ka(W,x,p,f))}if(h)for(let D=0;D<h.length;D++){const W=h[D];vi(W,ka(W,x,p,f)),cO.set(W,W.el.getBoundingClientRect())}return Vt(N,null,b)}}},ete=i=>delete i.mode;uO.props;const tte=uO;function nte(i){const c=i.el;c[xd]&&c[xd](),c[NR]&&c[NR]()}function ste(i){lO.set(i,i.el.getBoundingClientRect())}function ote(i){const c=cO.get(i),f=lO.get(i),p=c.left-f.left,h=c.top-f.top;if(p||h){const b=i.el.style;return b.transform=b.webkitTransform=`translate(${p}px,${h}px)`,b.transitionDuration="0s",i}}function rte(i,c,f){const p=i.cloneNode(),h=i[Ta];h&&h.forEach(x=>{x.split(/\s+/).forEach(N=>N&&p.classList.remove(N))}),f.split(/\s+/).forEach(x=>x&&p.classList.add(x)),p.style.display="none";const b=c.nodeType===1?c:c.parentNode;b.appendChild(p);const{hasTransform:C}=oO(p);return b.removeChild(p),C}const yr=i=>{const c=i.props["onUpdate:modelValue"]||!1;return ze(c)?f=>wa(c,f):c};function ite(i){i.target.composing=!0}function TR(i){const c=i.target;c.composing&&(c.composing=!1,c.dispatchEvent(new Event("input")))}const xs=Symbol("_assign"),kd={created(i,{modifiers:{lazy:c,trim:f,number:p}},h){i[xs]=yr(h);const b=p||h.props&&h.props.type==="number";Ro(i,c?"change":"input",C=>{if(C.target.composing)return;let x=i.value;f&&(x=x.trim()),b&&(x=md(x)),i[xs](x)}),f&&Ro(i,"change",()=>{i.value=i.value.trim()}),c||(Ro(i,"compositionstart",ite),Ro(i,"compositionend",TR),Ro(i,"change",TR))},mounted(i,{value:c}){i.value=c==null?"":c},beforeUpdate(i,{value:c,modifiers:{lazy:f,trim:p,number:h}},b){if(i[xs]=yr(b),i.composing)return;const C=h||i.type==="number"?md(i.value):i.value,x=c==null?"":c;C!==x&&(document.activeElement===i&&i.type!=="range"&&(f||p&&i.value.trim()===x)||(i.value=x))}},Ty={deep:!0,created(i,c,f){i[xs]=yr(f),Ro(i,"change",()=>{const p=i._modelValue,h=Aa(i),b=i.checked,C=i[xs];if(ze(p)){const x=Td(p,h),N=x!==-1;if(b&&!N)C(p.concat(h));else if(!b&&N){const D=[...p];D.splice(x,1),C(D)}}else if(wi(p)){const x=new Set(p);b?x.add(h):x.delete(h),C(x)}else C(dO(i,b))})},mounted:AR,beforeUpdate(i,c,f){i[xs]=yr(f),AR(i,c,f)}};function AR(i,{value:c,oldValue:f},p){i._modelValue=c,ze(c)?i.checked=Td(c,p.props.value)>-1:wi(c)?i.checked=c.has(p.props.value):c!==f&&(i.checked=mr(c,dO(i,!0)))}const Ay={created(i,{value:c},f){i.checked=mr(c,f.props.value),i[xs]=yr(f),Ro(i,"change",()=>{i[xs](Aa(i))})},beforeUpdate(i,{value:c,oldValue:f},p){i[xs]=yr(p),c!==f&&(i.checked=mr(c,p.props.value))}},fO={deep:!0,created(i,{value:c,modifiers:{number:f}},p){const h=wi(c);Ro(i,"change",()=>{const b=Array.prototype.filter.call(i.options,C=>C.selected).map(C=>f?md(Aa(C)):Aa(C));i[xs](i.multiple?h?new Set(b):b:b[0])}),i[xs]=yr(p)},mounted(i,{value:c}){RR(i,c)},beforeUpdate(i,c,f){i[xs]=yr(f)},updated(i,{value:c}){RR(i,c)}};function RR(i,c){const f=i.multiple;if(!(f&&!ze(c)&&!wi(c))){for(let p=0,h=i.options.length;p<h;p++){const b=i.options[p],C=Aa(b);if(f)ze(c)?b.selected=Td(c,C)>-1:b.selected=c.has(C);else if(mr(Aa(b),c)){i.selectedIndex!==p&&(i.selectedIndex=p);return}}!f&&i.selectedIndex!==-1&&(i.selectedIndex=-1)}}function Aa(i){return"_value"in i?i._value:i.value}function dO(i,c){const f=c?"_trueValue":"_falseValue";return f in i?i[f]:c}const pO={created(i,c,f){ud(i,c,f,null,"created")},mounted(i,c,f){ud(i,c,f,null,"mounted")},beforeUpdate(i,c,f,p){ud(i,c,f,p,"beforeUpdate")},updated(i,c,f,p){ud(i,c,f,p,"updated")}};function mO(i,c){switch(i){case"SELECT":return fO;case"TEXTAREA":return kd;default:switch(c){case"checkbox":return Ty;case"radio":return Ay;default:return kd}}}function ud(i,c,f,p,h){const C=mO(i.tagName,f.props&&f.props.type)[h];C&&C(i,c,f,p)}function ate(){kd.getSSRProps=({value:i})=>({value:i}),Ay.getSSRProps=({value:i},c)=>{if(c.props&&mr(c.props.value,i))return{checked:!0}},Ty.getSSRProps=({value:i},c)=>{if(ze(i)){if(c.props&&Td(i,c.props.value)>-1)return{checked:!0}}else if(wi(i)){if(c.props&&i.has(c.props.value))return{checked:!0}}else if(i)return{checked:!0}},pO.getSSRProps=(i,c)=>{if(typeof c.type!="string")return;const f=mO(c.type.toUpperCase(),c.props&&c.props.type);if(f.getSSRProps)return f.getSSRProps(i,c)}}const cte=["ctrl","shift","alt","meta"],lte={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,c)=>cte.some(f=>i[`${f}Key`]&&!c.includes(f))},ute=(i,c)=>i._withMods||(i._withMods=(f,...p)=>{for(let h=0;h<c.length;h++){const b=lte[c[h]];if(b&&b(f,c))return}return i(f,...p)}),fte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dte=(i,c)=>i._withKeys||(i._withKeys=f=>{if(!("key"in f))return;const p=Ss(f.key);if(c.some(h=>h===p||fte[h]===p))return i(f)}),gO=jt({patchProp:Gee},Pee);let yl,PR=!1;function hO(){return yl||(yl=IP(gO))}function bO(){return yl=PR?yl:$P(gO),PR=!0,yl}const qb=(...i)=>{hO().render(...i)},yO=(...i)=>{bO().hydrate(...i)},pte=(...i)=>{const c=hO().createApp(...i),{mount:f}=c;return c.mount=p=>{const h=vO(p);if(!h)return;const b=c._component;!et(b)&&!b.render&&!b.template&&(b.template=h.innerHTML),h.innerHTML="";const C=f(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),C},c},mte=(...i)=>{const c=bO().createApp(...i),{mount:f}=c;return c.mount=p=>{const h=vO(p);if(h)return f(h,!0,h instanceof SVGElement)},c};function vO(i){return Wt(i)?document.querySelector(i):i}let OR=!1;const gte=()=>{OR||(OR=!0,ate(),$ee())};const hte=()=>{},_ne=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:hP,BaseTransitionPropsValidators:gy,Comment:Dn,EffectScope:Jb,Fragment:Nn,KeepAlive:wQ,ReactiveEffect:xa,Static:yi,Suspense:lQ,Teleport:cee,Text:Ci,Transition:ky,TransitionGroup:tte,VueElement:Wd,assertNumber:KJ,callWithAsyncErrorHandling:fs,callWithErrorHandling:ao,camelize:Yn,capitalize:Rl,cloneVNode:lo,compatUtils:Aee,compile:hte,computed:ZP,createApp:pte,createBlock:Ey,createCommentVNode:mee,createElementBlock:lee,createElementVNode:wy,createHydrationRenderer:$P,createPropsRestProxy:HQ,createRenderer:IP,createSSRApp:mte,createSlots:xQ,createStaticVNode:pee,createTextVNode:_y,createVNode:Vt,customRef:$J,defineAsyncComponent:CQ,defineComponent:Ld,defineCustomElement:aO,defineEmits:RQ,defineExpose:PQ,defineModel:BQ,defineOptions:OQ,defineProps:AQ,defineSSRCustomElement:Xee,defineSlots:DQ,get devtools(){return va},effect:cJ,effectScope:oJ,getCurrentInstance:Bo,getCurrentScope:zR,getTransitionRawChildren:Fd,guardReactiveProps:VP,h:Sd,handleError:xi,hasInjectionContext:XQ,hydrate:yO,initCustomFormatter:See,initDirectivesForSSR:gte,inject:gl,isMemoSame:eO,isProxy:ny,isReactive:ur,isReadonly:Oo,isRef:sn,isRuntimeOnly:vee,isShallow:vl,isVNode:hr,markRaw:sy,mergeDefaults:MQ,mergeModels:UQ,mergeProps:jP,nextTick:wl,normalizeClass:Ol,normalizeProps:eJ,normalizeStyle:Pl,onActivated:hy,onBeforeMount:vP,onBeforeUnmount:Il,onBeforeUpdate:CP,onDeactivated:by,onErrorCaptured:SP,onMounted:Pa,onRenderTracked:_P,onRenderTriggered:wP,onScopeDispose:rJ,onServerPrefetch:EP,onUnmounted:Hd,onUpdated:Ud,openBlock:zd,popScopeId:JJ,provide:AP,proxyRefs:ay,pushScopeId:ZJ,queuePostFlushCb:yd,reactive:Pd,readonly:ty,ref:hi,registerRuntimeCompiler:yee,render:qb,renderList:SQ,renderSlot:kQ,resolveComponent:rQ,resolveDirective:aQ,resolveDynamicComponent:iQ,resolveFilter:Tee,resolveTransitionHooks:ka,setBlockTracking:Hb,setDevtoolsHook:lP,setTransitionHooks:vi,shallowReactive:tP,shallowReadonly:AJ,shallowRef:RJ,ssrContextKey:JP,ssrUtils:Nee,stop:lJ,toDisplayString:sJ,toHandlerKey:dl,toHandlers:NQ,toRaw:mt,toRef:MJ,toRefs:sP,toValue:DJ,transformVNodeArgs:fee,triggerRef:OJ,unref:iy,useAttrs:FQ,useCssModule:Jee,useCssVars:Qee,useModel:LQ,useSSRContext:QP,useSlots:$Q,useTransitionState:my,vModelCheckbox:Ty,vModelDynamic:pO,vModelRadio:Ay,vModelSelect:fO,vModelText:kd,vShow:iO,version:tO,warn:bd,watch:co,watchEffect:gQ,watchPostEffect:mP,watchSyncEffect:hQ,withAsyncContext:zQ,withCtx:ly,withDefaults:IQ,withDirectives:yQ,withKeys:dte,withMemo:xee,withModifiers:ute,withScopeId:QJ},Symbol.toStringTag,{value:"Module"}));var Sne=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function bte(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function xne(i){if(i.__esModule)return i;var c=i.default;if(typeof c=="function"){var f=function p(){return this instanceof p?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};f.prototype=c.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(i).forEach(function(p){var h=Object.getOwnPropertyDescriptor(i,p);Object.defineProperty(f,p,h.get?h:{enumerable:!0,get:function(){return i[p]}})}),f}var Ry={exports:{}},kne=Ry.exports;(function(i){(function(){"use strict";var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},f=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},p=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},h=function(e,t){return b(function(n,s){return e.eq(t(n),t(s))})},b=function(e){return{eq:e}},C=b(function(e,t){return e===t}),x=C,N=function(e){return b(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,o=0;o<s;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},D=function(e,t){return h(N(e),function(n){return p(n,t)})},W=function(e){return b(function(t,n){var s=Object.keys(t),o=Object.keys(n);if(!D(x).eq(s,o))return!1;for(var r=s.length,a=0;a<r;a++){var l=s[a];if(!e.eq(t[l],n[l]))return!1}return!0})},$=b(function(e,t){if(e===t)return!0;var n=c(e),s=c(t);return n!==s?!1:f(n)?e===t:n==="array"?N($).eq(e,t):n==="object"?W($).eq(e,t):!1});const K=Object.getPrototypeOf,ue=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},pe=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&ue(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},De=e=>t=>pe(t)===e,Ve=e=>t=>typeof t===e,tt=e=>t=>e===t,de=(e,t)=>V(e)&&ue(e,t,(n,s)=>K(n)===s),A=De("string"),V=De("object"),ee=e=>de(e,Object),we=De("array"),ke=tt(null),ve=Ve("boolean"),Ee=tt(void 0),be=e=>e==null,q=e=>!be(e),ce=Ve("function"),Ge=Ve("number"),vt=(e,t)=>{if(we(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Be=()=>{},He=(e,t)=>(...n)=>e(t.apply(null,n)),ut=(e,t)=>n=>e(t(n)),G=e=>()=>e,Lt=e=>e,Io=(e,t)=>e===t;function ye(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const ds=e=>t=>!e(t),ks=e=>()=>{throw new Error(e)},ki=e=>e(),vr=e=>{e()},Ot=G(!1),Et=G(!0);class v{constructor(t,n){this.tag=t,this.value=n}static some(t){return new v(!0,t)}static none(){return v.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?v.some(t(this.value)):v.none()}bind(t){return this.tag?t(this.value):v.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:v.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t!=null?t:"Called getOrDie on None")}static from(t){return q(t)?v.some(t):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const Ni=Array.prototype.slice,$o=Array.prototype.indexOf,Oa=Array.prototype.push,Ti=(e,t)=>$o.call(e,t),B=(e,t)=>{const n=Ti(e,t);return n===-1?v.none():v.some(n)},I=(e,t)=>Ti(e,t)>-1,Z=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return!0}return!1},Q=(e,t)=>{const n=e.length,s=new Array(n);for(let o=0;o<n;o++){const r=e[o];s[o]=t(r,o)}return s},R=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];t(o,n)}},Te=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},Ie=(e,t)=>{const n=[],s=[];for(let o=0,r=e.length;o<r;o++){const a=e[o];(t(a,o)?n:s).push(a)}return{pass:n,fail:s}},J=(e,t)=>{const n=[];for(let s=0,o=e.length;s<o;s++){const r=e[s];t(r,s)&&n.push(r)}return n},Re=(e,t,n)=>(Te(e,(s,o)=>{n=t(n,s,o)}),n),le=(e,t,n)=>(R(e,(s,o)=>{n=t(n,s,o)}),n),qe=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++){const r=e[s];if(t(r,s))return v.some(r);if(n(r,s))break}return v.none()},Pe=(e,t)=>qe(e,t,Ot),Ke=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return v.some(n)}return v.none()},rt=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!we(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Oa.apply(t,e[n])}return t},nt=(e,t)=>rt(Q(e,t)),Ct=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const o=e[n];if(t(o,n)!==!0)return!1}return!0},wt=e=>{const t=Ni.call(e,0);return t.reverse(),t},Ut=(e,t)=>J(e,n=>!I(t,n)),Bn=(e,t)=>{const n={};for(let s=0,o=e.length;s<o;s++){const r=e[s];n[String(r)]=t(r,s)}return n},Hn=(e,t)=>{const n=Ni.call(e,0);return n.sort(t),n},Cr=(e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none(),Jt=e=>Cr(e,0),Hs=e=>Cr(e,e.length-1),$t=ce(Array.from)?Array.from:e=>Ni.call(e),En=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return v.none()},$l=(e,t)=>{const n=[],s=ce(t)?o=>Z(n,r=>t(r,o)):o=>I(n,o);for(let o=0,r=e.length;o<r;o++){const a=e[o];s(a)||n.push(a)}return n},In=Object.keys,EO=Object.hasOwnProperty,xt=(e,t)=>{const n=In(e);for(let s=0,o=n.length;s<o;s++){const r=n[s],a=e[r];t(a,r)}},Fl=(e,t)=>wO(e,(n,s)=>({k:s,v:t(n,s)})),wO=(e,t)=>{const n={};return xt(e,(s,o)=>{const r=t(s,o);n[r.k]=r.v}),n},Kd=e=>(t,n)=>{e[n]=t},Py=(e,t,n,s)=>{xt(e,(o,r)=>{(t(o,r)?n:s)(o,r)})},_O=(e,t)=>{const n={},s={};return Py(e,t,Kd(n),Kd(s)),{t:n,f:s}},Da=(e,t)=>{const n={};return Py(e,t,Kd(n),Be),n},Ll=(e,t)=>{const n=[];return xt(e,(s,o)=>{n.push(t(s,o))}),n},qd=e=>Ll(e,Lt),Nt=(e,t)=>je(e,t)?v.from(e[t]):v.none(),je=(e,t)=>EO.call(e,t),Ai=(e,t)=>je(e,t)&&e[t]!==void 0&&e[t]!==null,SO=(e,t,n=$)=>W(n).eq(e,t),Oy=e=>{const t={};return R(e,n=>{t[n]={}}),In(t)},Dy=e=>e.length!==void 0,Gd=Array.isArray,xO=e=>{if(Gd(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},Ml=(e,t,n)=>{if(!e)return!1;if(n=n||e,Dy(e)){for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(je(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Yd=(e,t)=>{const n=[];return Ml(e,(s,o)=>{n.push(t(s,o,e))}),n},Ba=(e,t)=>{const n=[];return Ml(e,(s,o)=>{(!t||t(s,o,e))&&n.push(s)}),n},kO=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Ul=(e,t,n,s)=>{let o=Ee(n)?e[0]:n;for(let r=0;r<e.length;r++)o=t.call(s,o,e[r],r);return o},By=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e))return s;return-1},Er=e=>e[e.length-1],wr=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},NO=(e,t,n,s)=>{const o=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),l=a||s("(pointer:coarse)"),u=o||!r&&a&&s("(min-device-width:768px)"),d=r||a&&!u,m=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,g=!d&&!u&&!m;return{isiPad:G(o),isiPhone:G(r),isTablet:G(u),isPhone:G(d),isTouch:G(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:G(m),isDesktop:G(g)}},TO=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},AO=(e,t)=>{const n=TO(e,t);if(!n)return{major:0,minor:0};const s=o=>Number(t.replace(n,"$"+o));return Xd(s(1),s(2))},RO=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Iy():AO(e,n)},Iy=()=>Xd(0,0),Xd=(e,t)=>({major:e,minor:t}),Ia={nu:Xd,detect:RO,unknown:Iy},PO=(e,t)=>En(t.brands,n=>{const s=n.brand.toLowerCase();return Pe(e,o=>{var r;return s===((r=o.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(o=>({current:o.name,version:Ia.nu(parseInt(n.version,10),0)}))}),$y=(e,t)=>{const n=String(t).toLowerCase();return Pe(e,s=>s.search(n))},OO=(e,t)=>$y(e,t).map(n=>{const s=Ia.detect(n.versionRegexes,t);return{current:n.name,version:s}}),DO=(e,t)=>$y(e,t).map(n=>{const s=Ia.detect(n.versionRegexes,t);return{current:n.name,version:s}}),BO=(e,t)=>e.substring(t),Fy=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Ly=(e,t)=>on(e,t)?BO(e,t.length):e,mn=(e,t,n=0,s)=>{const o=e.indexOf(t,n);return o!==-1?Ee(s)?!0:o+t.length<=s:!1},on=(e,t)=>Fy(e,t,0),Zd=(e,t)=>Fy(e,t,e.length-t.length),Jd=e=>t=>t.replace(e,""),Ri=Jd(/^\s+|\s+$/g),IO=Jd(/^\s+/g),My=Jd(/\s+$/g),zs=e=>e.length>0,$a=e=>!zs(e),$O=(e,t)=>t<=0?"":new Array(t+1).join(e),Hl=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?v.none():v.some(n)},Qd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,uo=e=>t=>mn(t,e),FO=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>mn(e,"edge/")&&mn(e,"chrome")&&mn(e,"safari")&&mn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qd],search:e=>mn(e,"chrome")&&!mn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>mn(e,"msie")||mn(e,"trident")},{name:"Opera",versionRegexes:[Qd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:uo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:uo("firefox")},{name:"Safari",versionRegexes:[Qd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(mn(e,"safari")||mn(e,"mobile/"))&&mn(e,"applewebkit")}],LO=[{name:"Windows",search:uo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>mn(e,"iphone")||mn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:uo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:uo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:uo("linux"),versionRegexes:[]},{name:"Solaris",search:uo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:uo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:uo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Uy={browsers:G(FO),oses:G(LO)},Hy="Edge",zy="Chromium",Vy="IE",jy="Opera",Wy="Firefox",Ky="Safari",MO=()=>qy({current:void 0,version:Ia.unknown()}),qy=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isEdge:s(Hy),isChromium:s(zy),isIE:s(Vy),isOpera:s(jy),isFirefox:s(Wy),isSafari:s(Ky)}},Gy={unknown:MO,nu:qy,edge:G(Hy),chromium:G(zy),ie:G(Vy),opera:G(jy),firefox:G(Wy),safari:G(Ky)},Yy="Windows",Xy="iOS",Zy="Android",Jy="Linux",Qy="macOS",ev="Solaris",tv="FreeBSD",nv="ChromeOS",UO=()=>sv({current:void 0,version:Ia.unknown()}),sv=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isWindows:s(Yy),isiOS:s(Xy),isAndroid:s(Zy),isMacOS:s(Qy),isLinux:s(Jy),isSolaris:s(ev),isFreeBSD:s(tv),isChromeOS:s(nv)}},ov={unknown:UO,nu:sv,windows:G(Yy),ios:G(Xy),android:G(Zy),linux:G(Jy),macos:G(Qy),solaris:G(ev),freebsd:G(tv),chromeos:G(nv)},HO={detect:(e,t,n)=>{const s=Uy.browsers(),o=Uy.oses(),r=t.bind(u=>PO(s,u)).orThunk(()=>OO(s,e)).fold(Gy.unknown,Gy.nu),a=DO(o,e).fold(ov.unknown,ov.nu),l=NO(a,r,e,n);return{browser:r,os:a,deviceType:l}}},zO=e=>window.matchMedia(e).matches;let VO=wr(()=>HO.detect(navigator.userAgent,v.from(navigator.userAgentData),zO));const Vs=()=>VO(),jO=navigator.userAgent,ep=Vs(),js=ep.browser,Ws=ep.os,_r=ep.deviceType,WO=jO.indexOf("Windows Phone")!==-1,at={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:js.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!js.isIE(),windowsPhone:WO,browser:{current:js.current,version:js.version,isChromium:js.isChromium,isEdge:js.isEdge,isFirefox:js.isFirefox,isIE:js.isIE,isOpera:js.isOpera,isSafari:js.isSafari},os:{current:Ws.current,version:Ws.version,isAndroid:Ws.isAndroid,isChromeOS:Ws.isChromeOS,isFreeBSD:Ws.isFreeBSD,isiOS:Ws.isiOS,isLinux:Ws.isLinux,isMacOS:Ws.isMacOS,isSolaris:Ws.isSolaris,isWindows:Ws.isWindows},deviceType:{isDesktop:_r.isDesktop,isiPad:_r.isiPad,isiPhone:_r.isiPhone,isPhone:_r.isPhone,isTablet:_r.isTablet,isTouch:_r.isTouch,isWebView:_r.isWebView}},KO=/^\s*|\s*$/g,rv=e=>be(e)?"":(""+e).replace(KO,""),qO=(e,t)=>t?t==="array"&&Gd(e)?!0:typeof e===t:e!==void 0,GO=(e,t,n={})=>{const s=A(e)?e.split(t||","):e||[];let o=s.length;for(;o--;)n[s[o]]={};return n},YO=je,XO=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if(je(s,o)){const r=s[o];r!==void 0&&(e[o]=r)}}return e},iv=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),Ml(e,(o,r)=>t.call(s,o,r,n)===!1?!1:(iv(o,t,n,s),!0)))},ie={trim:rv,isArray:Gd,is:qO,toArray:xO,makeMap:GO,each:Ml,map:Yd,grep:Ba,inArray:kO,hasOwn:YO,extend:XO,walk:iv,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,o=n.length;s<o&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>we(e)?e:e===""?[]:Yd(e.split(t||","),rv),_addCacheSuffix:e=>{const t=at.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Pi=(e,t,n=Io)=>e.exists(s=>n(s,t)),av=(e,t,n=Io)=>gn(e,t,n).getOr(e.isNone()&&t.isNone()),ZO=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},gn=(e,t,n)=>e.isSome()&&t.isSome()?v.some(n(e.getOrDie(),t.getOrDie())):v.none(),JO=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?v.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):v.none(),Oi=(e,t)=>e?v.some(t):v.none(),QO=typeof window!="undefined"?window:Function("return this;")(),eD=(e,t)=>{let n=t!=null?t:QO;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},cv=(e,t)=>{const n=e.split(".");return eD(n,t)},tD=(e,t)=>cv(e,t),nD=(e,t)=>{const n=tD(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},sD=Object.getPrototypeOf,oD=e=>nD("HTMLElement",e),rD=e=>{const t=cv("ownerDocument.defaultView",e);return V(e)&&(oD(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(sD(e).constructor.name))},lv=8,uv=9,fv=11,Fa=1,dv=3,it=e=>e.dom.nodeName.toLowerCase(),pv=e=>e.dom.nodeType,zl=e=>t=>pv(t)===e,iD=e=>pv(e)===lv||it(e)==="#comment",Vl=e=>zn(e)&&rD(e.dom),zn=zl(Fa),Zn=zl(dv),aD=zl(uv),cD=zl(fv),jl=e=>t=>zn(t)&&it(t)===e,mv=(e,t,n)=>{if(A(n)||ve(n)||Ge(n))e.setAttribute(t,n+"");else throw new Error("Attribute value was not simple")},rn=(e,t,n)=>{mv(e.dom,t,n)},fo=(e,t)=>{const n=e.dom;xt(t,(s,o)=>{mv(n,o,s)})},Vn=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},po=(e,t)=>v.from(Vn(e,t)),La=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},an=(e,t)=>{e.dom.removeAttribute(t)},lD=e=>{const t=e.dom.attributes;return t==null||t.length===0},gv=e=>le(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),tp=(e,t)=>{const n=Vn(e,t);return n===void 0||n===""?[]:n.split(" ")},uD=(e,t,n)=>{const o=tp(e,t).concat([n]);return rn(e,t,o.join(" ")),!0},fD=(e,t,n)=>{const s=J(tp(e,t),o=>o!==n);return s.length>0?rn(e,t,s.join(" ")):an(e,t),!1},Ma=e=>e.dom.classList!==void 0,hv=e=>tp(e,"class"),bv=(e,t)=>uD(e,"class",t),yv=(e,t)=>fD(e,"class",t),dD=(e,t)=>I(hv(e),t)?yv(e,t):bv(e,t),Di=(e,t)=>{Ma(e)?e.dom.classList.add(t):bv(e,t)},vv=e=>{(Ma(e)?e.dom.classList:hv(e)).length===0&&an(e,"class")},Ua=(e,t)=>{Ma(e)?e.dom.classList.remove(t):yv(e,t),vv(e)},pD=(e,t)=>{const n=Ma(e)?e.dom.classList.toggle(t):dD(e,t);return vv(e),n},np=(e,t)=>Ma(e)&&e.dom.classList.contains(t),mD=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const o="HTML does not have a single root node";throw new Error(o)}return Ha(s.childNodes[0])},gD=(e,t)=>{const s=(t||document).createElement(e);return Ha(s)},hD=(e,t)=>{const s=(t||document).createTextNode(e);return Ha(s)},Ha=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},k={fromHtml:mD,fromTag:gD,fromText:hD,fromDom:Ha,fromPoint:(e,t,n)=>v.from(e.dom.elementFromPoint(t,n)).map(Ha)},Cv=(e,t)=>{const n=[],s=r=>(n.push(r),t(r));let o=t(e);do o=o.bind(s);while(o.isSome());return n},Ns=(e,t)=>{const n=e.dom;if(n.nodeType!==Fa)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ev=e=>e.nodeType!==Fa&&e.nodeType!==uv&&e.nodeType!==fv||e.childElementCount===0,bD=(e,t)=>{const n=t===void 0?document:t.dom;return Ev(n)?[]:Q(n.querySelectorAll(e),k.fromDom)},yD=(e,t)=>{const n=t===void 0?document:t.dom;return Ev(n)?v.none():v.from(n.querySelector(e)).map(k.fromDom)},ft=(e,t)=>e.dom===t.dom,mo=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},wv=e=>k.fromDom(e.dom.ownerDocument),go=e=>aD(e)?e:wv(e),vD=e=>k.fromDom(go(e).dom.documentElement),za=e=>k.fromDom(go(e).dom.defaultView),ps=e=>v.from(e.dom.parentNode).map(k.fromDom),Wl=e=>v.from(e.dom.parentElement).map(k.fromDom),_v=(e,t)=>{const n=ce(t)?t:Ot;let s=e.dom;const o=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const r=s.parentNode,a=k.fromDom(r);if(o.push(a),n(a)===!0)break;s=r}return o},CD=e=>{const t=n=>J(n,s=>!ft(e,s));return ps(e).map(cn).map(t).getOr([])},Sr=e=>v.from(e.dom.previousSibling).map(k.fromDom),Va=e=>v.from(e.dom.nextSibling).map(k.fromDom),Sv=e=>wt(Cv(e,Sr)),xv=e=>Cv(e,Va),cn=e=>Q(e.dom.childNodes,k.fromDom),Bi=(e,t)=>{const n=e.dom.childNodes;return v.from(n[t]).map(k.fromDom)},sp=e=>Bi(e,0),op=e=>Bi(e,e.dom.childNodes.length-1),rp=e=>e.dom.childNodes.length,ED=e=>e.dom.hasChildNodes(),wD=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return k.fromDom(t)},ip=e=>cD(e)&&q(e.dom.host),kv=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),_D=G(kv),Fo=kv?e=>k.fromDom(e.dom.getRootNode()):go,ap=e=>ip(e)?e:wD(go(e)),SD=e=>ip(e)?e:k.fromDom(go(e).dom.body),xD=e=>{const t=Fo(e);return ip(t)?v.some(t):v.none()},kD=e=>k.fromDom(e.dom.host),Nv=e=>{if(_D()&&q(e.target)){const t=k.fromDom(e.target);if(zn(t)&&ND(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Jt(n)}}return v.from(e.target)},ND=e=>q(e.dom.shadowRoot),Ii=e=>{const t=Zn(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return xD(k.fromDom(t)).fold(()=>n.body.contains(t),ut(Ii,kD))};var Tv=(e,t,n,s,o)=>e(n,s)?v.some(n):ce(o)&&o(n)?v.none():t(n,s,o);const ho=(e,t,n)=>{let s=e.dom;const o=ce(n)?n:Ot;for(;s.parentNode;){s=s.parentNode;const r=k.fromDom(s);if(t(r))return v.some(r);if(o(r))break}return v.none()},xr=(e,t,n)=>Tv((o,r)=>r(o),ho,e,t,n),TD=(e,t)=>{const n=e.dom;return n.parentNode?AD(k.fromDom(n.parentNode),s=>!ft(e,s)&&t(s)):v.none()},AD=(e,t)=>{const n=o=>t(k.fromDom(o));return Pe(e.dom.childNodes,n).map(k.fromDom)},Av=(e,t)=>{const n=s=>{for(let o=0;o<s.childNodes.length;o++){const r=k.fromDom(s.childNodes[o]);if(t(r))return v.some(r);const a=n(s.childNodes[o]);if(a.isSome())return a}return v.none()};return n(e.dom)},ja=(e,t,n)=>ho(e,s=>Ns(s,t),n),Wa=(e,t)=>yD(t,e),kr=(e,t,n)=>Tv((o,r)=>Ns(o,r),ja,e,t,n),RD=e=>kr(e,"[contenteditable]"),Nr=(e,t=!1)=>Ii(e)?e.dom.isContentEditable:RD(e).fold(G(t),n=>PD(n)==="true"),PD=e=>e.dom.contentEditable,Ka=e=>e.style!==void 0&&ce(e.style.getPropertyValue),Rv=(e,t,n)=>{if(!A(n))throw new Error("CSS value must be a string: "+n);Ka(e)&&e.style.setProperty(t,n)},OD=(e,t)=>{Ka(e)&&e.style.removeProperty(t)},Pv=(e,t,n)=>{const s=e.dom;Rv(s,t,n)},Kl=(e,t)=>{const n=e.dom;xt(t,(s,o)=>{Rv(n,o,s)})},Ks=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return o===""&&!Ii(e)?Ov(n,t):o},Ov=(e,t)=>Ka(e)?e.style.getPropertyValue(t):"",ql=(e,t)=>{const n=e.dom,s=Ov(n,t);return v.from(s).filter(o=>o.length>0)},cp=e=>{const t={},n=e.dom;if(Ka(n))for(let s=0;s<n.style.length;s++){const o=n.style.item(s);t[o]=n.style[o]}return t},Dv=(e,t)=>{const n=e.dom;OD(n,t),Pi(po(e,"style").map(Ri),"")&&an(e,"style")},DD=e=>e.dom.offsetWidth,$n=(e,t)=>{ps(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},bo=(e,t)=>{Va(e).fold(()=>{ps(e).each(o=>{Kt(o,t)})},s=>{$n(s,t)})},lp=(e,t)=>{sp(e).fold(()=>{Kt(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Kt=(e,t)=>{e.dom.appendChild(t.dom)},Bv=(e,t)=>{$n(e,t),Kt(t,e)},BD=(e,t)=>{R(t,(n,s)=>{const o=s===0?e:t[s-1];bo(o,n)})},Tr=(e,t)=>{R(t,n=>{Kt(e,n)})},$i=e=>{e.dom.textContent="",R(cn(e),t=>{Tt(t)})},Tt=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},yo=e=>{const t=cn(e);t.length>0&&BD(e,t),Tt(e)},ID=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,cn(k.fromDom(s))},up=e=>Q(e,k.fromDom),Iv=e=>e.dom.innerHTML,Gl=(e,t)=>{const s=wv(e).dom,o=k.fromDom(s.createDocumentFragment()),r=ID(t,s);Tr(o,r),$i(e),Kt(e,o)},$D=e=>{const t=k.fromTag("div"),n=k.fromDom(e.dom.cloneNode(!0));return Kt(t,n),Iv(t)},FD=(e,t,n,s,o,r,a)=>({target:e,x:t,y:n,stop:s,prevent:o,kill:r,raw:a}),LD=e=>{const t=k.fromDom(Nv(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),o=He(s,n);return FD(t,e.clientX,e.clientY,n,s,o,e)},MD=(e,t)=>n=>{e(n)&&t(LD(n))},UD=(e,t,n,s,o)=>{const r=MD(n,s);return e.dom.addEventListener(t,r,o),{unbind:ye(zD,e,t,r,o)}},HD=(e,t,n,s)=>UD(e,t,n,s,!1),zD=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},$v=(e,t)=>({left:e,top:t,translate:(s,o)=>$v(e+s,t+o)}),Fi=$v,VD=e=>{const t=e.getBoundingClientRect();return Fi(t.left,t.top)},Yl=(e,t)=>e!==void 0?e:t!==void 0?t:0,jD=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,o=t.documentElement;if(n===e.dom)return Fi(n.offsetLeft,n.offsetTop);const r=Yl(s==null?void 0:s.pageYOffset,o.scrollTop),a=Yl(s==null?void 0:s.pageXOffset,o.scrollLeft),l=Yl(o.clientTop,n.clientTop),u=Yl(o.clientLeft,n.clientLeft);return fp(e).translate(a-u,r-l)},fp=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Fi(s.offsetLeft,s.offsetTop):Ii(e)?VD(t):Fi(0,0)},dp=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Fi(n,s)},Fv=(e,t,n)=>{const o=(n!==void 0?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Lv=(e,t)=>{Vs().browser.isSafari()&&ce(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},WD=e=>{const t=e===void 0?window:e;return Vs().browser.isFirefox()?v.none():v.from(t.visualViewport)},Mv=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),Uv=e=>{const t=e===void 0?window:e,n=t.document,s=dp(k.fromDom(n));return WD(t).fold(()=>{const o=t.document.documentElement,r=o.clientWidth,a=o.clientHeight;return Mv(s.left,s.top,r,a)},o=>Mv(Math.max(o.pageLeft,s.left),Math.max(o.pageTop,s.top),o.width,o.height))},KD=(e,t)=>J(cn(e),t),Hv=(e,t)=>{let n=[];return R(cn(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(Hv(s,t))}),n},hn=(e,t)=>bD(t,e),zv=(e,t,n)=>ja(e,t,n).isSome();class Yt{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,o){if(t){if(!o&&t[n])return t[n];if(t!==this.rootNode){let r=t[s];if(r)return r;for(let a=t.parentNode;a&&a!==this.rootNode;a=a.parentNode)if(r=a[s],r)return r}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let r=s.lastChild;r;r=r.lastChild)if(!r.lastChild)return r}return s}const o=t.parentNode;if(o&&o!==this.rootNode)return o}}}const Ar=e=>t=>!!t&&t.nodeType===e,Xl=e=>!!e&&!Object.getPrototypeOf(e),Se=Ar(1),vo=e=>Se(e)&&Vl(k.fromDom(e)),qD=e=>Se(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",qa=e=>{const t=e.toLowerCase();return n=>q(n)&&n.nodeName.toLowerCase()===t},Ts=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return I(t,s)}return!1}},Zl=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(Se(s)){const o=s.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const a=o.getComputedStyle(s,null);if((a?a.getPropertyValue(e):null)===n[r])return!0}}return!1}},Vv=e=>t=>Se(t)&&t.hasAttribute(e),GD=(e,t)=>n=>Se(n)&&n.getAttribute(e)===t,Rr=e=>Se(e)&&e.hasAttribute("data-mce-bogus"),YD=e=>Se(e)&&e.getAttribute("data-mce-bogus")==="all",Co=e=>Se(e)&&e.tagName==="TABLE",jv=e=>t=>!!(vo(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),pp=Ts(["textarea","input"]),ne=Ar(3),XD=Ar(4),ZD=Ar(7),Lo=Ar(8),Ga=Ar(9),mp=Ar(11),Mt=qa("br"),Wv=qa("img"),ms=jv("true"),At=jv("false"),Jl=Ts(["td","th"]),JD=Ts(["td","th","caption"]),qs=Ts(["video","audio","object","embed"]),QD=qa("li"),gp=qa("details"),e1=qa("summary"),Ya="\uFEFF",Qt="",hp=e=>e===Ya,t1=e=>e.replace(/\uFEFF/g,""),bp=((e,t)=>{const n=r=>{if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return s(r).getOr("")},s=r=>e(r)?v.from(r.dom.nodeValue):v.none();return{get:n,getOption:s,set:(r,a)=>{if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=a}}})(Zn,"text"),Ql=e=>bp.get(e),Kv=e=>bp.getOption(e),n1=(e,t)=>bp.set(e,t),s1=["td","th"],o1=["thead","tbody","tfoot"],r1=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],i1=["li","dd","dt"],a1=["ul","ol","dl"],c1=["pre","script","textarea","style"],Li=e=>{let t;return n=>(t=t||Bn(e,Et),je(t,it(n)))},l1=e=>it(e)==="table",Pr=e=>zn(e)&&it(e)==="br",qv=Li(r1),yp=Li(a1),Xa=Li(i1),u1=Li(o1),Za=Li(s1),eu=Li(c1),f1=e=>{const t=[];let n=e.dom;for(;n;)t.push(k.fromDom(n)),n=n.lastChild;return t},d1=e=>{const t=hn(e,"br"),n=J(f1(e).slice(-1),Pr);t.length===n.length&&R(n,Tt)},Ja=()=>{const e=k.fromTag("br");return rn(e,"data-mce-bogus","1"),e},Mo=e=>{$i(e),Kt(e,Ja())},p1=(e,t)=>{op(e).each(n=>{Sr(n).each(s=>{t.isBlock(it(e))&&Pr(n)&&t.isBlock(it(s))&&Tt(n)})})},Xt=Ya,tu=hp,jn=t1,m1=e=>e.insertContent(Xt,{preserve_zwsp:!0}),g1=Se,Mi=ne,Ui=e=>(Mi(e)&&(e=e.parentNode),g1(e)&&e.hasAttribute("data-mce-caret")),Uo=e=>Mi(e)&&tu(e.data),Jn=e=>Ui(e)||Uo(e),Gv=e=>e.firstChild!==e.lastChild||!Mt(e.firstChild),h1=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Xt),r=e.parentNode;if(t){const a=e.previousSibling;if(Mi(a)){if(Jn(a))return a;if(su(a))return a.splitText(a.data.length-1)}r==null||r.insertBefore(o,e)}else{const a=e.nextSibling;if(Mi(a)){if(Jn(a))return a;if(nu(a))return a.splitText(1),a}e.nextSibling?r==null||r.insertBefore(o,e.nextSibling):r==null||r.appendChild(o)}return o},vp=e=>{const t=e.container();return ne(t)?t.data.charAt(e.offset())===Xt||e.isAtStart()&&Uo(t.previousSibling):!1},Cp=e=>{const t=e.container();return ne(t)?t.data.charAt(e.offset()-1)===Xt||e.isAtEnd()&&Uo(t.nextSibling):!1},b1=(e,t,n)=>{var s;const r=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(Ja().dom);const a=t.parentNode;return n?a==null||a.insertBefore(r,t):t.nextSibling?a==null||a.insertBefore(r,t.nextSibling):a==null||a.appendChild(r),r},nu=e=>Mi(e)&&e.data[0]===Xt,su=e=>Mi(e)&&e.data[e.data.length-1]===Xt,y1=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];Rr(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Ep=e=>e&&e.hasAttribute("data-mce-caret")?(y1(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Yv=e=>Ui(e.startContainer),Xv=ms,v1=At,C1=Mt,E1=ne,w1=Ts(["script","style","textarea"]),Zv=Ts(["img","input","textarea","hr","iframe","video","audio","object","embed"]),_1=Ts(["table"]),S1=Jn,gs=e=>S1(e)?!1:E1(e)?!w1(e.parentNode):Zv(e)||C1(e)||_1(e)||wp(e),x1=e=>Se(e)&&e.getAttribute("unselectable")==="true",wp=e=>!x1(e)&&v1(e),k1=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(wp(n))return!1;if(Xv(n))return!0}return!0},N1=e=>wp(e)?!le($t(e.getElementsByTagName("*")),(t,n)=>t||Xv(n),!1):!1,T1=e=>Zv(e)||N1(e),Jv=(e,t)=>gs(e)&&k1(e,t),A1=/^[ \t\r\n]*$/,Ho=e=>A1.test(e),R1=e=>{for(const t of e)if(!hp(t))return!1;return!0},P1=e=>" \f	\v".indexOf(e)!==-1,Qv=e=>e===`
`||e==="\r",O1=(e,t)=>t<e.length&&t>=0?Qv(e[t]):!1,eC=(e,t=4,n=!0,s=!0)=>{const o=$O(" ",t),r=e.replace(/\t/g,o);return le(r,(l,u)=>P1(u)||u===Qt?l.pcIsSpace||l.str===""&&n||l.str.length===r.length-1&&s||O1(r,l.str.length+1)?{pcIsSpace:!1,str:l.str+Qt}:{pcIsSpace:!0,str:l.str+" "}:{pcIsSpace:Qv(u),str:l.str+u},{pcIsSpace:!1,str:""}).str},D1=(e,t)=>{const n=k.fromDom(t),s=k.fromDom(e);return zv(s,"pre,code",ye(ft,n))},B1=(e,t)=>ne(e)&&Ho(e.data)&&!D1(e,t),I1=e=>Se(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),ou=(e,t)=>gs(e)&&!B1(e,t)||I1(e)||$1(e),$1=Vv("data-mce-bookmark"),F1=Vv("data-mce-bogus"),L1=GD("data-mce-bogus","all"),M1=e=>Wl(k.fromDom(e)).exists(t=>!Nr(t)),U1=(e,t)=>{let n=0;if(ou(e,e))return!1;{let s=e.firstChild;if(!s)return!0;const o=new Yt(s,e);do{if(t){if(L1(s)){s=o.next(!0);continue}if(F1(s)){s=o.next();continue}}if(ms(s)&&M1(s))return!1;if(Mt(s)){n++,s=o.next();continue}if(ou(s,e))return!1;s=o.next()}while(s);return n<=1}},Ht=(e,t=!0)=>U1(e.dom,t),Or=e=>e.toLowerCase()==="svg",_p=e=>Or(e.nodeName),tC=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",H1=["svg"],z1=()=>{let e=[];const t=()=>e[e.length-1];return{track:r=>{_p(r)&&e.push(r);let a=t();return a&&!a.contains(r)&&(e.pop(),a=t()),tC(a)},current:()=>tC(t()),reset:()=>{e=[]}}},ru="data-mce-block",V1=e=>J(In(e),t=>!/[A-Z]/.test(t)),Sp=e=>Q(V1(e),t=>`${t}:`+Q(H1,n=>`not(${n} ${t})`).join(":")).join(","),nC=(e,t)=>q(t.querySelector(e))?(t.setAttribute(ru,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ru),!1),sC=(e,t)=>{const n=Sp(e.getTransparentElements()),s=Sp(e.getBlockElements());return J(t.querySelectorAll(n),o=>nC(s,o))},oC=(e,t)=>{var n;const s=t?"lastChild":"firstChild";for(let o=e[s];o;o=o[s])if(Ht(k.fromDom(o))){(n=o.parentNode)===null||n===void 0||n.removeChild(o);return}},j1=(e,t)=>{const n=document.createRange(),s=e.parentNode;if(s){n.setStartBefore(e),n.setEndBefore(t);const o=n.extractContents();oC(o,!0),n.setStartAfter(t),n.setEndAfter(e);const r=n.extractContents();oC(r,!1),Ht(k.fromDom(o))||s.insertBefore(o,e),Ht(k.fromDom(t))||s.insertBefore(t,e),Ht(k.fromDom(r))||s.insertBefore(r,e),s.removeChild(e)}},W1=(e,t,n)=>{const s=e.getBlockElements(),o=k.fromDom(t),r=l=>it(l)in s,a=l=>ft(l,o);R(up(n),l=>{ho(l,r,a).each(u=>{const d=KD(l,m=>r(m)&&!e.isValidChild(it(u),it(m)));if(d.length>0){const m=Wl(u);R(d,g=>{ho(g,r,a).each(y=>{j1(y.dom,g.dom)})}),m.each(g=>sC(e,g.dom))}})})},K1=(e,t,n)=>{R([...n,...Dr(e,t)?[t]:[]],s=>R(hn(k.fromDom(s),s.nodeName.toLowerCase()),o=>{Y1(e,o.dom)&&yo(o)}))},xp=(e,t)=>{const n=sC(e,t);W1(e,t,n),K1(e,t,n)},q1=(e,t)=>{if(Tp(e,t)){const n=Sp(e.getBlockElements());nC(n,t)}},G1=(e,t,n)=>{const s=r=>ft(r,k.fromDom(t)),o=_v(k.fromDom(n),s);Cr(o,o.length-2).filter(zn).fold(()=>xp(e,t),r=>xp(e,r.dom))},kp=e=>e.hasAttribute(ru),Np=(e,t)=>je(e.getTransparentElements(),t),Tp=(e,t)=>Se(t)&&Np(e,t.nodeName),Dr=(e,t)=>Tp(e,t)&&kp(t),Y1=(e,t)=>Tp(e,t)&&!kp(t),Ap=(e,t)=>t.type===1&&Np(e,t.name)&&A(t.attr(ru)),X1=Vs().browser,rC=e=>Pe(e,zn),Z1=e=>X1.isFirefox()&&it(e)==="table"?rC(cn(e)).filter(t=>it(t)==="caption").bind(t=>rC(xv(t)).map(n=>{const s=n.dom.offsetTop,o=t.dom.offsetTop,r=t.dom.offsetHeight;return s<=o?-r:0})).getOr(0):0,iC=(e,t)=>e.children&&I(e.children,t),J1=(e,t,n)=>{let s=0,o=0;const r=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Ks(k.fromDom(e),"position")==="static"){const l=t.getBoundingClientRect();return s=l.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft,o=l.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop,{x:s,y:o}}let a=t;for(;a&&a!==n&&a.nodeType&&!iC(a,n);){const l=a;s+=l.offsetLeft||0,o+=l.offsetTop||0,a=l.offsetParent}for(a=t.parentNode;a&&a!==n&&a.nodeType&&!iC(a,n);)s-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;o+=Z1(k.fromDom(t))}return{x:s,y:o}},aC=(e,t={})=>{let n=0;const s={},o=k.fromDom(e),r=go(o),a=T=>{t.referrerPolicy=T},l=T=>{t.contentCssCors=T},u=T=>{Kt(ap(o),T)},d=T=>{const O=ap(o);Wa(O,"#"+T).each(Tt)},m=T=>Nt(s,T).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),g=T=>new Promise((O,P)=>{let F;const X=ie._addCacheSuffix(T),se=m(X);s[X]=se,se.count++;const fe=(he,Ae)=>{R(he,vr),se.status=Ae,se.passed=[],se.failed=[],F&&(F.onload=null,F.onerror=null,F=null)},j=()=>fe(se.passed,2),U=()=>fe(se.failed,3);if(O&&se.passed.push(O),P&&se.failed.push(P),se.status===1)return;if(se.status===2){j();return}if(se.status===3){U();return}se.status=1;const Y=k.fromTag("link",r.dom);fo(Y,{rel:"stylesheet",type:"text/css",id:se.id}),t.contentCssCors&&rn(Y,"crossOrigin","anonymous"),t.referrerPolicy&&rn(Y,"referrerpolicy",t.referrerPolicy),F=Y.dom,F.onload=j,F.onerror=U,u(Y),rn(Y,"href",X)}),y=(T,O)=>{const P=m(T);s[T]=P,P.count++;const F=k.fromTag("style",r.dom);fo(F,{rel:"stylesheet",type:"text/css",id:P.id}),F.dom.innerHTML=O,u(F)},w=T=>Promise.allSettled(Q(T,P=>g(P).then(G(P)))).then(P=>{const F=Ie(P,X=>X.status==="fulfilled");return F.fail.length>0?Promise.reject(Q(F.fail,X=>X.reason)):Q(F.pass,X=>X.value)}),_=T=>{const O=ie._addCacheSuffix(T);Nt(s,O).each(P=>{--P.count===0&&(delete s[O],d(P.id))})};return{load:g,loadRawCss:y,loadAll:w,unload:_,unloadRawCss:T=>{Nt(s,T).each(O=>{--O.count===0&&(delete s[T],d(O.id))})},unloadAll:T=>{R(T,O=>{_(O)})},_setReferrerPolicy:a,_setContentCssCors:l}},cC=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const r=Fo(n).dom;return v.from(e.get(r)).getOrThunk(()=>{const a=aC(r,s);return e.set(r,a),a})}}})(),Q1=e=>e.nodeName.toLowerCase()==="span",lC=(e,t,n)=>q(e)&&(ou(e,t)||n.isInline(e.nodeName.toLowerCase())),eB=(e,t,n)=>{const s=new Yt(e,t).prev(!1),o=new Yt(e,t).next(!1),r=Ee(s)||lC(s,t,n),a=Ee(o)||lC(o,t,n);return r&&a},uC=e=>Q1(e)&&e.getAttribute("data-mce-type")==="bookmark",tB=(e,t,n)=>ne(e)&&e.data.length>0&&eB(e,t,n),nB=e=>Se(e)?e.childNodes.length>0:!1,sB=e=>mp(e)||Ga(e),Rp=(e,t,n,s)=>{var o;const r=s||t;if(Se(t)&&uC(t))return t;const a=t.childNodes;for(let l=a.length-1;l>=0;l--)Rp(e,a[l],n,r);if(Se(t)){const l=t.childNodes;l.length===1&&uC(l[0])&&((o=t.parentNode)===null||o===void 0||o.insertBefore(l[0],t))}return!sB(t)&&!ou(t,r)&&!nB(t)&&!tB(t,r,n)&&e.remove(t),t},oB=ie.makeMap,iu=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,au=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rB=/[<>&\"\']/g,iB=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,aB={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Br={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},cB={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},lB=e=>{const t=k.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},fC=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let o=0;o<s.length;o+=2){const r=String.fromCharCode(parseInt(s[o],t));if(!Br[r]){const a="&"+s[o+1]+";";n[r]=a,n[a]=r}}return n}else return},Pp=fC("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),dC=(e,t)=>e.replace(t?iu:au,n=>Br[n]||n),uB=e=>(""+e).replace(rB,t=>Br[t]||t),pC=(e,t)=>e.replace(t?iu:au,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":Br[n]||"&#"+n.charCodeAt(0)+";"),Op=(e,t,n)=>{const s=n||Pp;return e.replace(t?iu:au,o=>Br[o]||s[o]||o)},zo={encodeRaw:dC,encodeAllRaw:uB,encodeNumeric:pC,encodeNamed:Op,getEncodeFunc:(e,t)=>{const n=fC(t)||Pp,s=(a,l)=>a.replace(l?iu:au,u=>Br[u]!==void 0?Br[u]:n[u]!==void 0?n[u]:u.length>1?"&#"+((u.charCodeAt(0)-55296)*1024+(u.charCodeAt(1)-56320)+65536)+";":"&#"+u.charCodeAt(0)+";"),o=(a,l)=>Op(a,l,n),r=oB(e.replace(/\+/g,","));return r.named&&r.numeric?s:r.named?t?o:Op:r.numeric?pC:dC},decode:e=>e.replace(iB,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):aB[n]||String.fromCharCode(n)):cB[t]||Pp[t]||lB(t))},dn=(e,t)=>(e=ie.trim(e),e?e.split(t||" "):[]),mC=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),fB=e=>{const t=/^(~)?(.+)$/;return nt(dn(e,","),n=>{const s=t.exec(n);if(s){const o=s[1]==="~",r=o?"span":"div",a=s[2];return[{inline:o,cloneName:r,name:a}]}else return[]})},dB=e=>{let t,n,s;if(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const r="a ins del canvas map";t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav "+r,s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}e!=="html5-strict"&&(t+=" xml:lang",s=[s,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const o=[n,s].join(" ");return{globalAttributes:t,blockContent:n,phrasingContent:s,flowContent:o}},pB=e=>{const{globalAttributes:t,phrasingContent:n,flowContent:s}=dB(e),o={},r=(u,d,m)=>{o[u]={attributes:Bn(d,G({})),attributesOrder:d,children:Bn(m,G({}))}},a=(u,d="",m="")=>{const g=dn(m),y=dn(u);let w=y.length;const _=dn([t,d].join(" "));for(;w--;)r(y[w],_.slice(),g)},l=(u,d)=>{const m=dn(u),g=dn(d);let y=m.length;for(;y--;){const w=o[m[y]];for(let _=0,E=g.length;_<E;_++)w.attributes[g[_]]={},w.attributesOrder.push(g[_])}};return e!=="html5-strict"&&(R(dn("acronym applet basefont big font strike tt"),m=>{a(m,"",n)}),R(dn("center dir isindex noframes"),m=>{a(m,"",s)})),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),a("dd div","",s),a("address dt caption","",e==="html4"?n:s),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",s),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",s),a("dl","","dt dd"),a("a","href target rel media hreflang type",e==="html4"?n:s),a("q","cite",n),a("ins del","cite datetime",s),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",s),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),a("param","name value"),a("map","name",[s,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",s),a("th","colspan rowspan headers scope abbr",s),a("form","accept-charset action autocomplete enctype method name novalidate target",s),a("fieldset","disabled form name",[s,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[s,"li"].join(" ")),a("noscript","",s),e!=="html4"&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",s),a("mark rt rp bdi","",n),a("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),a("canvas","width height",s),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside main header footer","",s),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[s,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",s),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[s,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name"),r("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(l("script","language xml:space"),l("style","xml:space"),l("object","declare classid code codebase codetype archive standby align border hspace vspace"),l("embed","align name hspace vspace"),l("param","valuetype type"),l("a","charset name rev shape coords"),l("br","clear"),l("applet","codebase archive code object alt name width height align hspace vspace"),l("img","name longdesc align border hspace vspace"),l("iframe","longdesc frameborder marginwidth marginheight scrolling align"),l("font basefont","size color face"),l("input","usemap align"),l("select"),l("textarea"),l("h1 h2 h3 h4 h5 h6 div p legend caption","align"),l("ul","type compact"),l("li","type"),l("ol dl menu dir","compact"),l("pre","width xml:space"),l("hr","align noshade size width"),l("isindex","prompt"),l("table","summary width frame rules cellspacing cellpadding align bgcolor"),l("col","width align char charoff valign"),l("colgroup","width align char charoff valign"),l("thead","align char charoff valign"),l("tr","align char charoff valign bgcolor"),l("th","axis align char charoff valign nowrap bgcolor width height"),l("form","accept"),l("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),l("tfoot","align char charoff valign"),l("tbody","align char charoff valign"),l("area","nohref"),l("body","background bgcolor text link vlink alink")),e!=="html4"&&(l("input button select textarea","autofocus"),l("input textarea","placeholder"),l("a","download"),l("link script img","crossorigin"),l("img","loading"),l("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&R([o.video,o.audio],u=>{delete u.children.audio,delete u.children.video}),R(dn("a form meter progress dfn"),u=>{o[u]&&delete o[u].children[u]}),delete o.caption.children.table,delete o.script,o},mB=e=>e==="-"?"remove":"add",gB=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return nt(dn(e,","),n=>{const s=t.exec(n);if(s){const o=s[1],r=o?mB(o):"replace",a=s[2],l=dn(s[3],"|");return[{operation:r,name:a,validChildren:l}]}else return[]})},hB=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:o,attributesOrder:r}=t;return R(dn(e,"|"),a=>{const l=n.exec(a);if(l){const u={},d=l[1],m=l[2].replace(/[\\:]:/g,":"),g=l[3],y=l[4];if(d==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(m),u.required=!0),d==="-"){delete o[m],r.splice(ie.inArray(r,m),1);return}if(g&&(g==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:m,value:y}),u.defaultValue=y):g==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:m,value:y}),u.forcedValue=y):g==="<"&&(u.validValues=ie.makeMap(y,"?"))),s.test(m)){const w=u;t.attributePatterns=t.attributePatterns||[],w.pattern=mC(m),t.attributePatterns.push(w)}else o[m]||r.push(m),o[m]=u}})},bB=(e,t)=>{xt(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},yB=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return nt(dn(t,","),s=>{const o=n.exec(s);if(o){const r=o[1],a=o[2],l=o[3],u=o[4],d=o[5],m={attributes:{},attributesOrder:[]};if(e.each(g=>bB(g,m)),r==="#"?m.paddEmpty=!0:r==="-"&&(m.removeEmpty=!0),u==="!"&&(m.removeEmptyAttrs=!0),d&&hB(d,m),l&&(m.outputName=a),a==="@")if(e.isNone())e=v.some(m);else return[];return[l?{name:a,element:m,aliasName:l}:{name:a,element:m}]}else return[]})},cu={},Qa=ie.makeMap,As=ie.each,Dp=ie.extend,gC=ie.explode,hC=(e,t={})=>{const n=Qa(e," ",Qa(e.toUpperCase()," "));return Dp(n,t)},bC=e=>hC("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Bp=(e,t)=>{if(e){const n={};return A(e)&&(e={"*":e}),As(e,(s,o)=>{n[o]=n[o.toUpperCase()]=t==="map"?Qa(s,/[, ]/):gC(s,/[, ]/)}),n}else return},Vo=(e={})=>{var t;const n={},s={};let o=[];const r={},a={},l=(Ue,ot,bt)=>{const It=e[Ue];if(It)return Qa(It,/[, ]/,Qa(It.toUpperCase(),/[, ]/));{let kt=cu[Ue];return kt||(kt=hC(ot,bt),cu[Ue]=kt),kt}},u=(t=e.schema)!==null&&t!==void 0?t:"html5",d=pB(u);e.verify_html===!1&&(e.valid_elements="*[*]");const m=Bp(e.valid_styles),g=Bp(e.invalid_styles,"map"),y=Bp(e.valid_classes,"map"),w=l("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),E=l("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),S=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),T="td th iframe video audio object script code",O=l("non_empty_elements",T+" pre svg",E),P=l("move_caret_before_on_enter_elements",T+" table",E),F="h1 h2 h3 h4 h5 h6",X=l("text_block_elements",F+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),se=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",X),fe=l("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),j=l("transparent_elements","a ins del canvas map"),U=l("wrap_block_elements","pre "+F);As("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Ue=>{a[Ue]=new RegExp("</"+Ue+"[^>]*>","gi")});const Y=Ue=>{const ot=v.from(n["@"]),bt=/[*?+]/;R(yB(ot,Ue!=null?Ue:""),({name:It,element:kt,aliasName:Pn})=>{if(Pn&&(n[Pn]=kt),bt.test(It)){const $s=kt;$s.pattern=mC(It),o.push($s)}else n[It]=kt})},he=Ue=>{o=[],R(In(n),ot=>{delete n[ot]}),Y(Ue)},Ae=Ue=>{delete cu.text_block_elements,delete cu.block_elements,R(fB(Ue!=null?Ue:""),({inline:ot,name:bt,cloneName:It})=>{if(s[bt]=s[It],r[bt]=It,O[bt.toUpperCase()]={},O[bt]={},ot||(se[bt.toUpperCase()]={},se[bt]={}),!n[bt]){let kt=n[It];kt=Dp({},kt),delete kt.removeEmptyAttrs,delete kt.removeEmpty,n[bt]=kt}xt(s,(kt,Pn)=>{kt[It]&&(s[Pn]=kt=Dp({},s[Pn]),kt[bt]=kt[It])})})},We=Ue=>{R(gB(Ue!=null?Ue:""),({operation:ot,name:bt,validChildren:It})=>{const kt=ot==="replace"?{"#comment":{}}:s[bt];R(It,Pn=>{ot==="remove"?delete kt[Pn]:kt[Pn]={}}),s[bt]=kt})},Ye=Ue=>{const ot=n[Ue];if(ot)return ot;let bt=o.length;for(;bt--;){const It=o[bt];if(It.pattern.test(Ue))return It}};e.valid_elements?(he(e.valid_elements),As(d,(Ue,ot)=>{s[ot]=Ue.children})):(As(d,(Ue,ot)=>{n[ot]={attributes:Ue.attributes,attributesOrder:Ue.attributesOrder},s[ot]=Ue.children}),As(dn("strong/b em/i"),Ue=>{const ot=dn(Ue,"/");n[ot[1]].outputName=ot[0]}),As(fe,(Ue,ot)=>{n[ot]&&(e.padd_empty_block_inline_children&&(n[ot].paddInEmptyBlock=!0),n[ot].removeEmpty=!0)}),As(dn("ol ul blockquote a table tbody"),Ue=>{n[Ue]&&(n[Ue].removeEmpty=!0)}),As(dn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Ue=>{n[Ue]&&(n[Ue].paddEmpty=!0)}),As(dn("span"),Ue=>{n[Ue].removeEmptyAttrs=!0})),delete n.svg,Ae(e.custom_elements),We(e.valid_children),Y(e.extended_valid_elements),We("+ol[ul|ol],+ul[ul|ol]"),As({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Ue,ot)=>{n[ot]&&(n[ot].parentsRequired=dn(Ue))}),e.invalid_elements&&As(gC(e.invalid_elements),Ue=>{n[Ue]&&delete n[Ue]}),Ye("span")||Y("span[!data-mce-type|*]");const ct=G(m),ht=G(g),Dt=G(y),nn=G(S),lt=G(se),ae=G(X),xe=G(fe),st=G(Object.seal(E)),Ze=G(_),Ce=G(O),Fe=G(P),oe=G(w),Le=G(j),Qe=G(U),gt=G(Object.seal(a)),pt=(Ue,ot)=>{const bt=s[Ue.toLowerCase()];return!!(bt&&bt[ot.toLowerCase()])},qt=(Ue,ot)=>{const bt=Ye(Ue);if(bt)if(ot){if(bt.attributes[ot])return!0;const It=bt.attributePatterns;if(It){let kt=It.length;for(;kt--;)if(It[kt].pattern.test(ot))return!0}}else return!0;return!1},vs=Ue=>je(lt(),Ue),so=Ue=>!on(Ue,"#")&&qt(Ue)&&!vs(Ue),xn=Ue=>je(Qe(),Ue)||so(Ue),cs=G(r);return{type:u,children:s,elements:n,getValidStyles:ct,getValidClasses:Dt,getBlockElements:lt,getInvalidStyles:ht,getVoidElements:st,getTextBlockElements:ae,getTextInlineElements:xe,getBoolAttrs:nn,getElementRule:Ye,getSelfClosingElements:Ze,getNonEmptyElements:Ce,getMoveCaretBeforeOnEnterElements:Fe,getWhitespaceElements:oe,getTransparentElements:Le,getSpecialElements:gt,isValidChild:pt,isValid:qt,isBlock:vs,isInline:so,isWrapper:xn,getCustomElements:cs,addValidElements:Y,setValidElements:he,addCustomElements:Ae,addValidChildren:We}},vB=e=>({value:CB(e)}),CB=e=>Ly(e,"#").toUpperCase(),Ip=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},EB=e=>{const t=Ip(e.red)+Ip(e.green)+Ip(e.blue);return vB(t)},wB=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,_B=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,yC=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),vC=(e,t,n,s)=>{const o=parseInt(e,10),r=parseInt(t,10),a=parseInt(n,10),l=parseFloat(s);return yC(o,r,a,l)},CC=e=>{if(e==="transparent")return v.some(yC(0,0,0,0));const t=wB.exec(e);if(t!==null)return v.some(vC(t[1],t[2],t[3],"1"));const n=_B.exec(e);return n!==null?v.some(vC(n[1],n[2],n[3],n[4])):v.none()},SB=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ec=e=>CC(e).map(EB).map(t=>"#"+t.value).getOr(e),$p=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,r={};let a,l;const u=Ya;t&&(a=t.getValidStyles(),l=t.getInvalidStyles());const d=(`\\" \\' \\; \\: ; : `+u).split(" ");for(let g=0;g<d.length;g++)r[d[g]]=u+g,r[u+g]=d[g];const m={parse:g=>{const y={};let w=!1;const _=e.url_converter,E=e.url_converter_scope||m,S=(j,U,Y)=>{const he=y[j+"-top"+U];if(!he)return;const Ae=y[j+"-right"+U];if(!Ae)return;const We=y[j+"-bottom"+U];if(!We)return;const Ye=y[j+"-left"+U];if(!Ye)return;const ct=[he,Ae,We,Ye];let ht=ct.length-1;for(;ht--&&ct[ht]===ct[ht+1];);ht>-1&&Y||(y[j+U]=ht===-1?ct[0]:ct.join(" "),delete y[j+"-top"+U],delete y[j+"-right"+U],delete y[j+"-bottom"+U],delete y[j+"-left"+U])},T=j=>{const U=y[j];if(!U)return;const Y=U.indexOf(",")>-1?[U]:U.split(" ");let he=Y.length;for(;he--;)if(Y[he]!==Y[0])return!1;return y[j]=Y[0],!0},O=(j,U,Y,he)=>{T(U)&&T(Y)&&T(he)&&(y[j]=y[U]+" "+y[Y]+" "+y[he],delete y[U],delete y[Y],delete y[he])},P=j=>(w=!0,r[j]),F=(j,U)=>(w&&(j=j.replace(/\uFEFF[0-9]/g,Y=>r[Y])),U||(j=j.replace(/\\([\'\";:])/g,"$1")),j),X=j=>String.fromCharCode(parseInt(j.slice(1),16)),se=j=>j.replace(/\\[0-9a-f]+/gi,X),fe=(j,U,Y,he,Ae,We)=>{if(Ae=Ae||We,Ae)return Ae=F(Ae),"'"+Ae.replace(/\'/g,"\\'")+"'";if(U=F(U||Y||he||""),!e.allow_script_urls){const Ye=U.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ye)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ye))return""}return _&&(U=_.call(E,U,"style")),"url('"+U.replace(/\'/g,"\\'")+"')"};if(g){g=g.replace(/[\u0000-\u001F]/g,""),g=g.replace(/\\[\"\';:\uFEFF]/g,P).replace(/\"[^\"]+\"|\'[^\']+\'/g,U=>U.replace(/[;:]/g,P));let j;for(;j=s.exec(g);){s.lastIndex=j.index+j[0].length;let U=j[1].replace(o,"").toLowerCase(),Y=j[2].replace(o,"");if(U&&Y){if(U=se(U),Y=se(Y),U.indexOf(u)!==-1||U.indexOf('"')!==-1||!e.allow_script_urls&&(U==="behavior"||/expression\s*\(|\/\*|\*\//.test(Y)))continue;U==="font-weight"&&Y==="700"?Y="bold":(U==="color"||U==="background-color")&&(Y=Y.toLowerCase()),A(e.force_hex_color)&&e.force_hex_color!=="off"&&CC(Y).each(he=>{(e.force_hex_color==="always"||he.alpha===1)&&(Y=ec(SB(he)))}),Y=Y.replace(n,fe),y[U]=w?F(Y,!0):Y}}S("border","",!0),S("border","-width"),S("border","-color"),S("border","-style"),S("padding",""),S("margin",""),O("border","border-width","border-style","border-color"),y.border==="medium none"&&delete y.border,y["border-image"]==="none"&&delete y["border-image"]}return y},serialize:(g,y)=>{let w="";const _=(S,T)=>{const O=T[S];if(O)for(let P=0,F=O.length;P<F;P++){const X=O[P],se=g[X];se&&(w+=(w.length>0?" ":"")+X+": "+se+";")}},E=(S,T)=>{if(!l||!T)return!0;let O=l["*"];return O&&O[S]?!1:(O=l[T],!(O&&O[S]))};return y&&a?(_("*",a),_(y,a)):xt(g,(S,T)=>{S&&E(T,y)&&(w+=(w.length>0?" ":"")+T+": "+S+";")}),w}};return m},xB={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},kB=e=>e instanceof Event||ce(e.initEvent),NB=e=>e.isDefaultPrevented===Et||e.isDefaultPrevented===Ot,TB=e=>be(e.preventDefault)||kB(e),EC=(e,t)=>{const n=t!=null?t:{};for(const s in e)je(xB,s)||(n[s]=e[s]);return q(e.composedPath)&&(n.composedPath=()=>e.composedPath()),q(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),q(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Fp=(e,t,n,s)=>{var o;const r=EC(t,s);return r.type=e,be(r.target)&&(r.target=(o=r.srcElement)!==null&&o!==void 0?o:n),TB(t)&&(r.preventDefault=()=>{r.defaultPrevented=!0,r.isDefaultPrevented=Et,ce(t.preventDefault)&&t.preventDefault()},r.stopPropagation=()=>{r.cancelBubble=!0,r.isPropagationStopped=Et,ce(t.stopPropagation)&&t.stopPropagation()},r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=Et,r.stopPropagation()},NB(r)||(r.isDefaultPrevented=r.defaultPrevented===!0?Et:Ot,r.isPropagationStopped=r.cancelBubble===!0?Et:Ot,r.isImmediatePropagationStopped=Ot)),r},AB="mce-data-",RB=/^(?:mouse|contextmenu)|click/,Lp=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},lu=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},PB=e=>q(e)&&RB.test(e.type),tc=(e,t)=>{const n=Fp(e.type,e,document,t);if(PB(e)&&Ee(e.pageX)&&!Ee(e.clientX)){const s=n.target.ownerDocument||document,o=s.documentElement,r=s.body,a=n;a.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),a.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},OB=(e,t,n)=>{const s=e.document,o={type:"ready"};if(n.domLoaded){t(o);return}const r=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,a=()=>{lu(e,"DOMContentLoaded",a),lu(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};r()?a():Lp(e,"DOMContentLoaded",a),n.domLoaded||Lp(e,"load",a)};class Ir{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=AB+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,o){const r=this;let a;const l=window,u=y=>{r.executeHandlers(tc(y||l.event),d)};if(!t||ne(t)||Lo(t))return s;let d;t[r.expando]?d=t[r.expando]:(d=r.count++,t[r.expando]=d,r.events[d]={}),o=o||t;const m=n.split(" ");let g=m.length;for(;g--;){let y=m[g],w=u,_=!1,E=!1;if(y==="DOMContentLoaded"&&(y="ready"),r.domLoaded&&y==="ready"&&t.readyState==="complete"){s.call(o,tc({type:y}));continue}!r.hasFocusIn&&(y==="focusin"||y==="focusout")&&(_=!0,E=y==="focusin"?"focus":"blur",w=S=>{const T=tc(S||l.event);T.type=T.type==="focus"?"focusin":"focusout",r.executeHandlers(T,d)}),a=r.events[d][y],a?y==="ready"&&r.domLoaded?s(tc({type:y})):a.push({func:s,scope:o}):(r.events[d][y]=a=[{func:s,scope:o}],a.fakeName=E,a.capture=_,a.nativeHandler=w,y==="ready"?OB(t,w,r):Lp(t,E||y,w,_))}return t=a=null,s}unbind(t,n,s){if(!t||ne(t)||Lo(t))return this;const o=t[this.expando];if(o){let r=this.events[o];if(n){const a=n.split(" ");let l=a.length;for(;l--;){const u=a[l],d=r[u];if(d){if(s){let m=d.length;for(;m--;)if(d[m].func===s){const g=d.nativeHandler,y=d.fakeName,w=d.capture,_=d.slice(0,m).concat(d.slice(m+1));_.nativeHandler=g,_.fakeName=y,_.capture=w,r[u]=_}}(!s||d.length===0)&&(delete r[u],lu(t,d.fakeName||u,d.nativeHandler,d.capture))}}}else xt(r,(a,l)=>{lu(t,a.fakeName||l,a.nativeHandler,a.capture)}),r={};for(const a in r)if(je(r,a))return this;delete this.events[o];try{delete t[this.expando]}catch(a){t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||ne(t)||Lo(t))return this;const o=tc({type:n,target:t},s);do{const r=t[this.expando];r&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this}clean(t){if(!t||ne(t)||Lo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],o=s&&s[t.type];if(o)for(let r=0,a=o.length;r<a;r++){const l=o[r];if(l&&l.func.call(l.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Ir.Event=new Ir;const Mp=ie.each,DB=ie.grep,Up="data-mce-style",BB=ie.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),nc=(e,t,n)=>{be(n)||n===""?an(e,t):rn(e,t,n)},wC=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Hi=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const r=o.nodeType;t&&ne(o)&&(r===s||!o.data.length)||(n++,s=r)}return n},_C=(e,t)=>{const n=Vn(t,"style"),s=e.serialize(e.parse(n),it(t));nc(t,Up,s)},IB=(e,t)=>Ge(e)?je(BB,t)?e+"":e+"px":e,SC=(e,t,n)=>{const s=wC(t);be(n)||n===""?Dv(e,s):Pv(e,s,IB(n,s))},$B=(e,t,n)=>{const s=t.keep_values,o={set:(a,l,u)=>{const d=k.fromDom(a);ce(t.url_converter)&&q(l)&&(l=t.url_converter.call(t.url_converter_scope||n(),String(l),u,a));const m="data-mce-"+u;nc(d,m,l),nc(d,u,l)},get:(a,l)=>{const u=k.fromDom(a);return Vn(u,"data-mce-"+l)||Vn(u,l)}},r={style:{set:(a,l)=>{const u=k.fromDom(a);s&&nc(u,Up,l),an(u,"style"),A(l)&&Kl(u,e.parse(l))},get:a=>{const l=k.fromDom(a),u=Vn(l,Up)||Vn(l,"style");return e.serialize(e.parse(u),it(l))}}};return s&&(r.href=r.src=o),r},_t=(e,t={})=>{const n={},s=window,o={};let r=0;const a=!0,l=!0,u=cC.forElement(k.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),d=[],m=t.schema?t.schema:Vo({}),g=$p({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),y=t.ownEvents?new Ir:Ir.Event,w=m.getBlockElements(),_=L=>A(L)?je(w,L):Se(L)&&(je(w,L.nodeName)||Dr(m,L)),E=L=>L&&e&&A(L)?e.getElementById(L):L,S=L=>{const M=E(L);return q(M)?k.fromDom(M):null},T=(L,M,re="")=>{let te;const Ne=S(L);if(q(Ne)&&zn(Ne)){const Je=rl[M];Je&&Je.get?te=Je.get(Ne.dom,M):te=Vn(Ne,M)}return q(te)?te:re},O=L=>{const M=E(L);return be(M)?[]:M.attributes},P=(L,M,re)=>{xe(L,te=>{if(Se(te)){const Ne=k.fromDom(te),Je=re===""?null:re,Rt=Vn(Ne,M),Mn=rl[M];Mn&&Mn.set?Mn.set(Ne.dom,Je,M):nc(Ne,M,Je),Rt!==Je&&t.onSetAttrib&&t.onSetAttrib({attrElm:Ne.dom,attrName:M,attrValue:Je})}})},F=(L,M)=>L.cloneNode(M),X=()=>t.root_element||e.body,se=L=>{const M=Uv(L);return{x:M.x,y:M.y,w:M.width,h:M.height}},fe=(L,M)=>J1(e.body,E(L),M),j=(L,M,re)=>{xe(L,te=>{const Ne=k.fromDom(te);SC(Ne,M,re),t.update_styles&&_C(g,Ne)})},U=(L,M)=>{xe(L,re=>{const te=k.fromDom(re);xt(M,(Ne,Je)=>{SC(te,Je,Ne)}),t.update_styles&&_C(g,te)})},Y=(L,M,re)=>{const te=E(L);if(!(be(te)||!vo(te)&&!qD(te)))return re?Ks(k.fromDom(te),wC(M)):(M=M.replace(/-(\D)/g,(Ne,Je)=>Je.toUpperCase()),M==="float"&&(M="cssFloat"),te.style?te.style[M]:void 0)},he=L=>{const M=E(L);if(!M)return{w:0,h:0};let re=Y(M,"width"),te=Y(M,"height");return(!re||re.indexOf("px")===-1)&&(re="0"),(!te||te.indexOf("px")===-1)&&(te="0"),{w:parseInt(re,10)||M.offsetWidth||M.clientWidth,h:parseInt(te,10)||M.offsetHeight||M.clientHeight}},Ae=L=>{const M=E(L),re=fe(M),te=he(M);return{x:re.x,y:re.y,w:te.w,h:te.h}},We=(L,M)=>{if(!L)return!1;const re=we(L)?L:[L];return Z(re,te=>Ns(k.fromDom(te),M))},Ye=(L,M,re,te)=>{const Ne=[];let Je=E(L);te=te===void 0;const Rt=re||(X().nodeName!=="BODY"?X().parentNode:null);if(A(M))if(M==="*")M=Se;else{const Mn=M;M=un=>We(un,Mn)}for(;Je&&!(Je===Rt||be(Je.nodeType)||Ga(Je)||mp(Je));){if(!M||M(Je))if(te)Ne.push(Je);else return[Je];Je=Je.parentNode}return te?Ne:null},ct=(L,M,re)=>{const te=Ye(L,M,re,!1);return te&&te.length>0?te[0]:null},ht=(L,M,re)=>{let te=M;if(L){A(M)&&(te=Ne=>We(Ne,M));for(let Ne=L[re];Ne;Ne=Ne[re])if(ce(te)&&te(Ne))return Ne}return null},Dt=(L,M)=>ht(L,M,"nextSibling"),nn=(L,M)=>ht(L,M,"previousSibling"),lt=L=>ce(L.querySelectorAll),ae=(L,M)=>{var re,te;const Ne=(te=(re=E(M))!==null&&re!==void 0?re:t.root_element)!==null&&te!==void 0?te:e;return lt(Ne)?$t(Ne.querySelectorAll(L)):[]},xe=function(L,M,re){const te=re!=null?re:this;if(we(L)){const Ne=[];return Mp(L,(Je,Rt)=>{const Mn=E(Je);Mn&&Ne.push(M.call(te,Mn,Rt))}),Ne}else{const Ne=E(L);return Ne?M.call(te,Ne):!1}},st=(L,M)=>{xe(L,re=>{xt(M,(te,Ne)=>{P(re,Ne,te)})})},Ze=(L,M)=>{xe(L,re=>{const te=k.fromDom(re);Gl(te,M)})},Ce=(L,M,re,te,Ne)=>xe(L,Je=>{const Rt=A(M)?e.createElement(M):M;return q(re)&&st(Rt,re),te&&(!A(te)&&te.nodeType?Rt.appendChild(te):A(te)&&Ze(Rt,te)),Ne?Rt:Je.appendChild(Rt)}),Fe=(L,M,re)=>Ce(e.createElement(L),L,M,re,!0),oe=zo.decode,Le=zo.encodeAllRaw,Qe=(L,M,re="")=>{let te="<"+L;for(const Ne in M)Ai(M,Ne)&&(te+=" "+Ne+'="'+Le(M[Ne])+'"');return $a(re)&&je(m.getVoidElements(),L)?te+" />":te+">"+re+"</"+L+">"},gt=L=>{const M=e.createElement("div"),re=e.createDocumentFragment();re.appendChild(M),L&&(M.innerHTML=L);let te;for(;te=M.firstChild;)re.appendChild(te);return re.removeChild(M),re},pt=(L,M)=>xe(L,re=>{const te=k.fromDom(re);return M&&R(cn(te),Ne=>{Zn(Ne)&&Ne.dom.length===0?Tt(Ne):$n(te,Ne)}),Tt(te),te.dom}),qt=L=>xe(L,M=>{const re=M.attributes;for(let te=re.length-1;te>=0;te--)M.removeAttributeNode(re.item(te))}),vs=L=>g.parse(L),so=(L,M)=>g.serialize(L,M),xn=L=>{if(No!==_t.DOM&&e===document){if(n[L])return;n[L]=!0}let M=e.getElementById("mceDefaultStyles");if(!M){M=e.createElement("style"),M.id="mceDefaultStyles",M.type="text/css";const re=e.head;re.firstChild?re.insertBefore(M,re.firstChild):re.appendChild(M)}M.styleSheet?M.styleSheet.cssText+=L:M.appendChild(e.createTextNode(L))},cs=L=>{L||(L=""),R(L.split(","),M=>{o[M]=!0,u.load(M).catch(Be)})},Ue=(L,M,re)=>{xe(L,te=>{if(Se(te)){const Ne=k.fromDom(te),Je=M.split(" ");R(Je,Rt=>{q(re)?(re?Di:Ua)(Ne,Rt):pD(Ne,Rt)})}})},ot=(L,M)=>{Ue(L,M,!0)},bt=(L,M)=>{Ue(L,M,!1)},It=(L,M)=>{const re=S(L),te=M.split(" ");return q(re)&&Ct(te,Ne=>np(re,Ne))},kt=L=>{xe(L,M=>Dv(k.fromDom(M),"display"))},Pn=L=>{xe(L,M=>Pv(k.fromDom(M),"display","none"))},$s=L=>{const M=S(L);return q(M)&&Pi(ql(M,"display"),"none")},nr=L=>(L||"mce_")+r++,Wf=L=>{const M=S(L);return q(M)?Se(M.dom)?M.dom.outerHTML:$D(M):""},Kf=(L,M)=>{xe(L,re=>{Se(re)&&(re.outerHTML=M)})},qf=(L,M)=>{const re=E(M);return xe(L,te=>{const Ne=re==null?void 0:re.parentNode,Je=re==null?void 0:re.nextSibling;return Ne&&(Je?Ne.insertBefore(te,Je):Ne.appendChild(te)),te})},ga=(L,M,re)=>xe(M,te=>{var Ne;const Je=we(M)?L.cloneNode(!0):L;return re&&Mp(DB(te.childNodes),Rt=>{Je.appendChild(Rt)}),(Ne=te.parentNode)===null||Ne===void 0||Ne.replaceChild(Je,te),te}),Gf=(L,M)=>{if(L.nodeName!==M.toUpperCase()){const re=Fe(M);return Mp(O(L),te=>{P(re,te.nodeName,T(L,te.nodeName))}),ga(re,L,!0),re}else return L},ha=(L,M)=>{let re=L;for(;re;){let te=M;for(;te&&re!==te;)te=te.parentNode;if(re===te)break;re=re.parentNode}return!re&&L.ownerDocument?L.ownerDocument.documentElement:re},ri=L=>{if(Se(L)){const M=L.nodeName.toLowerCase()==="a"&&!T(L,"href")&&T(L,"id");if(T(L,"name")||T(L,"data-mce-bookmark")||M)return!0}return!1},Fs=(L,M,re)=>{let te=0;if(ri(L))return!1;const Ne=L.firstChild;if(Ne){const Je=new Yt(Ne,L),Rt=m?m.getWhitespaceElements():{},Mn=M||(m?m.getNonEmptyElements():null);let un=Ne;do{if(Se(un)){const ai=un.getAttribute("data-mce-bogus");if(ai){un=Je.next(ai==="all");continue}const Cs=un.nodeName.toLowerCase();if(Mn&&Mn[Cs]){if(Cs==="br"){te++,un=Je.next();continue}return!1}if(ri(un))return!1}if(Lo(un)||ne(un)&&!Ho(un.data)&&(!(re!=null&&re.includeZwsp)||!R1(un.data))||ne(un)&&un.parentNode&&Rt[un.parentNode.nodeName]&&Ho(un.data))return!1;un=Je.next()}while(un)}return te<=1},oo=()=>e.createRange(),ol=(L,M,re)=>{let te=oo(),Ne,Je;if(L&&M&&L.parentNode&&M.parentNode){const Rt=L.parentNode;return te.setStart(Rt,Hi(L)),te.setEnd(M.parentNode,Hi(M)),Ne=te.extractContents(),te=oo(),te.setStart(M.parentNode,Hi(M)+1),te.setEnd(Rt,Hi(L)+1),Je=te.extractContents(),Rt.insertBefore(Rp(No,Ne,m),L),re?Rt.insertBefore(re,L):Rt.insertBefore(M,L),Rt.insertBefore(Rp(No,Je,m),L),pt(L),re||M}else return},ba=(L,M,re,te)=>{if(we(L)){let Ne=L.length;const Je=[];for(;Ne--;)Je[Ne]=ba(L[Ne],M,re,te);return Je}else return t.collect&&(L===e||L===s)&&d.push([L,M,re,te]),y.bind(L,M,re,te||No)},Yf=(L,M,re)=>{if(we(L)){let te=L.length;const Ne=[];for(;te--;)Ne[te]=Yf(L[te],M,re);return Ne}else{if(d.length>0&&(L===e||L===s)){let te=d.length;for(;te--;){const[Ne,Je,Rt]=d[te];L===Ne&&(!M||M===Je)&&(!re||re===Rt)&&y.unbind(Ne,Je,Rt)}}return y.unbind(L,M,re)}},ko=(L,M,re)=>y.dispatch(L,M,re),bb=(L,M,re)=>y.dispatch(L,M,re),Xf=L=>{if(L&&vo(L)){const M=L.getAttribute("data-mce-contenteditable");return M&&M!=="inherit"?M:L.contentEditable!=="inherit"?L.contentEditable:null}else return null},No={doc:e,settings:t,win:s,files:o,stdMode:a,boxModel:l,styleSheetLoader:u,boundEvents:d,styles:g,schema:m,events:y,isBlock:_,root:null,clone:F,getRoot:X,getViewPort:se,getRect:Ae,getSize:he,getParent:ct,getParents:Ye,get:E,getNext:Dt,getPrev:nn,select:ae,is:We,add:Ce,create:Fe,createHTML:Qe,createFragment:gt,remove:pt,setStyle:j,getStyle:Y,setStyles:U,removeAllAttribs:qt,setAttrib:P,setAttribs:st,getAttrib:T,getPos:fe,parseStyle:vs,serializeStyle:so,addStyle:xn,loadCSS:cs,addClass:ot,removeClass:bt,hasClass:It,toggleClass:Ue,show:kt,hide:Pn,isHidden:$s,uniqueId:nr,setHTML:Ze,getOuterHTML:Wf,setOuterHTML:Kf,decode:oe,encode:Le,insertAfter:qf,replace:ga,rename:Gf,findCommonAncestor:ha,run:xe,getAttribs:O,isEmpty:Fs,createRng:oo,nodeIndex:Hi,split:ol,bind:ba,unbind:Yf,fire:bb,dispatch:ko,getContentEditable:Xf,getContentEditableParent:L=>{const M=X();let re=null;for(let te=L;te&&te!==M&&(re=Xf(te),re===null);te=te.parentNode);return re},isEditable:L=>{if(q(L)){const M=Se(L)?L:L.parentElement;return q(M)&&vo(M)&&Nr(k.fromDom(M))}else return!1},destroy:()=>{if(d.length>0){let L=d.length;for(;L--;){const[M,re,te]=d[L];y.unbind(M,re,te)}}xt(o,(L,M)=>{u.unload(M),delete o[M]})},isChildOf:(L,M)=>L===M||M.contains(L),dumpRng:L=>"startContainer: "+L.startContainer.nodeName+", startOffset: "+L.startOffset+", endContainer: "+L.endContainer.nodeName+", endOffset: "+L.endOffset},rl=$B(g,t,G(No));return No};_t.DOM=_t(document),_t.nodeIndex=Hi;const FB=_t.DOM,LB=0,MB=1,uu=2,xC=3;class Eo{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const o=FB;let r;const a=()=>{o.remove(d),r&&(r.onerror=r.onload=r=null)},l=()=>{a(),n()},u=()=>{a(),s("Failed to load script: "+t)},d=o.uniqueId();r=document.createElement("script"),r.id=d,r.type="text/javascript",r.src=ie._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=l,r.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)})}isDone(t){return this.states[t]===uu}markDone(t){this.states[t]=uu}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=LB),new Promise((o,r)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:o,reject:r})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(u,d)=>{Nt(n.scriptLoadedCallbacks,d).each(m=>{R(m,g=>g[u](d))}),delete n.scriptLoadedCallbacks[d]},o=u=>{const d=J(u,m=>m.status==="rejected");return d.length>0?Promise.reject(nt(d,({reason:m})=>we(m)?m:[m])):Promise.resolve()},r=u=>Promise.allSettled(Q(u,d=>n.states[d]===uu?(s("resolve",d),Promise.resolve()):n.states[d]===xC?(s("reject",d),Promise.reject(d)):(n.states[d]=MB,n.loadScript(d).then(()=>{n.states[d]=uu,s("resolve",d);const m=n.queue;return m.length>0?(n.queue=[],r(m).then(o)):Promise.resolve()},()=>(n.states[d]=xC,s("reject",d),Promise.reject(d)))))),a=u=>(n.loading=!0,r(u).then(d=>{n.loading=!1;const m=n.queueLoadedCallbacks.shift();return v.from(m).each(vr),o(d)})),l=Oy(t);return n.loading?new Promise((u,d)=>{n.queueLoadedCallbacks.push(()=>{a(l).then(u,d)})}):a(l)}}Eo.ScriptLoader=new Eo;const en=e=>{let t=e;return{get:()=>t,set:o=>{t=o}}},UB=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},HB=e=>V(e)&&je(e,"raw"),zB=e=>we(e)&&e.length>1,sc={},Hp=en("en"),kC=()=>Nt(sc,Hp.get()),Rs={getData:()=>Fl(sc,e=>Oe({},e)),setCode:e=>{e&&Hp.set(e)},getCode:()=>Hp.get(),add:(e,t)=>{let n=sc[e];n||(sc[e]=n={});const s=Q(In(t),o=>o.toLowerCase());xt(t,(o,r)=>{const a=r.toLowerCase();a!==r&&UB(s,a)?(je(t,a)||(n[a]=o),n[r]=o):n[a]=o})},translate:e=>{const t=kC().getOr({}),n=a=>ce(a)?Object.prototype.toString.call(a):s(a)?"":""+a,s=a=>a===""||a===null||a===void 0,o=a=>{const l=n(a);return je(t,l)?n(t[l]):Nt(t,l.toLowerCase()).map(n).getOr(l)},r=a=>a.replace(/{context:\w+}$/,"");if(s(e))return"";if(HB(e))return n(e.raw);if(zB(e)){const a=e.slice(1),l=o(e[0]).replace(/\{([0-9]+)\}/g,(u,d)=>je(a,d)?n(a[d]):u);return r(l)}return r(o(e))},isRtl:()=>kC().bind(e=>Nt(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>je(sc,e)},wn=()=>{const e=[],t={},n={},s=[],o=(E,S)=>{const T=J(s,O=>O.name===E&&O.state===S);R(T,O=>O.resolve())},r=E=>je(t,E),a=E=>je(n,E),l=E=>{if(n[E])return n[E].instance},u=(E,S)=>{const T=Rs.getCode(),O=","+(S||"")+",";!T||S&&O.indexOf(","+T+",")===-1||Eo.ScriptLoader.add(t[E]+"/langs/"+T+".js")},d=(E,S)=>{wn.languageLoad!==!1&&(r(E)?u(E,S):_(E,"loaded").then(()=>u(E,S)))},m=(E,S)=>(e.push(S),n[E]={instance:S},o(E,"added"),S),g=E=>{delete t[E],delete n[E]},y=(E,S)=>A(S)?A(E)?{prefix:"",resource:S,suffix:""}:{prefix:E.prefix,resource:S,suffix:E.suffix}:S,w=(E,S)=>{if(t[E])return Promise.resolve();let T=A(S)?S:S.prefix+S.resource+S.suffix;T.indexOf("/")!==0&&T.indexOf("://")===-1&&(T=wn.baseURL+"/"+T),t[E]=T.substring(0,T.lastIndexOf("/"));const O=()=>(o(E,"loaded"),Promise.resolve());return n[E]?O():Eo.ScriptLoader.add(T).then(O)},_=(E,S="added")=>S==="added"&&a(E)||S==="loaded"&&r(E)?Promise.resolve():new Promise(T=>{s.push({name:E,state:S,resolve:T})});return{items:e,urls:t,lookup:n,get:l,requireLangPack:d,add:m,remove:g,createUrl:y,load:w,waitFor:_}};wn.languageLoad=!0,wn.baseURL="",wn.PluginManager=wn(),wn.ThemeManager=wn(),wn.ModelManager=wn();const VB=e=>{const t=en(v.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:l=>{n(),t.set(v.some(l))}}},jB=e=>{const t=en(v.none()),n=()=>t.get().each(l=>clearInterval(l));return{clear:()=>{n(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:l=>{n(),t.set(v.some(setInterval(l,e)))}}},jo=()=>{const e=VB(Be),t=n=>e.get().each(n);return yt(Oe({},e),{on:t})},fu=(e,t)=>{let n=null;return{cancel:()=>{ke(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{ke(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},zp=(e,t)=>{let n=null;const s=()=>{ke(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...r)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,r)},t)}}},oc=G("mce-annotation"),$r=G("data-mce-annotation"),zi=G("data-mce-annotation-uid"),rc=G("data-mce-annotation-active"),ic=G("data-mce-annotation-classes"),ac=G("data-mce-annotation-attrs"),NC=e=>t=>ft(t,e),TC=(e,t)=>{const n=e.selection.getRng(),s=k.fromDom(n.startContainer),o=k.fromDom(e.getBody()),r=t.fold(()=>"."+oc(),u=>`[${$r()}="${u}"]`),a=Bi(s,n.startOffset).getOr(s);return kr(a,r,NC(o)).bind(u=>po(u,`${zi()}`).bind(d=>po(u,`${$r()}`).map(m=>{const g=RC(e,d);return{uid:d,name:m,elements:g}})))},WB=e=>zn(e)&&np(e,oc()),AC=(e,t)=>La(e,"data-mce-bogus")||zv(e,'[data-mce-bogus="all"]',NC(t)),RC=(e,t)=>{const n=k.fromDom(e.getBody()),s=hn(n,`[${zi()}="${t}"]`);return J(s,o=>!AC(o,n))},PC=(e,t)=>{const n=k.fromDom(e.getBody()),s=hn(n,`[${$r()}="${t}"]`),o={};return R(s,r=>{if(!AC(r,n)){const a=Vn(r,zi()),l=Nt(o,a).getOr([]);o[a]=l.concat([r])}}),o},KB=(e,t)=>{const n=en({}),s=()=>({listeners:[],previous:jo()}),o=(g,y)=>{r(g,w=>(y(w),w))},r=(g,y)=>{const w=n.get(),_=Nt(w,g).getOrThunk(s),E=y(_);w[g]=E,n.set(w)},a=(g,y,w)=>{o(g,_=>{R(_.listeners,E=>E(!0,g,{uid:y,nodes:Q(w,S=>S.dom)}))})},l=g=>{o(g,y=>{R(y.listeners,w=>w(!1,g))})},u=(g,y)=>{R(RC(e,g),w=>{y?rn(w,rc(),"true"):an(w,rc())})},d=zp(()=>{const g=Hn(t.getNames());R(g,y=>{r(y,w=>{const _=w.previous.get();return TC(e,v.some(y)).fold(()=>{_.each(E=>{l(y),w.previous.clear(),u(E,!1)})},({uid:E,name:S,elements:T})=>{Pi(_,E)||(_.each(O=>u(O,!1)),a(S,E,T),w.previous.set(E),u(E,!0))}),{previous:w.previous,listeners:w.listeners}})})},30);return e.on("remove",()=>{d.cancel()}),e.on("NodeChange",()=>{d.throttle()}),{addListener:(g,y)=>{r(g,w=>({previous:w.previous,listeners:w.listeners.concat([y])}))}}},qB=(e,t)=>{const n=$r(),s=r=>v.from(r.attr(n)).bind(t.lookup),o=r=>{var a,l;r.attr(zi(),null),r.attr($r(),null),r.attr(rc(),null);const u=v.from(r.attr(ac())).map(y=>y.split(",")).getOr([]),d=v.from(r.attr(ic())).map(y=>y.split(",")).getOr([]);R(u,y=>r.attr(y,null));const m=(l=(a=r.attr("class"))===null||a===void 0?void 0:a.split(" "))!==null&&l!==void 0?l:[],g=Ut(m,[oc()].concat(d));r.attr("class",g.length>0?g.join(" "):null),r.attr(ic(),null),r.attr(ac(),null)};e.serializer.addTempAttr(rc()),e.serializer.addAttributeFilter(n,r=>{for(const a of r)s(a).each(l=>{l.persistent===!1&&(a.name==="span"?a.unwrap():o(a))})})},GB=()=>{const e={};return{register:(o,r)=>{e[o]={name:o,settings:r}},lookup:o=>Nt(e,o).map(r=>r.settings),getNames:()=>In(e)}};let OC=0;const cc=e=>{const n=new Date().getTime(),s=Math.floor(Math.random()*1e9);return OC++,e+"_"+s+OC+String(n)},YB=(e,t)=>{R(t,n=>{Di(e,n)})},XB=(e,t)=>{R(t,n=>{Ua(e,n)})},DC=(e,t)=>k.fromDom(e.dom.cloneNode(t)),Fr=e=>DC(e,!1),BC=e=>DC(e,!0),ZB=(e,t)=>{const n=k.fromTag(t),s=gv(e);return fo(n,s),n},JB=(e,t)=>{const n=ZB(e,t);bo(e,n);const s=cn(e);return Tr(n,s),Tt(e),n},IC=(e,t,n=Ot)=>{const s=new Yt(e,t),o=r=>{let a;do a=s[r]();while(a&&!ne(a)&&!n(a));return v.from(a).filter(ne)};return{current:()=>v.from(s.current()).filter(ne),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},Lr=(e,t)=>{const n=t||(a=>e.isBlock(a)||Mt(a)||At(a)),s=(a,l,u,d)=>{if(ne(a)){const m=d(a,l,a.data);if(m!==-1)return v.some({container:a,offset:m})}return u().bind(m=>s(m.container,m.offset,u,d))};return{backwards:(a,l,u,d)=>{const m=IC(a,d!=null?d:e.getRoot(),n);return s(a,l,()=>m.prev().map(g=>({container:g,offset:g.length})),u).getOrNull()},forwards:(a,l,u,d)=>{const m=IC(a,d!=null?d:e.getRoot(),n);return s(a,l,()=>m.next().map(g=>({container:g,offset:0})),u).getOrNull()}}},Vi=Math.round,Mr=e=>e?{left:Vi(e.left),top:Vi(e.top),bottom:Vi(e.bottom),right:Vi(e.right),width:Vi(e.width),height:Vi(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},$C=(e,t)=>(e=Mr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),QB=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,FC=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,lc=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:FC(t.top-e.bottom,e,t)},uc=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:FC(t.bottom-e.top,e,t),eI=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,tI=e=>le(e,(t,n)=>t.fold(()=>v.some(n),s=>{const o=Math.min(n.left,s.left),r=Math.min(n.top,s.top),a=Math.max(n.right,s.right),l=Math.max(n.bottom,s.bottom);return v.some({top:r,right:a,bottom:l,left:o,width:a-o,height:l-r})}),v.none()),LC=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-o)*(n-o))},nI=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),sI=(e,t,n)=>Math.min(Math.max(e,t),n),du=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Wo=(e,t)=>{if(Se(e)&&e.hasChildNodes()){const n=e.childNodes,s=sI(t,0,n.length-1);return n[s]}else return e},oI=(e,t)=>{if(!(t<0&&Se(e)&&e.hasChildNodes()))return Wo(e,t)},rI=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),MC=e=>A(e)&&e.charCodeAt(0)>=768&&rI.test(e),iI=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},aI=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},UC=Se,cI=gs,HC=Zl("display","block table"),lI=Zl("float","left right"),fc=aI(UC,cI,ds(lI)),uI=ds(Zl("white-space","pre pre-line pre-wrap")),dc=ne,Vp=Mt,zC=_t.nodeIndex,pu=oI,jp=e=>e?e.createRange():_t.DOM.createRng(),Wp=e=>A(e)&&/[\r\n\t ]/.test(e),VC=e=>!!e.setStart&&!!e.setEnd,Kp=e=>{const t=e.startContainer,n=e.startOffset;if(Wp(e.toString())&&uI(t.parentNode)&&ne(t)){const s=t.data;if(Wp(s[n-1])||Wp(s[n+1]))return!0}return!1},fI=e=>{const t=e.ownerDocument,n=jp(t),s=t.createTextNode(Qt),o=e.parentNode;o.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const r=Mr(n.getBoundingClientRect());return o.removeChild(s),r},dI=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,o=e.endOffset;if(t===n&&ne(n)&&s===0&&o===1){const r=e.cloneRange();return r.setEndAfter(n),Ko(r)}else return null},jC=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Ko=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=Mr(s[0]):n=Mr(e.getBoundingClientRect()),!VC(e)&&Vp(e)&&jC(n)?fI(e):jC(n)&&VC(e)&&(t=dI(e))!==null&&t!==void 0?t:n},Ur=(e,t)=>{const n=$C(e,t);return n.width=1,n.right=n.left+1,n},pI=e=>{const t=[],n=a=>{a.height!==0&&(t.length>0&&QB(a,t[t.length-1])||t.push(a))},s=(a,l)=>{const u=jp(a.ownerDocument);if(l<a.data.length){if(MC(a.data[l]))return;if(MC(a.data[l-1])&&(u.setStart(a,l),u.setEnd(a,l+1),!Kp(u))){n(Ur(Ko(u),!1));return}}l>0&&(u.setStart(a,l-1),u.setEnd(a,l),Kp(u)||n(Ur(Ko(u),!1))),l<a.data.length&&(u.setStart(a,l),u.setEnd(a,l+1),Kp(u)||n(Ur(Ko(u),!0)))},o=e.container(),r=e.offset();if(dc(o))return s(o,r),t;if(UC(o))if(e.isAtEnd()){const a=pu(o,r);dc(a)&&s(a,a.data.length),fc(a)&&!Vp(a)&&n(Ur(Ko(a),!1))}else{const a=pu(o,r);if(dc(a)&&s(a,0),fc(a)&&e.isAtEnd())return n(Ur(Ko(a),!1)),t;const l=pu(e.container(),e.offset()-1);fc(l)&&!Vp(l)&&(HC(l)||HC(a)||!fc(a))&&n(Ur(Ko(l),!1)),fc(a)&&n(Ur(Ko(a),!0))}return t},z=(e,t,n)=>{const s=()=>(dc(e),t===0),o=()=>dc(e)?t>=e.data.length:t>=e.childNodes.length,r=()=>{const m=jp(e.ownerDocument);return m.setStart(e,t),m.setEnd(e,t),m},a=()=>(n||(n=pI(z(e,t))),n),l=()=>a().length>0,u=m=>m&&e===m.container()&&t===m.offset(),d=m=>pu(e,m?t-1:t);return{container:G(e),offset:G(t),toRange:r,getClientRects:a,isVisible:l,isAtStart:s,isAtEnd:o,isEqual:u,getNode:d}};z.fromRangeStart=e=>z(e.startContainer,e.startOffset),z.fromRangeEnd=e=>z(e.endContainer,e.endOffset),z.after=e=>z(e.parentNode,zC(e)+1),z.before=e=>z(e.parentNode,zC(e)),z.isAbove=(e,t)=>gn(Jt(t.getClientRects()),Hs(e.getClientRects()),lc).getOr(!1),z.isBelow=(e,t)=>gn(Hs(t.getClientRects()),Jt(e.getClientRects()),uc).getOr(!1),z.isAtStart=e=>e?e.isAtStart():!1,z.isAtEnd=e=>e?e.isAtEnd():!1,z.isTextPosition=e=>e?ne(e.container()):!1,z.isElementPosition=e=>!z.isTextPosition(e);const mu=(e,t)=>{ne(t)&&t.data.length===0&&e.remove(t)},mI=(e,t,n)=>{t.insertNode(n),mu(e,n.previousSibling),mu(e,n.nextSibling)},gI=(e,t,n)=>{const s=v.from(n.firstChild),o=v.from(n.lastChild);t.insertNode(n),s.each(r=>mu(e,r.previousSibling)),o.each(r=>mu(e,r.nextSibling))},qp=(e,t,n)=>{mp(n)?gI(e,t,n):mI(e,t,n)},Ps=ne,WC=Rr,KC=_t.nodeIndex,qC=e=>{const t=e.parentNode;return WC(t)?qC(t):t},Gp=e=>e?Ul(e.childNodes,(t,n)=>(WC(n)&&n.nodeName!=="BR"?t=t.concat(Gp(n)):t.push(n),t),[]):[],hI=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Ps(n);)t+=n.data.length;return t},GC=e=>t=>e===t,bI=e=>{let t,n;t=Gp(qC(e)),n=By(t,GC(e),e),t=t.slice(0,n+1);const s=Ul(t,(o,r,a)=>(Ps(r)&&Ps(t[a-1])&&o++,o),0);return t=Ba(t,Ts([e.nodeName])),n=By(t,GC(e),e),n-s},YC=e=>(Ps(e)?"text()":e.nodeName.toLowerCase())+"["+bI(e)+"]",yI=(e,t,n)=>{const s=[];for(let o=t.parentNode;o&&o!==e&&!(n&&n(o));o=o.parentNode)s.push(o);return s},XC=(e,t)=>{let n=[],s=t.container(),o=t.offset(),r;if(Ps(s))r=hI(s,o);else{const l=s.childNodes;o>=l.length?(r="after",o=l.length-1):r="before",s=l[o]}n.push(YC(s));let a=yI(e,s);return a=Ba(a,ds(Rr)),n=n.concat(Yd(a,l=>YC(l))),n.reverse().join("/")+","+r},vI=(e,t,n)=>{let s=Gp(e);return s=Ba(s,(o,r)=>!Ps(o)||!Ps(s[r-1])),s=Ba(s,Ts([t])),s[n]},CI=(e,t)=>{let n=e,s=0;for(;Ps(n);){const o=n.data.length;if(t>=s&&t<=s+o){e=n,t=t-s;break}if(!Ps(n.nextSibling)){e=n,t=o;break}s+=o,n=n.nextSibling}return Ps(e)&&t>e.data.length&&(t=e.data.length),z(e,t)},ZC=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),o=n.length>1?n[1]:"before",r=Ul(s,(a,l)=>{const u=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(l);return u?(u[1]==="text()"&&(u[1]="#text"),vI(a,u[1],parseInt(u[2],10))):null},e);if(!r)return null;if(!Ps(r)&&r.parentNode){let a;return o==="after"?a=KC(r)+1:a=KC(r),z(r.parentNode,a)}return CI(r,parseInt(o,10))},gu=At,EI=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let o=t.previousSibling;o&&ne(o);o=o.previousSibling)s+=e(o.data).length;return s},JC=(e,t,n,s,o)=>{const r=o?s.startContainer:s.endContainer;let a=o?s.startOffset:s.endOffset;const l=[],u=e.getRoot();if(ne(r))l.push(n?EI(t,r,a):a);else{let d=0;const m=r.childNodes;a>=m.length&&m.length&&(d=1,a=Math.max(0,m.length-1)),l.push(e.nodeIndex(m[a],n)+d)}for(let d=r;d&&d!==u;d=d.parentNode)l.push(e.nodeIndex(d,n));return l},wI=(e,t,n,s)=>{const o=t.dom,r=JC(o,e,n,s,!0),a=t.isForward(),l=Yv(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return Oe({start:r,forward:a},l);{const u=JC(o,e,n,s,!1);return Oe({start:r,end:u,forward:a},l)}},Yp=(e,t,n)=>{let s=0;return ie.each(e.select(t),o=>{if(o.getAttribute("data-mce-bogus")!=="all"){if(o===n)return!1;s++;return}}),s},QC=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(Se(n)&&n.nodeName==="TR"){const o=n.childNodes;n=o[Math.min(t?s:s-1,o.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},eE=e=>(QC(e,!0),QC(e,!1),e),tE=(e,t)=>{if(Se(e)&&(e=Wo(e,t),gu(e)))return e;if(Jn(e)){ne(e)&&Ui(e)&&(e=e.parentNode);let n=e.previousSibling;if(gu(n)||(n=e.nextSibling,gu(n)))return n}},_I=e=>tE(e.startContainer,e.startOffset)||tE(e.endContainer,e.endOffset),nE=(e,t,n)=>{const s=n.getNode(),o=n.getRng();if(s.nodeName==="IMG"||gu(s)){const a=s.nodeName;return{name:a,index:Yp(n.dom,a,s)}}const r=_I(o);if(r){const a=r.tagName;return{name:a,index:Yp(n.dom,a,r)}}return wI(e,n,t,o)},SI=e=>{const t=e.getRng();return{start:XC(e.dom.getRoot(),z.fromRangeStart(t)),end:XC(e.dom.getRoot(),z.fromRangeEnd(t)),forward:e.isForward()}},xI=e=>({rng:e.getRng(),forward:e.isForward()}),sE=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},oE=(e,t)=>{const n=e.dom;let s=e.getRng();const o=n.uniqueId(),r=e.isCollapsed(),a=e.getNode(),l=a.nodeName,u=e.isForward();if(l==="IMG")return{name:l,index:Yp(n,l,a)};const d=eE(s.cloneRange());if(!r){d.collapse(!1);const g=sE(n,o+"_end",t);qp(n,d,g)}s=eE(s),s.collapse(!0);const m=sE(n,o+"_start",t);return qp(n,s,m),e.moveToBookmark({id:o,keep:!0,forward:u}),{id:o,forward:u}},kI=(e,t,n=!1)=>t===2?nE(jn,n,e):t===3?SI(e):t?xI(e):oE(e,!1),Xp=ye(nE,Lt,!0),rE=e=>{const t=r=>r(e),n=G(e),s=()=>o,o={tag:!0,inner:e,fold:(r,a)=>a(e),isValue:Et,isError:Ot,map:r=>Tn.value(r(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:r=>{r(e)},toOptional:()=>v.some(e)};return o},iE=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,o)=>s(e),isValue:Ot,isError:Et,map:t,mapError:s=>Tn.error(s(e)),bind:t,exists:Ot,forall:Et,getOr:Lt,or:Lt,getOrThunk:ki,orThunk:ki,getOrDie:ks(String(e)),each:Be,toOptional:v.none};return n},Tn={value:rE,error:iE,fromOption:(e,t)=>e.fold(()=>iE(t),rE)},Gs={generate:e=>{if(!we(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return R(e,(s,o)=>{const r=In(s);if(r.length!==1)throw new Error("one and only one name per case");const a=r[0],l=s[a];if(n[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!we(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...u)=>{const d=u.length;if(d!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+d);return{fold:(...g)=>{if(g.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+g.length);return g[o].apply(null,u)},match:g=>{const y=In(g);if(t.length!==y.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+y.join(","));if(!Ct(t,_=>I(y,_)))throw new Error("Not all branches were specified when using match. Specified: "+y.join(", ")+`
Required: `+t.join(", "));return g[a].apply(null,u)},log:g=>{}}}}),n}};Gs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const NI=e=>{const t=[],n=[];return R(e,s=>{s.fold(o=>{t.push(o)},o=>{n.push(o)})}),{errors:t,values:n}},TI=e=>e.type==="inline-command"||e.type==="inline-format",AI=e=>e.type==="block-command"||e.type==="block-format",RI=e=>{const t=s=>Tn.error({message:s,pattern:e}),n=(s,o,r)=>{if(e.format!==void 0){let a;if(we(e.format)){if(!Ct(e.format,A))return t(s+" pattern has non-string items in the `format` array");a=e.format}else if(A(e.format))a=[e.format];else return t(s+" pattern has non-string `format` parameter");return Tn.value(o(a))}else return e.cmd!==void 0?A(e.cmd)?Tn.value(r(e.cmd,e.value)):t(s+" pattern has non-string `cmd` parameter"):t(s+" pattern is missing both `format` and `cmd` parameters")};if(!V(e))return t("Raw pattern is not an object");if(!A(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!A(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let s=e.start,o=e.end;return o.length===0&&(o=s,s=""),n("Inline",r=>({type:"inline-format",start:s,end:o,format:r}),(r,a)=>({type:"inline-command",start:s,end:o,cmd:r,value:a}))}else return e.replacement!==void 0?A(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Tn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",s=>({type:"block-format",start:e.start,format:s[0]}),(s,o)=>({type:"block-command",start:e.start,cmd:s,value:o}))},aE=e=>J(e,AI),cE=e=>J(e,TI),PI=(e,t)=>({inlinePatterns:cE(e),blockPatterns:aE(e),dynamicPatternsLookup:t}),lE=e=>{const t=NI(Q(e,RI));return R(t.errors,n=>{}),t.values},OI=e=>t=>{const n=e(t);return lE(n)},Zp=Vs().deviceType,DI=Zp.isTouch(),BI=_t.DOM,II=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return le(t,(n,s)=>{const o=s.split("="),r=o[0],a=o.length>1?o[1]:r;return n[Ri(r)]=Ri(a),n},{})},uE=e=>de(e,RegExp),ge=e=>t=>t.options.get(e),Jp=e=>A(e)||V(e),fE=(e,t="")=>n=>{const s=A(n);if(s)if(n.indexOf("=")!==-1){const o=II(n);return{value:Nt(o,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},$I=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:fE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:fE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=A(n)&&zs(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=I(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>ve(n)?{valid:!0,value:n}:A(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||A(n)||vt(n,A);return s?A(n)?{value:Q(n.split(","),Ri),valid:s}:we(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:tm(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=A(n)||vt(n,A);return s?{value:we(n)?n:Q(n.split(","),Ri),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=ve(n)||A(n);return s?n===!1||Zp.isiPhone()||Zp.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!DI}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||A(n)||ce(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||A(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Jp}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Jp}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Jp}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>A(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>vt(n,V)||n===!1?{value:lE(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>ce(n)?{value:OI(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>vt(n,uE)?{value:n,valid:!0}:uE(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=I(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=I(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:n=>{const s=["always","rgb_only","off"],o=I(s,n);return o?{value:n,valid:o}:{valid:!1,message:`Must be one of: ${s.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Rs.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:BI.getAttrib(e.getElement(),"placeholder")})})},FI=ge("iframe_attrs"),LI=ge("doctype"),dE=ge("document_base_url"),MI=ge("body_id"),UI=ge("body_class"),pE=ge("content_security_policy"),HI=ge("br_in_pre"),bn=ge("forced_root_block"),pc=ge("forced_root_block_attrs"),zI=ge("newline_behavior"),VI=ge("br_newline_selector"),jI=ge("no_newline_selector"),WI=ge("keep_styles"),KI=ge("end_container_on_empty_block"),mE=ge("automatic_uploads"),gE=ge("images_reuse_filename"),qI=ge("images_replace_blob_uris"),hE=ge("icons"),GI=ge("icons_url"),YI=ge("images_upload_url"),XI=ge("images_upload_base_path"),ZI=ge("images_upload_credentials"),JI=ge("images_upload_handler"),QI=ge("content_css_cors"),Qp=ge("referrer_policy"),bE=ge("language"),e$=ge("language_url"),yE=ge("indent_use_margin"),t$=ge("indentation"),n$=ge("content_css"),s$=ge("content_style"),vE=ge("font_css"),o$=ge("directionality"),r$=ge("inline_boundaries_selector"),CE=ge("object_resizing"),i$=ge("resize_img_proportional"),a$=ge("placeholder"),EE=ge("event_root"),c$=ge("service_message"),ji=ge("theme"),l$=ge("theme_url"),em=ge("model"),u$=ge("model_url"),mc=ge("inline_boundaries"),f$=ge("formats"),d$=ge("preview_styles"),p$=ge("format_empty_lines"),m$=ge("format_noneditable_selector"),g$=ge("custom_ui_selector"),tm=ge("inline"),h$=ge("hidden_input"),b$=ge("submit_patch"),y$=ge("add_form_submit_trigger"),v$=ge("add_unload_trigger"),C$=ge("custom_undo_redo_levels"),E$=ge("disable_nodechange"),wE=ge("readonly"),w$=ge("editable_root"),_E=ge("content_css_cors"),hu=ge("plugins"),_$=ge("external_plugins"),S$=ge("block_unsupported_drop"),x$=ge("visual"),k$=ge("visual_table_class"),SE=ge("visual_anchor_class"),N$=ge("iframe_aria_text"),T$=ge("setup"),A$=ge("init_instance_callback"),R$=ge("urlconverter_callback"),P$=ge("auto_focus"),O$=ge("browser_spellcheck"),D$=ge("protect"),B$=ge("paste_block_drop"),bu=ge("paste_data_images"),I$=ge("paste_preprocess"),$$=ge("paste_postprocess"),F$=ge("newdocument_content"),L$=ge("paste_webkit_styles"),M$=ge("paste_remove_styles_if_webkit"),U$=ge("paste_merge_formats"),H$=ge("smart_paste"),z$=ge("paste_as_text"),V$=ge("paste_tab_spaces"),j$=ge("allow_html_data_urls"),W$=ge("text_patterns"),K$=ge("text_patterns_lookup"),xE=ge("noneditable_class"),q$=ge("editable_class"),G$=ge("noneditable_regexp"),Y$=ge("preserve_cdata"),X$=ge("highlight_on_focus"),nm=ge("xss_sanitization"),Z$=ge("init_content_sync"),J$=e=>e.options.isSet("text_patterns_lookup"),Q$=e=>ie.explode(e.options.get("font_size_style_values")),eF=e=>ie.explode(e.options.get("font_size_classes")),tF=e=>e.options.get("encoding")==="xml",kE=e=>ie.explode(e.options.get("images_file_types")),nF=ge("table_tab_navigation"),sF=ge("details_initial_state"),oF=ge("details_serialized_state"),rF=ge("force_hex_color"),sm=ge("sandbox_iframes"),iF=Se,NE=ne,TE=e=>{const t=e.parentNode;t&&t.removeChild(e)},AE=e=>{const t=jn(e);return{count:e.length-t.length,text:t}},RE=e=>{let t;for(;(t=e.data.lastIndexOf(Xt))!==-1;)e.deleteData(t,1)},PE=(e,t)=>(Hr(e),t),aF=(e,t)=>{const n=AE(e.data.substr(0,t.offset())),s=AE(e.data.substr(t.offset()));return(n.text+s.text).length>0?(RE(e),z(e,t.offset()-n.count)):t},cF=(e,t)=>{const n=t.container(),s=B($t(n.childNodes),e).map(o=>o<t.offset()?z(n,t.offset()-1):t).getOr(t);return Hr(e),s},lF=(e,t)=>NE(e)&&t.container()===e?aF(e,t):PE(e,t),uF=(e,t)=>t.container()===e.parentNode?cF(e,t):PE(e,t),fF=(e,t)=>z.isTextPosition(t)?lF(e,t):uF(e,t),Hr=e=>{iF(e)&&Jn(e)&&(Gv(e)?e.removeAttribute("data-mce-caret"):TE(e)),NE(e)&&(RE(e),e.data.length===0&&TE(e))},dF=At,pF=qs,mF=Jl,gF="*[contentEditable=false],video,audio,embed,object",OE=(e,t,n)=>{const s=$C(t.getBoundingClientRect(),n);let o,r;if(e.tagName==="BODY"){const l=e.ownerDocument.documentElement;o=e.scrollLeft||l.scrollLeft,r=e.scrollTop||l.scrollTop}else{const l=e.getBoundingClientRect();o=e.scrollLeft-l.left,r=e.scrollTop-l.top}s.left+=o,s.right+=o,s.top+=r,s.bottom+=r,s.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},hF=e=>{var t,n;const s=hn(k.fromDom(e),gF);for(let o=0;o<s.length;o++){const r=s[o].dom;let a=r.previousSibling;if(su(a)){const l=a.data;l.length===1?(t=a.parentNode)===null||t===void 0||t.removeChild(a):a.deleteData(l.length-1,1)}a=r.nextSibling,nu(a)&&(a.data.length===1?(n=a.parentNode)===null||n===void 0||n.removeChild(a):a.deleteData(0,1))}},bF=(e,t,n,s)=>{const o=jo();let r,a;const l=bn(e),u=e.dom,d=(E,S)=>{let T;if(m(),mF(S))return null;if(n(S)){const O=b1(l,S,E),P=OE(t,S,E);u.setStyle(O,"top",P.top),a=O;const F=u.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});u.setStyles(F,Oe({},P)),u.add(t,F),o.set({caret:F,element:S,before:E}),E&&u.addClass(F,"mce-visual-caret-before"),g(),T=S.ownerDocument.createRange(),T.setStart(O,0),T.setEnd(O,0)}else return a=h1(S,E),T=S.ownerDocument.createRange(),gc(a.nextSibling)?(T.setStart(a,0),T.setEnd(a,0)):(T.setStart(a,1),T.setEnd(a,1)),T;return T},m=()=>{hF(t),a&&(Hr(a),a=null),o.on(E=>{u.remove(E.caret),o.clear()}),r&&(clearInterval(r),r=void 0)},g=()=>{r=setInterval(()=>{o.on(E=>{s()?u.toggleClass(E.caret,"mce-visual-caret-hidden"):u.addClass(E.caret,"mce-visual-caret-hidden")})},500)};return{show:d,hide:m,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(E=>{const S=OE(t,E.element,E.before);u.setStyles(E.caret,Oe({},S))})},destroy:()=>clearInterval(r)}},DE=()=>at.browser.isFirefox(),gc=e=>dF(e)||pF(e),hc=e=>(gc(e)||Co(e)&&DE())&&Wl(k.fromDom(e)).exists(Nr),yF=ms,om=At,vF=qs,BE=Zl("display","block table table-cell table-caption list-item"),IE=Jn,$E=Ui,CF=Se,EF=ne,wF=gs,Wi=e=>e>0,zr=e=>e<0,yu=(e,t)=>{let n;for(;n=e(t);)if(!$E(n))return n;return null},bc=(e,t,n,s,o)=>{const r=new Yt(e,s),a=om(e)||$E(e);let l;if(zr(t)){if(a&&(l=yu(r.prev.bind(r),!0),n(l)))return l;for(;l=yu(r.prev.bind(r),o);)if(n(l))return l}if(Wi(t)){if(a&&(l=yu(r.next.bind(r),!0),n(l)))return l;for(;l=yu(r.next.bind(r),o);)if(n(l))return l}return null},_F=(e,t)=>{const n=o=>yF(o.dom),s=o=>o.dom===t;return ho(k.fromDom(e),n,s).map(o=>o.dom).getOr(t)},qo=(e,t)=>{for(;e&&e!==t;){if(BE(e))return e;e=e.parentNode}return null},Ys=(e,t,n)=>qo(e.container(),n)===qo(t.container(),n),rm=(e,t)=>{if(!t)return v.none();const n=t.container(),s=t.offset();return CF(n)?v.from(n.childNodes[s+e]):v.none()},FE=(e,t)=>{var n;const o=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},SF=(e,t,n)=>qo(t,e)===qo(n,e),LE=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let r=o[s];if(r&&IE(r)&&(r=r[s]),om(r)||vF(r)){if(SF(t,r,o))return r;break}if(wF(r))break;o=o.parentNode}return null},yc=ye(FE,!0),vc=ye(FE,!1),im=(e,t,n)=>{let s;const o=ye(LE,!0,t),r=ye(LE,!1,t),a=n.startContainer,l=n.startOffset;if(Ui(a)){const u=EF(a)?a.parentNode:a,d=u.getAttribute("data-mce-caret");if(d==="before"&&(s=u.nextSibling,hc(s)))return yc(s);if(d==="after"&&(s=u.previousSibling,hc(s)))return vc(s)}if(!n.collapsed)return n;if(ne(a)){if(IE(a)){if(e===1){if(s=r(a),s)return yc(s);if(s=o(a),s)return vc(s)}if(e===-1){if(s=o(a),s)return vc(s);if(s=r(a),s)return yc(s)}return n}if(su(a)&&l>=a.data.length-1)return e===1&&(s=r(a),s)?yc(s):n;if(nu(a)&&l<=1)return e===-1&&(s=o(a),s)?vc(s):n;if(l===a.data.length)return s=r(a),s?yc(s):n;if(l===0)return s=o(a),s?vc(s):n}return n},ME=(e,t)=>rm(e?0:-1,t).filter(om),Cc=(e,t,n)=>{const s=im(e,t,n);return e===-1?z.fromRangeStart(s):z.fromRangeEnd(s)},vu=e=>v.from(e.getNode()).map(k.fromDom),xF=e=>v.from(e.getNode(!0)).map(k.fromDom),am=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Cu=(e,t)=>{const n=Ys(e,t);return!n&&Mt(e.getNode())?!0:n};var tn;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(tn||(tn={}));const kF=At,Xs=ne,UE=Se,cm=Mt,Ki=gs,HE=T1,Eu=Jv,NF=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},zE=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,VE=(e,t)=>{if(Wi(e)){if(Ki(t.previousSibling)&&!Xs(t.previousSibling))return z.before(t);if(Xs(t))return z(t,0)}if(zr(e)){if(Ki(t.nextSibling)&&!Xs(t.nextSibling))return z.after(t);if(Xs(t))return z(t,t.data.length)}return zr(e)?cm(t)?z.before(t):z.after(t):z.before(t)},TF=(e,t)=>{const n=t.nextSibling;return n&&Ki(n)?Xs(n)?z(n,0):z.before(n):lm(tn.Forwards,z.after(t),e)},lm=(e,t,n)=>{let s,o,r,a;if(!UE(n)||!t)return null;if(t.isEqual(z.after(n))&&n.lastChild){if(a=z.after(n.lastChild),zr(e)&&Ki(n.lastChild)&&UE(n.lastChild))return cm(n.lastChild)?z.before(n.lastChild):a}else a=t;const l=a.container();let u=a.offset();if(Xs(l)){if(zr(e)&&u>0)return z(l,--u);if(Wi(e)&&u<l.length)return z(l,++u);s=l}else{if(zr(e)&&u>0&&(o=zE(l,u-1),Ki(o)))return!HE(o)&&(r=bc(o,e,Eu,o),r)?Xs(r)?z(r,r.data.length):z.after(r):Xs(o)?z(o,o.data.length):z.before(o);if(Wi(e)&&u<l.childNodes.length&&(o=zE(l,u),Ki(o)))return cm(o)?TF(n,o):!HE(o)&&(r=bc(o,e,Eu,o),r)?Xs(r)?z(r,0):z.before(r):Xs(o)?z(o,0):z.after(o);s=o||a.getNode()}if(s&&(Wi(e)&&a.isAtEnd()||zr(e)&&a.isAtStart())&&(s=bc(s,e,Et,n,!0),Eu(s,n)))return VE(e,s);o=s&&bc(s,e,Eu,n);const d=Er(J(NF(l,n),kF));return d&&(!o||!d.contains(o))?(Wi(e)?a=z.after(d):a=z.before(d),a):o?VE(e,o):null},Zs=e=>({next:t=>lm(tn.Forwards,t,e),prev:t=>lm(tn.Backwards,t,e)}),AF=(e,t,n)=>{const s=e?z.before(n):z.after(n);return Qn(e,t,s)},RF=e=>Mt(e)?z.before(e):z.after(e),jE=e=>z.isTextPosition(e)?e.offset()===0:gs(e.getNode()),WE=e=>{if(z.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return gs(e.getNode(!0))},KE=(e,t)=>!z.isTextPosition(e)&&!z.isTextPosition(t)&&e.getNode()===t.getNode(!0),PF=e=>!z.isTextPosition(e)&&Mt(e.getNode()),OF=(e,t,n)=>e?!KE(t,n)&&!PF(t)&&WE(t)&&jE(n):!KE(n,t)&&jE(t)&&WE(n),Qn=(e,t,n)=>{const s=Zs(t);return v.from(e?s.next(n):s.prev(n))},qi=(e,t,n)=>Qn(e,t,n).bind(s=>Ys(n,s,t)&&OF(e,n,s)?Qn(e,t,s):v.some(s)),qE=(e,t,n,s)=>qi(e,t,n).bind(o=>s(o)?qE(e,t,o,s):v.some(o)),Gi=(e,t)=>{const n=e?t.firstChild:t.lastChild;return ne(n)?v.some(z(n,e?0:n.data.length)):n?gs(n)?v.some(e?z.before(n):RF(n)):AF(e,t,n):v.none()},An=ye(Qn,!0),Fn=ye(Qn,!1),yn=ye(Gi,!0),hs=ye(Gi,!1),um="_mce_caret",es=e=>Se(e)&&e.id===um,Vr=(e,t)=>{let n=t;for(;n&&n!==e;){if(es(n))return n;n=n.parentNode}return null},DF=e=>A(e.start),BF=e=>je(e,"rng"),IF=e=>je(e,"id"),GE=e=>je(e,"name"),YE=e=>ie.isArray(e.start),wu=e=>!GE(e)&&ve(e.forward)?e.forward:!0,XE=(e,t)=>(Se(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),$F=(e,t)=>{const n=v.from(ZC(e.getRoot(),t.start)),s=v.from(ZC(e.getRoot(),t.end));return gn(n,s,(o,r)=>{const a=e.createRng();return a.setStart(o.container(),o.offset()),a.setEnd(r.container(),r.offset()),{range:a,forward:wu(t)}})},FF=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Xt);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)},LF=e=>!e.hasChildNodes(),MF=(e,t)=>hs(e).fold(Ot,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),ZE=(e,t,n)=>LF(t)&&Vr(e,t)?(FF(t,n),!0):!1,JE=(e,t,n,s)=>{const o=n[t?"start":"end"],r=e.getRoot();if(o){let a=r,l=o[0];for(let u=o.length-1;a&&u>=1;u--){const d=a.childNodes;if(ZE(r,a,s))return!0;if(o[u]>d.length-1)return ZE(r,a,s)?!0:MF(a,s);a=d[o[u]]}ne(a)&&(l=Math.min(o[0],a.data.length)),Se(a)&&(l=Math.min(o[0],a.childNodes.length)),t?s.setStart(a,l):s.setEnd(a,l)}return!0},fm=e=>ne(e)&&e.data.length>0,QE=(e,t,n)=>{const s=e.get(n.id+"_"+t),o=s==null?void 0:s.parentNode,r=n.keep;if(s&&o){let a,l;if(t==="start"?r?s.hasChildNodes()?(a=s.firstChild,l=1):fm(s.nextSibling)?(a=s.nextSibling,l=0):fm(s.previousSibling)?(a=s.previousSibling,l=s.previousSibling.data.length):(a=o,l=e.nodeIndex(s)+1):(a=o,l=e.nodeIndex(s)):r?s.hasChildNodes()?(a=s.firstChild,l=1):fm(s.previousSibling)?(a=s.previousSibling,l=s.previousSibling.data.length):(a=o,l=e.nodeIndex(s)):(a=o,l=e.nodeIndex(s)),!r){const u=s.previousSibling,d=s.nextSibling;ie.each(ie.grep(s.childNodes),g=>{ne(g)&&(g.data=g.data.replace(/\uFEFF/g,""))});let m;for(;m=e.get(n.id+"_"+t);)e.remove(m,!0);if(ne(d)&&ne(u)&&!at.browser.isOpera()){const g=u.data.length;u.appendData(d.data),e.remove(d),a=u,l=g}}return v.some(z(a,l))}else return v.none()},UF=(e,t)=>{const n=e.createRng();return JE(e,!0,t,n)&&JE(e,!1,t,n)?v.some({range:n,forward:wu(t)}):v.none()},HF=(e,t)=>{const n=QE(e,"start",t),s=QE(e,"end",t);return gn(n,s.or(n),(o,r)=>{const a=e.createRng();return a.setStart(XE(e,o.container()),o.offset()),a.setEnd(XE(e,r.container()),r.offset()),{range:a,forward:wu(t)}})},zF=(e,t)=>v.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),VF=(e,t)=>{const n=e.dom;if(t){if(YE(t))return UF(n,t);if(DF(t))return $F(n,t);if(IF(t))return HF(n,t);if(GE(t))return zF(n,t);if(BF(t))return v.some({range:t.rng,forward:wu(t)})}return v.none()},jF=(e,t,n)=>kI(e,t,n),WF=(e,t)=>{VF(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},ts=e=>Se(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",_u=(e=>t=>e===t)(Qt),Yi=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,dm=e=>!Yi(e)&&!_u(e)&&!hp(e),pm=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},KF=e=>nt(e,t=>{const n=du(t);return n?[k.fromDom(n)]:[]}),qF=e=>pm(e).length>1,GF=e=>J(KF(e),Za),YF=e=>hn(e,"td[data-mce-selected],th[data-mce-selected]"),ew=(e,t)=>{const n=YF(t);return n.length>0?n:GF(e)},Xi=e=>ew(pm(e.selection.getSel()),k.fromDom(e.getBody())),Ec=(e,t)=>ja(e,"table",t),XF=e=>{const t=e.startContainer,n=e.startOffset;return ne(t)?n===0?v.some(k.fromDom(t)):v.none():v.from(t.childNodes[n]).map(k.fromDom)},ZF=e=>{const t=e.endContainer,n=e.endOffset;return ne(t)?n===t.data.length?v.some(k.fromDom(t)):v.none():v.from(t.childNodes[n-1]).map(k.fromDom)},tw=e=>sp(e).fold(G([e]),t=>[e].concat(tw(t))),mm=e=>op(e).fold(G([e]),t=>it(t)==="br"?Sr(t).map(n=>[e].concat(mm(n))).getOr([]):[e].concat(mm(t))),gm=(e,t)=>gn(XF(t),ZF(t),(n,s)=>{const o=Pe(tw(e),ye(ft,n)),r=Pe(mm(e),ye(ft,s));return o.isSome()&&r.isSome()}).getOr(!1),hm=(e,t,n,s)=>{const o=n,r=new Yt(n,o),a=Da(e.schema.getMoveCaretBeforeOnEnterElements(),(u,d)=>!I(["td","th","table"],d.toLowerCase()));let l=n;do{if(ne(l)&&ie.trim(l.data).length!==0){s?t.setStart(l,0):t.setEnd(l,l.data.length);return}if(a[l.nodeName]){s?t.setStartBefore(l):l.nodeName==="BR"?t.setEndBefore(l):t.setEndAfter(l);return}}while(l=s?r.next():r.prev());o.nodeName==="BODY"&&(s?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Su=e=>{const t=e.selection.getSel();return q(t)&&t.rangeCount>0},bm=(e,t)=>{const n=Xi(e);n.length>0?R(n,s=>{const o=s.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)}):t(e.selection.getRng(),!1)},nw=(e,t,n)=>{const s=oE(e,t);n(s),e.moveToBookmark(s)},wc=e=>Ge(e==null?void 0:e.nodeType),ym=e=>Se(e)&&!ts(e)&&!es(e)&&!Rr(e),JF=(e,t)=>{if(ym(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},sw=(e,t,n)=>{const{selection:s,dom:o}=e,r=s.getNode(),a=At(r);nw(s,!0,()=>{t()}),a&&At(r)&&o.isChildOf(r,e.getBody())?e.selection.select(r):n(s.getStart())&&QF(o,s)},QF=(e,t)=>{var n,s;const o=t.getRng(),{startContainer:r,startOffset:a}=o,l=t.getNode();if(!JF(e,l)&&Se(r)){const u=r.childNodes,d=e.getRoot();let m;if(a<u.length){const g=u[a];m=new Yt(g,(n=e.getParent(g,e.isBlock))!==null&&n!==void 0?n:d)}else{const g=u[u.length-1];m=new Yt(g,(s=e.getParent(g,e.isBlock))!==null&&s!==void 0?s:d),m.next(!0)}for(let g=m.current();g;g=m.next()){if(e.getContentEditable(g)==="false")return;if(ne(g)&&!Cm(g)){o.setStart(g,0),t.setRng(o);return}}}},ow=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=n?e:e[s];e;e=e[s])if(Se(e)||!Cm(e))return e}},vm=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Dr(e,t),Zi=(e,t,n)=>e.schema.isValidChild(t,n),Cm=(e,t=!1)=>{if(q(e)&&ne(e)){const n=t?e.data.replace(/ /g,""):e.data;return Ho(n)}else return!1},eL=e=>q(e)&&ne(e)&&e.length===0,tL=(e,t)=>{const n="[data-mce-cef-wrappable]",s=m$(e),o=$a(s)?n:`${n},${s}`;return Ns(k.fromDom(t),o)},rw=(e,t)=>{const n=e.dom;return ym(t)&&n.getContentEditable(t)==="false"&&tL(e,t)&&n.select('[contenteditable="true"]',t).length===0},Go=(e,t)=>ce(e)?e(t):(q(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),Em=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),wm=(e,t)=>{if(be(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=ec(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},xu=(e,t,n)=>{const s=e.getStyle(t,n);return wm(s,n)},iw=(e,t)=>{let n;return e.getParent(t,s=>Se(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},ku=(e,t,n)=>e.getParents(t,n,e.getRoot()),_m=(e,t,n)=>{const s=e.formatter.get(t);return q(s)&&Z(s,n)},nL=(e,t)=>_m(e,t,s=>{const o=r=>ce(r)||r.length>1&&r.charAt(0)==="%";return Z(["styles","attributes"],r=>Nt(s,r).exists(a=>{const l=we(a)?a:qd(a);return Z(l,o)}))}),sL=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],o=r=>Da(r,(a,l)=>Z(s,u=>u===l));return _m(e,t,r=>{const a=o(r);return _m(e,n,l=>{const u=o(l);return SO(a,u)})})},Js=e=>Ai(e,"block"),oL=e=>Js(e)&&e.wrapper===!0,rL=e=>Js(e)&&e.wrapper!==!0,ns=e=>Ai(e,"selector"),Zt=e=>Ai(e,"inline"),iL=e=>ns(e)&&Zt(e)&&Pi(Nt(e,"mixed"),!0),Sm=e=>ns(e)&&e.expand!==!1&&!Zt(e),aL=e=>{const t=[];let n=e;for(;n;){if(ne(n)&&n.data!==Xt||n.childNodes.length>1)return[];Se(n)&&t.push(n),n=n.firstChild}return t},aw=e=>aL(e).length>0,xm=e=>es(e.dom)&&aw(e.dom),Ji=ts,cw=ku,lw=Cm,cL=vm,lL=e=>Mt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,uw=(e,t)=>{let n=t;for(;n;){if(Se(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},fw=(e,t,n,s)=>{const o=t.data;if(e){for(let r=n;r>0;r--)if(s(o.charAt(r-1)))return r}else for(let r=n;r<o.length;r++)if(s(o.charAt(r)))return r;return-1},uL=(e,t,n)=>fw(e,t,n,s=>_u(s)||Yi(s)),fL=(e,t,n)=>fw(e,t,n,dm),dw=(e,t,n,s,o,r)=>{let a;const l=e.getParent(n,e.isBlock)||t,u=(m,g,y)=>{const w=Lr(e),_=o?w.backwards:w.forwards;return v.from(_(m,g,(E,S)=>Ji(E.parentNode)?-1:(a=E,y(o,E,S)),l))};return u(n,s,uL).bind(m=>r?u(m.container,m.offset+(o?-1:0),fL):v.some(m)).orThunk(()=>a?v.some({container:a,offset:o?0:a.length}):v.none())},pw=(e,t,n,s,o)=>{const r=s[o];ne(s)&&$a(s.data)&&r&&(s=r);const a=cw(e,s);for(let l=0;l<a.length;l++)for(let u=0;u<t.length;u++){const d=t[u];if(!(q(d.collapsed)&&d.collapsed!==n.collapsed)&&ns(d)&&e.is(a[l],d.selector))return a[l]}return s},mw=(e,t,n,s)=>{var o;let r=n;const a=e.getRoot(),l=t[0];if(Js(l)&&(r=l.wrapper?null:e.getParent(n,l.block,a)),!r){const u=(o=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&o!==void 0?o:a;r=e.getParent(ne(n)?n.parentNode:n,d=>d!==a&&cL(e.schema,d),u)}if(r&&Js(l)&&l.wrapper&&(r=cw(e,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r&&r[s]&&!e.isBlock(r[s])&&(r=r[s],!Em(r,"br")););return r||n},gw=(e,t,n,s)=>{const o=n.parentNode;return q(n[s])?!1:o===t||be(o)||e.isBlock(o)?!0:gw(e,t,o,s)},Nu=(e,t,n,s,o)=>{let r=n;const a=o?"previousSibling":"nextSibling",l=e.getRoot();if(ne(n)&&!lw(n)&&(o?s>0:s<n.data.length))return n;for(;r;){if(!t[0].block_expand&&e.isBlock(r))return r;for(let u=r[a];u;u=u[a]){const d=ne(u)&&!gw(e,l,u,a);if(!Ji(u)&&!lL(u)&&!lw(u,d))return r}if(r===l||r.parentNode===l){n=r;break}r=r.parentNode}return n},hw=e=>Ji(e.parentNode)||Ji(e),jr=(e,t,n,s=!1)=>{let{startContainer:o,startOffset:r,endContainer:a,endOffset:l}=t;const u=n[0];return Se(o)&&o.hasChildNodes()&&(o=Wo(o,r),ne(o)&&(r=0)),Se(a)&&a.hasChildNodes()&&(a=Wo(a,t.collapsed?l:l-1),ne(a)&&(l=a.data.length)),o=uw(e,o),a=uw(e,a),hw(o)&&(o=Ji(o)?o:o.parentNode,t.collapsed?o=o.previousSibling||o:o=o.nextSibling||o,ne(o)&&(r=t.collapsed?o.length:0)),hw(a)&&(a=Ji(a)?a:a.parentNode,t.collapsed?a=a.nextSibling||a:a=a.previousSibling||a,ne(a)&&(l=t.collapsed?0:a.length)),t.collapsed&&(dw(e,e.getRoot(),o,r,!0,s).each(({container:g,offset:y})=>{o=g,r=y}),dw(e,e.getRoot(),a,l,!1,s).each(({container:g,offset:y})=>{a=g,l=y})),(Zt(u)||u.block_expand)&&((!Zt(u)||!ne(o)||r===0)&&(o=Nu(e,n,o,r,!0)),(!Zt(u)||!ne(a)||l===a.data.length)&&(a=Nu(e,n,a,l,!1))),Sm(u)&&(o=pw(e,n,t,o,"previousSibling"),a=pw(e,n,t,a,"nextSibling")),(Js(u)||ns(u))&&(o=mw(e,n,o,"previousSibling"),a=mw(e,n,a,"nextSibling"),Js(u)&&(e.isBlock(o)||(o=Nu(e,n,o,r,!0)),e.isBlock(a)||(a=Nu(e,n,a,l,!1)))),Se(o)&&o.parentNode&&(r=e.nodeIndex(o),o=o.parentNode),Se(a)&&a.parentNode&&(l=e.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:r,endContainer:a,endOffset:l}},_c=(e,t,n)=>{var s;const o=t.startOffset,r=Wo(t.startContainer,o),a=t.endOffset,l=Wo(t.endContainer,a-1),u=S=>{const T=S[0];ne(T)&&T===r&&o>=T.data.length&&S.splice(0,1);const O=S[S.length-1];return a===0&&S.length>0&&O===l&&ne(O)&&S.splice(S.length-1,1),S},d=(S,T,O)=>{const P=[];for(;S&&S!==O;S=S[T])P.push(S);return P},m=(S,T)=>e.getParent(S,O=>O.parentNode===T,T),g=(S,T,O)=>{const P=O?"nextSibling":"previousSibling";for(let F=S,X=F.parentNode;F&&F!==T;F=X){X=F.parentNode;const se=d(F===S?F:F[P],P);se.length&&(O||se.reverse(),n(u(se)))}};if(r===l)return n(u([r]));const y=(s=e.findCommonAncestor(r,l))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(r,l))return g(r,y,!0);if(e.isChildOf(l,r))return g(l,y);const w=m(r,y)||r,_=m(l,y)||l;g(r,w,!0);const E=d(w===r?w:w.nextSibling,"nextSibling",_===l?_.nextSibling:_);E.length&&n(u(E)),g(l,_)},dL=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],pL=e=>Zn(e)&&Ql(e)===Xt,mL=(e,t,n,s)=>ps(t).fold(()=>"skipping",o=>s==="br"||pL(t)?"valid":WB(t)?"existing":es(t.dom)?"caret":Z(dL,r=>Ns(t,r))?"valid-block":!Zi(e,n,s)||!Zi(e,it(o),n)?"invalid-child":"valid"),gL=(e,t)=>{const n=jr(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},bw=(e,t,n,s,o,r)=>{const m=n,{uid:a=t}=m,l=VA(m,["uid"]);Di(e,oc()),rn(e,`${zi()}`,a),rn(e,`${$r()}`,s);const{attributes:u={},classes:d=[]}=o(a,l);if(fo(e,u),YB(e,d),r){d.length>0&&rn(e,`${ic()}`,d.join(","));const g=In(u);g.length>0&&rn(e,`${ac()}`,g.join(","))}},hL=e=>{Ua(e,oc()),an(e,`${zi()}`),an(e,`${$r()}`),an(e,`${rc()}`);const t=po(e,`${ac()}`).map(s=>s.split(",")).getOr([]),n=po(e,`${ic()}`).map(s=>s.split(",")).getOr([]);R(t,s=>an(e,s)),XB(e,n),an(e,`${ic()}`),an(e,`${ac()}`)},yw=(e,t,n,s,o)=>{const r=k.fromTag("span",e);return bw(r,t,n,s,o,!1),r},bL=(e,t,n,s,o,r)=>{const a=[],l=yw(e.getDoc(),n,r,s,o),u=jo(),d=()=>{u.clear()},m=()=>u.get().getOrThunk(()=>{const _=Fr(l);return a.push(_),u.set(_),_}),g=_=>{R(_,y)},y=_=>{switch(mL(e,_,"span",it(_))){case"invalid-child":{d();const S=cn(_);g(S),d();break}case"valid-block":{d(),bw(_,n,r,s,o,!0);break}case"valid":{const S=m();Bv(_,S);break}}},w=_=>{const E=Q(_,k.fromDom);g(E)};return _c(e.dom,t,_=>{d(),w(_)}),a},yL=(e,t,n,s)=>{e.undoManager.transact(()=>{const o=e.selection,r=o.getRng(),a=Xi(e).length>0,l=cc("mce-annotation");if(r.collapsed&&!a&&gL(e,r),o.getRng().collapsed&&!a){const u=yw(e.getDoc(),l,s,t,n.decorate);Gl(u,Qt),o.getRng().insertNode(u.dom),o.select(u.dom)}else nw(o,!1,()=>{bm(e,u=>{bL(e,u,l,t,n.decorate,s)})})})},vw=e=>{const t=GB();qB(e,t);const n=KB(e,t),s=jl("span"),o=r=>{R(r,a=>{s(a)?yo(a):hL(a)})};return{register:(r,a)=>{t.register(r,a)},annotate:(r,a)=>{t.lookup(r).each(l=>{yL(e,r,l,a)})},annotationChanged:(r,a)=>{n.addListener(r,a)},remove:r=>{TC(e,v.some(r)).each(({elements:a})=>{const l=e.selection.getBookmark();o(a),e.selection.moveToBookmark(l)})},removeAll:r=>{const a=e.selection.getBookmark();xt(PC(e,r),(l,u)=>{o(l)}),e.selection.moveToBookmark(a)},getAll:r=>{const a=PC(e,r);return Fl(a,l=>Q(l,u=>u.dom))}}},Sc=e=>({getBookmark:ye(jF,e),moveToBookmark:ye(WF,e)});Sc.isBookmarkNode=ts;const Cw=(e,t,n)=>n.collapsed?!1:Z(n.getClientRects(),s=>eI(s,e,t)),vL=(e,t)=>e.dispatch("PreProcess",t),CL=(e,t)=>e.dispatch("PostProcess",t),EL=e=>{e.dispatch("remove")},wL=e=>{e.dispatch("detach")},_L=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},SL=(e,t,n,s,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:o})},xL=(e,t,n,s,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:o})},kL=e=>{e.dispatch("PreInit")},NL=e=>{e.dispatch("PostRender")},TL=e=>{e.dispatch("Init")},AL=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},Ew=(e,t,n)=>{e.dispatch(t,n)},ww=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},_w=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},RL=(e,t)=>e.dispatch("BeforeSetContent",t),Sw=(e,t)=>e.dispatch("SetContent",t),PL=(e,t)=>e.dispatch("BeforeGetContent",t),xw=(e,t)=>e.dispatch("GetContent",t),OL=(e,t)=>{e.dispatch("AutocompleterStart",t)},DL=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},BL=e=>{e.dispatch("AutocompleterEnd")},IL=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),$L=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),kw=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),FL=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),me={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||me.metaKeyPressed(e),metaKeyPressed:e=>at.os.isMacOS()||at.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Wr="data-mce-selected",LL="table,img,figure.image,hr,video,span.mce-preview-object,details",Nw=Math.abs,Tu=Math.round,km={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ML=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Tw=(e,t)=>{const n=t.dom,s=t.getDoc(),o=document,r=t.getBody();let a,l,u,d,m,g,y,w,_,E,S,T,O,P,F,X,se;const fe=oe=>q(oe)&&(Wv(oe)||n.is(oe,"figure.image")),j=oe=>qs(oe)||n.hasClass(oe,"mce-preview-object"),U=(oe,Le)=>{if(ML(oe)){const Qe=oe.touches[0];return fe(oe.target)&&!Cw(Qe.clientX,Qe.clientY,Le)}else return fe(oe.target)&&!Cw(oe.clientX,oe.clientY,Le)},Y=oe=>{const Le=oe.target;U(oe,t.selection.getRng())&&!oe.isDefaultPrevented()&&t.selection.select(Le)},he=oe=>n.hasClass(oe,"mce-preview-object")&&q(oe.firstElementChild)?[oe,oe.firstElementChild]:n.is(oe,"figure.image")?[oe.querySelector("img")]:[oe],Ae=oe=>{const Le=CE(t);return!Le||oe.getAttribute("data-mce-resize")==="false"||oe===t.getBody()?!1:n.hasClass(oe,"mce-preview-object")&&q(oe.firstElementChild)?Ns(k.fromDom(oe.firstElementChild),Le):Ns(k.fromDom(oe),Le)},We=oe=>j(oe)?n.create("img",{src:at.transparentSrc}):oe.cloneNode(!0),Ye=(oe,Le,Qe)=>{if(q(Qe)){const gt=he(oe);R(gt,pt=>{pt.style[Le]||!t.schema.isValid(pt.nodeName.toLowerCase(),Le)?n.setStyle(pt,Le,Qe):n.setAttrib(pt,Le,""+Qe)})}},ct=(oe,Le,Qe)=>{Ye(oe,"width",Le),Ye(oe,"height",Qe)},ht=oe=>{let Le,Qe,gt,pt,qt;Le=oe.screenX-g,Qe=oe.screenY-y,P=Le*d[2]+E,F=Qe*d[3]+S,P=P<5?5:P,F=F<5?5:F,(fe(a)||j(a))&&i$(t)!==!1?gt=!me.modifierPressed(oe):gt=me.modifierPressed(oe),gt&&(Nw(Le)>Nw(Qe)?(F=Tu(P*T),P=Tu(F/T)):(P=Tu(F/T),F=Tu(P*T))),ct(l,P,F),pt=d.startPos.x+Le,qt=d.startPos.y+Qe,pt=pt>0?pt:0,qt=qt>0?qt:0,n.setStyles(u,{left:pt,top:qt,display:"block"}),u.innerHTML=P+" &times; "+F,d[2]<0&&l.clientWidth<=P&&n.setStyle(l,"left",w+(E-P)),d[3]<0&&l.clientHeight<=F&&n.setStyle(l,"top",_+(S-F)),Le=r.scrollWidth-X,Qe=r.scrollHeight-se,Le+Qe!==0&&n.setStyles(u,{left:pt-Le,top:qt-Qe}),O||(SL(t,a,E,S,"corner-"+d.name),O=!0)},Dt=()=>{const oe=O;O=!1,oe&&(Ye(a,"width",P),Ye(a,"height",F)),n.unbind(s,"mousemove",ht),n.unbind(s,"mouseup",Dt),o!==s&&(n.unbind(o,"mousemove",ht),n.unbind(o,"mouseup",Dt)),n.remove(l),n.remove(u),n.remove(m),nn(a),oe&&(xL(t,a,P,F,"corner-"+d.name),n.setAttrib(a,"style",n.getAttrib(a,"style"))),t.nodeChanged()},nn=oe=>{Ze();const Le=n.getPos(oe,r),Qe=Le.x,gt=Le.y,pt=oe.getBoundingClientRect(),qt=pt.width||pt.right-pt.left,vs=pt.height||pt.bottom-pt.top;a!==oe&&(ae(),a=oe,P=F=0);const so=t.dispatch("ObjectSelected",{target:oe});Ae(oe)&&!so.isDefaultPrevented()?xt(km,(xn,cs)=>{const Ue=bt=>{const It=he(a)[0];g=bt.screenX,y=bt.screenY,E=It.clientWidth,S=It.clientHeight,T=S/E,d=xn,d.name=cs,d.startPos={x:qt*xn[0]+Qe,y:vs*xn[1]+gt},X=r.scrollWidth,se=r.scrollHeight,m=n.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(m,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),l=We(a),n.addClass(l,"mce-clonedresizable"),n.setAttrib(l,"data-mce-bogus","all"),l.contentEditable="false",n.setStyles(l,{left:Qe,top:gt,margin:0}),ct(l,qt,vs),l.removeAttribute(Wr),r.appendChild(l),n.bind(s,"mousemove",ht),n.bind(s,"mouseup",Dt),o!==s&&(n.bind(o,"mousemove",ht),n.bind(o,"mouseup",Dt)),u=n.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},E+" &times; "+S)};let ot=n.get("mceResizeHandle"+cs);ot&&n.remove(ot),ot=n.add(r,"div",{id:"mceResizeHandle"+cs,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+cs+"-resize; margin:0; padding:0"}),n.bind(ot,"mousedown",bt=>{bt.stopImmediatePropagation(),bt.preventDefault(),Ue(bt)}),xn.elm=ot,n.setStyles(ot,{left:qt*xn[0]+Qe-ot.offsetWidth/2,top:vs*xn[1]+gt-ot.offsetHeight/2})}):ae(!1)},lt=fu(nn,0),ae=(oe=!0)=>{lt.cancel(),Ze(),a&&oe&&a.removeAttribute(Wr),xt(km,(Le,Qe)=>{const gt=n.get("mceResizeHandle"+Qe);gt&&(n.unbind(gt),n.remove(gt))})},xe=(oe,Le)=>n.isChildOf(oe,Le),st=oe=>{if(O||t.removed||t.composing)return;const Le=oe.type==="mousedown"?oe.target:e.getNode(),Qe=kr(k.fromDom(Le),LL).map(pt=>pt.dom).filter(pt=>n.isEditable(pt.parentElement)||pt.nodeName==="IMG"&&n.isEditable(pt)).getOrUndefined(),gt=q(Qe)?n.getAttrib(Qe,Wr,"1"):"1";if(R(n.select(`img[${Wr}],hr[${Wr}]`),pt=>{pt.removeAttribute(Wr)}),q(Qe)&&xe(Qe,r)&&t.hasFocus()){Ce();const pt=e.getStart(!0);if(xe(pt,Qe)&&xe(e.getEnd(!0),Qe)){n.setAttrib(Qe,Wr,gt),lt.throttle(Qe);return}}ae()},Ze=()=>{xt(km,oe=>{oe.elm&&(n.unbind(oe.elm),delete oe.elm)})},Ce=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(oe){}};return t.on("init",()=>{Ce(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",st),t.on("keyup compositionend",oe=>{a&&a.nodeName==="TABLE"&&st(oe)}),t.on("hide blur",ae),t.on("contextmenu longpress",Y,!0)}),t.on("remove",Ze),{isResizable:Ae,showResizeRect:nn,hideResizeRect:ae,updateResizeRect:st,destroy:()=>{lt.cancel(),a=l=m=null}}},UL=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},HL=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},Aw=(e,t,n)=>{const s=e.document.createRange();return UL(s,t),HL(s,n),s},Nm=(e,t,n,s,o)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(s.dom,o),r},xc=Gs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Rw=(e,t,n)=>t(k.fromDom(n.startContainer),n.startOffset,k.fromDom(n.endContainer),n.endOffset),zL=(e,t)=>t.match({domRange:n=>({ltr:G(n),rtl:v.none}),relative:(n,s)=>({ltr:wr(()=>Aw(e,n,s)),rtl:wr(()=>v.some(Aw(e,s,n)))}),exact:(n,s,o,r)=>({ltr:wr(()=>Nm(e,n,s,o,r)),rtl:wr(()=>v.some(Nm(e,o,r,n,s)))})}),VL=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(o=>o.collapsed===!1).map(o=>xc.rtl(k.fromDom(o.endContainer),o.endOffset,k.fromDom(o.startContainer),o.startOffset)).getOrThunk(()=>Rw(e,xc.ltr,n)):Rw(e,xc.ltr,n)},jL=(e,t)=>{const n=zL(e,t);return VL(e,n)};xc.ltr,xc.rtl;const Pw={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},WL=(e,t,n)=>{var s,o;return v.from((o=(s=e.dom).caretPositionFromPoint)===null||o===void 0?void 0:o.call(s,t,n)).bind(r=>{if(r.offsetNode===null)return v.none();const a=e.dom.createRange();return a.setStart(r.offsetNode,r.offset),a.collapse(),v.some(a)})},KL=(e,t,n)=>{var s,o;return v.from((o=(s=e.dom).caretRangeFromPoint)===null||o===void 0?void 0:o.call(s,t,n))},qL=(()=>document.caretPositionFromPoint?WL:document.caretRangeFromPoint?KL:v.none)(),GL=(e,t,n)=>{const s=k.fromDom(e.document);return qL(s,t,n).map(o=>Pw.create(k.fromDom(o.startContainer),o.startOffset,k.fromDom(o.endContainer),o.endOffset))},Tm=Gs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),YL=(e,t,n,s)=>e.fold(t,n,s),XL=e=>e.fold(Lt,Lt,Lt),ZL=Tm.before,JL=Tm.on,QL=Tm.after,wo={before:ZL,on:JL,after:QL,cata:YL,getStart:XL},Au=Gs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),eM=e=>Au.exact(e.start,e.soffset,e.finish,e.foffset),tM=e=>e.match({domRange:t=>k.fromDom(t.startContainer),relative:(t,n)=>wo.getStart(t),exact:(t,n,s,o)=>t}),nM=Au.domRange,sM=Au.relative,oM=Au.exact,rM=e=>{const t=tM(e);return za(t)},iM=Pw.create,Qi={domRange:nM,relative:sM,exact:oM,exactFromRange:eM,getWin:rM,range:iM},Ru=(e,t)=>{const n=it(e);return n==="input"?wo.after(e):I(["br","img"],n)?t===0?wo.before(e):wo.after(e):wo.on(e,t)},aM=(e,t)=>{const n=e.fold(wo.before,Ru,wo.after),s=t.fold(wo.before,Ru,wo.after);return Qi.relative(n,s)},Ow=(e,t,n,s)=>{const o=Ru(e,t),r=Ru(n,s);return Qi.relative(o,r)},cM=e=>e.match({domRange:t=>{const n=k.fromDom(t.startContainer),s=k.fromDom(t.endContainer);return Ow(n,t.startOffset,s,t.endOffset)},relative:aM,exact:Ow}),Am=(e,t)=>{const s=(t||document).createDocumentFragment();return R(e,o=>{s.appendChild(o.dom)}),k.fromDom(s)},lM=e=>{const t=Qi.getWin(e).dom,n=(o,r,a,l)=>Nm(t,o,r,a,l),s=cM(e);return jL(t,s).match({ltr:n,rtl:n})},uM=(e,t,n)=>GL(e,t,n),Dw=(e,t,n)=>{const s=za(k.fromDom(n));return uM(s.dom,e,t).map(o=>{const r=n.createRange();return r.setStart(o.start.dom,o.soffset),r.setEnd(o.finish.dom,o.foffset),r}).getOrUndefined()},Rm=(e,t)=>q(e)&&q(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,fM=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},Bw=(e,t,n)=>fM(e,t,n)!==null,dM=(e,t,n)=>Bw(e,t,s=>s.nodeName===n),pM=(e,t)=>Jn(e)&&!Bw(e,t,es),Iw=(e,t,n)=>{const s=t.parentNode;if(s){const o=new Yt(t,e.getParent(s,e.isBlock)||e.getRoot());let r;for(;r=o[n?"prev":"next"]();)if(Mt(r))return!0}return!1},mM=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},gM=(e,t)=>{let n=t;for(;n&&n!==e;){if(At(n))return!0;n=n.parentNode}return!1},Pm=(e,t,n,s,o)=>{const r=e.getRoot(),a=e.schema.getNonEmptyElements(),l=o.parentNode;let u,d;if(!l)return v.none();const m=e.getParent(l,e.isBlock)||r;if(s&&Mt(o)&&t&&e.isEmpty(m))return v.some(z(l,e.nodeIndex(o)));const g=new Yt(o,m);for(;d=g[s?"prev":"next"]();){if(e.getContentEditableParent(d)==="false"||pM(d,r))return v.none();if(ne(d)&&d.data.length>0)return dM(d,r,"A")?v.none():v.some(z(d,s?d.data.length:0));if(e.isBlock(d)||a[d.nodeName.toLowerCase()])return v.none();u=d}return Lo(u)?v.none():n&&u?v.some(z(u,0)):v.none()},$w=(e,t,n,s)=>{const o=e.getRoot();let r,a=!1,l=n?s.startContainer:s.endContainer,u=n?s.startOffset:s.endOffset;const d=Se(l)&&u===l.childNodes.length,m=e.schema.getNonEmptyElements();let g=n;if(Jn(l))return v.none();if(Se(l)&&u>l.childNodes.length-1&&(g=!1),Ga(l)&&(l=o,u=0),l===o){if(g&&(r=l.childNodes[u>0?u-1:0],r&&(Jn(r)||m[r.nodeName]||Co(r))))return v.none();if(l.hasChildNodes()){if(u=Math.min(!g&&u>0?u-1:u,l.childNodes.length-1),l=l.childNodes[u],u=ne(l)&&d?l.data.length:0,!t&&l===o.lastChild&&Co(l)||gM(o,l)||Jn(l)||gp(l))return v.none();if(l.hasChildNodes()&&!Co(l)){r=l;const y=new Yt(l,o);do{if(At(r)||Jn(r)){a=!1;break}if(ne(r)&&r.data.length>0){u=g?0:r.data.length,l=r,a=!0;break}if(m[r.nodeName.toLowerCase()]&&!JD(r)){u=e.nodeIndex(r),l=r.parentNode,g||u++,a=!0;break}}while(r=g?y.next():y.prev())}}}return t&&(ne(l)&&u===0&&Pm(e,d,t,!0,l).each(y=>{l=y.container(),u=y.offset(),a=!0}),Se(l)&&(r=l.childNodes[u],r||(r=l.childNodes[u-1]),r&&Mt(r)&&!mM(r,"A")&&!Iw(e,r,!1)&&!Iw(e,r,!0)&&Pm(e,d,t,!0,r).each(y=>{l=y.container(),u=y.offset(),a=!0}))),g&&!t&&ne(l)&&u===l.data.length&&Pm(e,d,t,!1,l).each(y=>{l=y.container(),u=y.offset(),a=!0}),a&&l?v.some(z(l,u)):v.none()},Pu=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),o=z.fromRangeStart(t);return $w(e,n,!0,s).each(r=>{(!n||!z.isAbove(o,r))&&s.setStart(r.container(),r.offset())}),n||$w(e,n,!1,s).each(r=>{s.setEnd(r.container(),r.offset())}),n&&s.collapse(!0),Rm(t,s)?v.none():v.some(s)},Ou=(e,t)=>e.splitText(t),Du=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset;if(t===s&&ne(t)){if(n>0&&n<t.data.length)if(s=Ou(t,n),t=s.previousSibling,o>n){o=o-n;const r=Ou(s,o).previousSibling;t=s=r,o=r.data.length,n=0}else o=0}else if(ne(t)&&n>0&&n<t.data.length&&(t=Ou(t,n),n=0),ne(s)&&o>0&&o<s.data.length){const r=Ou(s,o).previousSibling;s=r,o=r.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:o}},Kr=e=>({walk:(r,a)=>_c(e,r,a),split:Du,expand:(r,a={type:"word"})=>{if(a.type==="word"){const l=jr(e,r,[{inline:"span"}]),u=e.createRng();return u.setStart(l.startContainer,l.startOffset),u.setEnd(l.endContainer,l.endOffset),u}return r},normalize:r=>Pu(e,r).fold(Ot,a=>(r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),!0))});Kr.compareRanges=Rm,Kr.getCaretRangeFromPoint=Dw,Kr.getSelectedNode=du,Kr.getNode=Wo;const hM=((e,t)=>{const n=(l,u)=>{if(!Ge(u)&&!u.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+u);const d=l.dom;Ka(d)&&(d.style[e]=u+"px")},s=l=>{const u=t(l);if(u<=0||u===null){const d=Ks(l,e);return parseFloat(d)||0}return u},o=s,r=(l,u)=>le(u,(d,m)=>{const g=Ks(l,m),y=g===void 0?0:parseInt(g,10);return isNaN(y)?d:d+y},0);return{set:n,get:s,getOuter:o,aggregate:r,max:(l,u,d)=>{const m=r(l,d);return u>m?u-m:0}}})("height",e=>{const t=e.dom;return Ii(e)?t.getBoundingClientRect().height:t.offsetHeight}),bM=e=>hM.get(e),Fw=()=>k.fromDom(document),Lw=(e,t)=>e.view(t).fold(G([]),s=>{const o=e.owner(s),r=Lw(e,o);return[s].concat(r)}),yM=(e,t)=>{const n=t.owner(e);return Lw(t,n)};var vM=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?v.none():v.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(k.fromDom)},owner:e=>go(e)});const CM=e=>{const t=Fw(),n=dp(t),s=yM(e,vM),o=fp(e),r=Re(s,(a,l)=>{const u=fp(l);return{left:a.left+u.left,top:a.top+u.top}},{left:0,top:0});return Fi(r.left+o.left+n.left,r.top+o.top+n.top)},Om=e=>it(e)==="textarea",EM=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),wM=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},_M=(e,t)=>{const n=cn(e);if(n.length===0||Om(e))return{element:e,offset:t};if(t<n.length&&!Om(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return Om(s)?{element:e,offset:t}:it(s)==="img"?{element:s,offset:1}:Zn(s)?{element:s,offset:Ql(s).length}:{element:s,offset:cn(s).length}}},Mw=(e,t)=>{const n=jD(e),s=bM(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},SM=(e,t)=>{const n=_M(e,t),s=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Xt+"</span>");return $n(n.element,s),Mw(s,()=>Tt(s))},xM=e=>Mw(k.fromDom(e),Be),Uw=(e,t,n,s)=>{NM(e,(o,r)=>kM(e,t,n,s),n)},Hw=(e,t,n,s,o)=>{const r={elm:s.element.dom,alignToTop:o};if(EM(e,r))return;const a=dp(t).top;n(e,t,a,s,o),wM(e,r)},kM=(e,t,n,s)=>{const o=k.fromDom(e.getBody()),r=k.fromDom(e.getDoc());DD(o);const a=SM(k.fromDom(n.startContainer),n.startOffset);Hw(e,r,t,a,s),a.cleanup()},zw=(e,t,n,s)=>{const o=k.fromDom(e.getDoc());Hw(e,o,n,xM(t),s)},NM=(e,t,n)=>{const s=n.startContainer,o=n.startOffset,r=n.endContainer,a=n.endOffset;t(k.fromDom(s),k.fromDom(r));const l=e.dom.createRng();l.setStart(s,o),l.setEnd(r,a),e.selection.setRng(n)},Dm=(e,t,n,s,o)=>{const r=t.pos;if(s)Fv(r.left,r.top,o);else{const a=r.top-n+t.height;Fv(-e.getBody().getBoundingClientRect().left,a,o)}},Vw=(e,t,n,s,o,r)=>{const a=s+n,l=o.pos.top,u=o.bottom,d=u-l>=s;l<n?Dm(e,o,s,r!==!1,t):l>a?Dm(e,o,s,d?r!==!1:r===!0,t):u>a&&!d&&Dm(e,o,s,r===!0,t)},jw=(e,t,n,s,o)=>{const r=za(t).dom.innerHeight;Vw(e,t,n,r,s,o)},Ww=(e,t,n,s,o)=>{const r=za(t).dom.innerHeight;Vw(e,t,n,r,s,o);const a=CM(s.element),l=Uv(window);a.top<l.y?Lv(s.element,o!==!1):a.top>l.bottom&&Lv(s.element,o===!0)},TM=(e,t,n)=>Uw(e,jw,t,n),AM=(e,t,n)=>zw(e,t,jw,n),RM=(e,t,n)=>Uw(e,Ww,t,n),PM=(e,t,n)=>zw(e,t,Ww,n),OM=(e,t,n)=>{(e.inline?AM:PM)(e,t,n)},kc=(e,t,n)=>{(e.inline?TM:RM)(e,t,n)},Kw=(e,t=!1)=>e.dom.focus({preventScroll:t}),qw=e=>{const t=Fo(e).dom;return e.dom===t.activeElement},Bm=(e=Fw())=>v.from(e.dom.activeElement).map(k.fromDom),DM=e=>Bm(Fo(e)).filter(t=>e.dom.contains(t.dom)),Gw=(e,t)=>{const n=Zn(t)?Ql(t).length:cn(t).length+1;return e>n?n:e<0?0:e},BM=e=>Qi.range(e.start,Gw(e.soffset,e.start),e.finish,Gw(e.foffset,e.finish)),Yw=(e,t)=>!Xl(t.dom)&&(mo(e,t)||ft(e,t)),Xw=e=>t=>Yw(e,t.start)&&Yw(e,t.finish),IM=e=>e.inline||at.browser.isFirefox(),$M=e=>Qi.range(k.fromDom(e.startContainer),e.startOffset,k.fromDom(e.endContainer),e.endOffset),FM=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?v.none():v.from(t.getRangeAt(0))).map($M)},LM=e=>{const t=za(e);return FM(t.dom).filter(Xw(e))},MM=(e,t)=>v.from(t).filter(Xw(e)).map(BM),UM=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),v.some(t)}catch(n){return v.none()}},Im=e=>{const t=IM(e)?LM(k.fromDom(e.getBody())):v.none();e.bookmark=t.isSome()?t:e.bookmark},$m=e=>(e.bookmark?e.bookmark:v.none()).bind(n=>MM(k.fromDom(e.getBody()),n)).bind(UM),HM=e=>{$m(e).each(t=>e.selection.setRng(t))},Zw={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},zM=(e,t)=>(Ge(t)||(t=0),setTimeout(e,t)),VM=(e,t)=>(Ge(t)||(t=0),setInterval(e,t)),ss={setEditorTimeout:(e,t,n)=>zM(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=VM(()=>{e.removed?clearInterval(s):t()},n);return s}},jM=e=>e.type==="nodechange"&&e.selectionChange,WM=(e,t)=>{const n=()=>{t.throttle()};_t.DOM.bind(document,"mouseup",n),e.on("remove",()=>{_t.DOM.unbind(document,"mouseup",n)})},KM=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},qM=(e,t)=>{KM(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{jM(n)||Im(e)})},GM=e=>{const t=fu(()=>{Im(e)},0);e.on("init",()=>{e.inline&&WM(e,t),qM(e,t)}),e.on("remove",()=>{t.cancel()})};let ea;const Fm=_t.DOM,YM=e=>Se(e)&&Zw.isEditorUIElement(e),Lm=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Bu=(e,t)=>{const n=g$(e);return Fm.getParent(t,o=>YM(o)||(n?e.dom.is(o,n):!1))!==null},Mm=e=>{try{const t=Fo(k.fromDom(e.getElement()));return Bm(t).fold(()=>document.body,n=>n.dom)}catch(t){return document.body}},XM=(e,t)=>{const n=t.editor;GM(n);const s=(o,r)=>{if(X$(o)&&o.inline!==!0){const a=k.fromDom(o.getContainer());r(a,"tox-edit-focus")}};n.on("focusin",()=>{const o=e.focusedEditor;Lm(Mm(n))&&s(n,Di),o!==n&&(o&&o.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:o}),n.focus(!0))}),n.on("focusout",()=>{ss.setEditorTimeout(n,()=>{const o=e.focusedEditor;(!Lm(Mm(n))||o!==n)&&s(n,Ua),!Bu(n,Mm(n))&&o===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),ea||(ea=o=>{const r=e.activeEditor;r&&Nv(o).each(a=>{const l=a;l.ownerDocument===document&&l!==document.body&&!Bu(r,l)&&e.focusedEditor===r&&(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Fm.bind(document,"focusin",ea))},ZM=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&ea&&(Fm.unbind(document,"focusin",ea),ea=null)},JM=e=>{e.on("AddEditor",ye(XM,e)),e.on("RemoveEditor",ye(ZM,e))},QM=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),eU=e=>e.collapsed?v.from(Wo(e.startContainer,e.startOffset)).map(k.fromDom):v.none(),tU=(e,t)=>eU(t).bind(n=>u1(n)?v.some(n):mo(e,n)?v.none():v.some(e)),Jw=(e,t)=>{tU(k.fromDom(e.getBody()),t).bind(n=>yn(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Um=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},nU=e=>qw(e)||DM(e).isSome(),sU=e=>q(e.iframeElement)&&qw(k.fromDom(e.iframeElement)),oU=e=>{const t=e.getBody();return t&&nU(k.fromDom(t))},rU=e=>{const t=Fo(k.fromDom(e.getElement()));return Bm(t).filter(n=>!Lm(n.dom)&&Bu(e,n.dom)).isSome()},qr=e=>e.inline?oU(e):sU(e),Qw=e=>qr(e)||rU(e),iU=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable(),q(e.bookmark)&&!qr(e)&&$m(e).each(r=>{e.selection.setRng(r),s=r});const o=QM(e,t.getNode());if(o&&e.dom.isChildOf(o,n)){Um(o),Jw(e,s),Hm(e);return}e.inline||(at.browser.isOpera()||Um(n),e.getWin().focus()),(at.browser.isFirefox()||e.inline)&&(Um(n),Jw(e,s)),Hm(e)},Hm=e=>e.editorManager.setActive(e),aU=(e,t)=>{e.removed||(t?Hm(e):iU(e))},e_=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),t_=(e,t,n,s,o)=>{const r=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return v.from(r).map(k.fromDom).map(l=>!s||!t.collapsed?Bi(l,o(l,a)).getOr(l):l).bind(l=>zn(l)?v.some(l):ps(l).filter(zn)).map(l=>l.dom).getOr(e)},n_=(e,t,n=!1)=>t_(e,t,!0,n,(s,o)=>Math.min(rp(s),o)),s_=(e,t,n=!1)=>t_(e,t,!1,n,(s,o)=>o>0?o-1:o),o_=(e,t)=>{const n=e;for(;e&&ne(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},cU=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const o=t.startOffset,r=t.endOffset;let a=t.commonAncestorContainer;t.collapsed||(n===s&&r-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),ne(n)&&ne(s)&&(n.length===o?n=o_(n.nextSibling,!0):n=n.parentNode,r===0?s=o_(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(a=n)));const l=ne(a)?a.parentNode:a;return vo(l)?l:e},lU=(e,t,n,s)=>{const o=[],r=e.getRoot(),a=e.getParent(n||n_(r,t,t.collapsed),e.isBlock),l=e.getParent(s||s_(r,t,t.collapsed),e.isBlock);if(a&&a!==r&&o.push(a),a&&l&&a!==l){let u;const d=new Yt(a,r);for(;(u=d.next())&&u!==l;)e.isBlock(u)&&o.push(u)}return l&&a!==l&&l!==r&&o.push(l),o},uU=(e,t,n)=>v.from(t).bind(s=>v.from(s.parentNode).map(o=>{const r=e.nodeIndex(s),a=e.createRng();return a.setStart(o,r),a.setEnd(o,r+1),n&&(hm(e,a,s,!0),hm(e,a,s,!1)),a})),zm=(e,t)=>Q(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),fU=e=>it(e)==="img"?1:Kv(e).fold(()=>cn(e).length,t=>t.length),dU=e=>Kv(e).filter(t=>t.trim().length!==0||t.indexOf(Qt)>-1).isSome(),pU=e=>Vl(e)&&Vn(e,"contenteditable")==="false",mU=["img","br"],r_=e=>dU(e)||I(mU,it(e))||pU(e),gU=e=>Av(e,r_),hU=e=>bU(e,r_),bU=(e,t)=>{const n=s=>{const o=cn(s);for(let r=o.length-1;r>=0;r--){const a=o[r];if(t(a))return v.some(a);const l=n(a);if(l.isSome())return l}return v.none()};return n(e)},i_="[data-mce-autocompleter]",yU=(e,t)=>{if(a_(k.fromDom(e.getBody())).isNone()){const n=k.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Kt(n,k.fromDom(t.extractContents())),t.insertNode(n.dom),ps(n).each(s=>s.dom.normalize()),hU(n).map(s=>{e.selection.setCursorLocation(s.dom,fU(s))})}},vU=e=>kr(e,i_),a_=e=>Wa(e,i_),CU=(e,t)=>a_(t).each(n=>{const s=e.selection.getBookmark();yo(n),e.selection.moveToBookmark(s)}),EU={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Iu=(e,t,n)=>{const s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s])return e[s];if(e!==t){let r=e[o];if(r)return r;for(let a=e.parent;a&&a!==t;a=a.parent)if(r=a[o],r)return r}},wU=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ho(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},c_=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class _n{static create(t,n){const s=new _n(t,EU[t]||1);return n&&xt(n,(o,r)=>{s.attr(r,o)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!A(t))return q(t)&&xt(t,(r,a)=>{s.attr(a,r)}),s;const o=s.attributes;if(o){if(n!==void 0){if(n===null){if(t in o.map){delete o.map[t];let r=o.length;for(;r--;)if(o[r].name===t)return o.splice(r,1),s}return s}if(t in o.map){let r=o.length;for(;r--;)if(o[r].name===t){o[r].value=n;break}}else o.push({name:t,value:n});return o.map[t]=n,s}return o.map[t]}}clone(){const t=this,n=new _n(t.name,t.type),s=t.attributes;if(s){const o=[];o.map={};for(let r=0,a=s.length;r<a;r++){const l=s[r];l.name!=="id"&&(o[o.length]={name:l.name,value:l.value},o.map[l.name]=l.value)}n.attributes=o}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,o=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):o&&(o.next=s),n.lastChild===t?(n.lastChild=o,o&&(o.next=null)):s&&(s.prev=o),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const o=n.parent||this;return s?(n===o.firstChild?o.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===o.lastChild?o.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=o,t}getAll(t){const n=this,s=[];for(let o=n.firstChild;o;o=Iu(o,n))o.name===t&&s.push(o);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let o=t.firstChild;o;o=Iu(o,t))n.push(o);let s=n.length;for(;s--;){const o=n[s];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var o;const r=this;let a=r.firstChild;if(c_(r))return!1;if(a)do{if(a.type===1){if(a.attr("data-mce-bogus"))continue;if(t[a.name]||c_(a))return!1}if(a.type===8||a.type===3&&!wU(a)||a.type===3&&a.parent&&n[a.parent.name]&&Ho((o=a.value)!==null&&o!==void 0?o:"")||s&&s(a))return!1}while(a=Iu(a,r));return!0}walk(t){return Iu(this,null,t)}}const _U=ie.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),l_=e=>A(e.nodeValue)&&e.nodeValue.includes(Xt),u_=e=>`${e.length===0?"":`${Q(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,SU=(e,t)=>t.querySelectorAll(u_(e)),f_=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>l_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),d_=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(l_(t)){const n=t.parentNode;return n&&je(_U,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),xU=e=>f_(e).nextNode()!==null,kU=e=>d_(e).nextNode()!==null,NU=(e,t)=>t.querySelector(u_(e))!==null,TU=(e,t)=>{R(SU(e,t),n=>{const s=k.fromDom(n);Vn(s,"data-mce-bogus")==="all"?Tt(s):R(e,o=>{La(s,o)&&an(s,o)})})},p_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},AU=He(p_,f_),RU=He(p_,d_),m_=(e,t)=>{const n=[{condition:ye(NU,t),action:ye(TU,t)},{condition:xU,action:AU},{condition:kU,action:RU}];let s=e,o=!1;return R(n,({condition:r,action:a})=>{r(s)&&(o||(s=e.cloneNode(!0),o=!0),a(s))}),s},g_=e=>{const t=hn(e,"[data-mce-bogus]");R(t,n=>{Vn(n,"data-mce-bogus")==="all"?Tt(n):Pr(n)?($n(n,k.fromText(Ya)),Tt(n)):yo(n)})},h_=e=>{const t=hn(e,"input");R(t,n=>{an(n,"name")})},PU=(e,t)=>{const n=bn(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},OU=(e,t)=>{const n=e.getDoc(),s=Fo(k.fromDom(e.getBody())),o=k.fromTag("div",n);rn(o,"data-mce-bogus","all"),Kl(o,{position:"fixed",left:"-9999999px",top:"0"}),Gl(o,t.innerHTML),g_(o),h_(o);const r=SD(s);Kt(r,o);const a=jn(o.dom.innerText);return Tt(o),a},DU=(e,t,n)=>{let s;return t.format==="raw"?s=ie.trim(jn(m_(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=OU(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=PU(e,e.serializer.serialize(n,t)),t.format!=="text"&&!eu(k.fromDom(n))&&A(s)?ie.trim(s):s},BU=(e,t)=>v.from(e.getBody()).fold(G(t.format==="tree"?new _n("body",11):""),n=>DU(e,t,n)),b_=ie.makeMap,y_=e=>{const t=[];e=e||{};const n=e.indent,s=b_(e.indent_before||""),o=b_(e.indent_after||""),r=zo.getEncodeFunc(e.entity_encoding||"raw",e.entities),a=e.element_format!=="xhtml";return{start:(l,u,d)=>{if(n&&s[l]&&t.length>0){const m=t[t.length-1];m.length>0&&m!==`
`&&t.push(`
`)}if(t.push("<",l),u)for(let m=0,g=u.length;m<g;m++){const y=u[m];t.push(" ",y.name,'="',r(y.value,!0),'"')}if(!d||a?t[t.length]=">":t[t.length]=" />",d&&n&&o[l]&&t.length>0){const m=t[t.length-1];m.length>0&&m!==`
`&&t.push(`
`)}},end:l=>{let u;t.push("</",l,">"),n&&o[l]&&t.length>0&&(u=t[t.length-1],u.length>0&&u!==`
`&&t.push(`
`))},text:(l,u)=>{l.length>0&&(t[t.length]=u?l:r(l))},cdata:l=>{t.push("<![CDATA[",l,"]]>")},comment:l=>{t.push("<!--",l,"-->")},pi:(l,u)=>{u?t.push("<?",l," ",r(u),"?>"):t.push("<?",l,"?>"),n&&t.push(`
`)},doctype:l=>{t.push("<!DOCTYPE",l,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Yo=(e={},t=Vo())=>{const n=y_(e);return e.validate="validate"in e?e.validate:!0,{serialize:o=>{const r=e.validate,a={3:u=>{var d;n.text((d=u.value)!==null&&d!==void 0?d:"",u.raw)},8:u=>{var d;n.comment((d=u.value)!==null&&d!==void 0?d:"")},7:u=>{n.pi(u.name,u.value)},10:u=>{var d;n.doctype((d=u.value)!==null&&d!==void 0?d:"")},4:u=>{var d;n.cdata((d=u.value)!==null&&d!==void 0?d:"")},11:u=>{let d=u;if(d=d.firstChild)do l(d);while(d=d.next)}};n.reset();const l=u=>{var d;const m=a[u.type];if(m)m(u);else{const g=u.name,y=g in t.getVoidElements();let w=u.attributes;if(r&&w&&w.length>1){const _=[];_.map={};const E=t.getElementRule(u.name);if(E){for(let S=0,T=E.attributesOrder.length;S<T;S++){const O=E.attributesOrder[S];if(O in w.map){const P=w.map[O];_.map[O]=P,_.push({name:O,value:P})}}for(let S=0,T=w.length;S<T;S++){const O=w[S].name;if(!(O in _.map)){const P=w.map[O];_.map[O]=P,_.push({name:O,value:P})}}w=_}}if(n.start(g,w,y),Or(g))A(u.value)&&n.text(u.value,!0),n.end(g);else if(!y){let _=u.firstChild;if(_){(g==="pre"||g==="textarea")&&_.type===3&&((d=_.value)===null||d===void 0?void 0:d[0])===`
`&&n.text(`
`,!0);do l(_);while(_=_.next)}n.end(g)}}};return o.type===1&&!e.inner?l(o):o.type===3?a[3](o):a[11](o),n.getContent()}}},v_=new Set;R(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{v_.add(t)});const C_=["font","text-decoration","text-emphasis"],Vm=(e,t)=>In(e.parseStyle(e.getAttrib(t,"style"))),IU=e=>v_.has(e),$U=(e,t)=>Ct(Vm(e,t),n=>!IU(n)),FU=e=>J(e,t=>Z(C_,n=>on(t,n))),LU=(e,t,n)=>{const s=Vm(e,t),o=Vm(e,n),r=a=>{var l,u;const d=(l=e.getStyle(t,a))!==null&&l!==void 0?l:"",m=(u=e.getStyle(n,a))!==null&&u!==void 0?u:"";return zs(d)&&zs(m)&&d!==m};return Z(s,a=>{const l=u=>Z(u,d=>d===a);if(!l(o)&&l(C_)){const u=FU(o);return Z(u,r)}else return r(a)})},E_=(e,t,n)=>v.from(n.container()).filter(ne).exists(s=>{const o=e?0:-1;return t(s.data.charAt(n.offset()+o))}),jm=ye(E_,!0,Yi),Wm=ye(E_,!1,Yi),MU=e=>{const t=e.container();return ne(t)&&(t.data.length===0||tu(t.data)&&Sc.isBookmarkNode(t.parentNode))},Xo=(e,t)=>n=>rm(e?0:-1,n).filter(t).isSome(),w_=e=>Wv(e)&&Ks(k.fromDom(e),"display")==="block",__=e=>At(e)&&!YD(e),UU=Xo(!0,w_),HU=Xo(!1,w_),Nc=Xo(!0,qs),Tc=Xo(!1,qs),S_=Xo(!0,Co),x_=Xo(!1,Co),Zo=Xo(!0,__),Jo=Xo(!1,__),zU=e=>e.slice(0,-1),VU=(e,t,n)=>mo(t,e)?zU(_v(e,s=>n(s)||ft(s,t))):[],k_=(e,t)=>VU(e,t,Ot),_o=(e,t)=>[e].concat(k_(e,t)),Km=(e,t,n)=>qE(e,t,n,MU),jU=e=>t=>e.isBlock(it(t)),N_=(e,t,n)=>Pe(_o(k.fromDom(t.container()),e),jU(n)),T_=(e,t,n,s)=>Km(e,t.dom,n).forall(o=>N_(t,n,s).fold(()=>!Ys(o,n,t.dom),r=>!Ys(o,n,t.dom)&&mo(r,k.fromDom(o.container())))),A_=(e,t,n,s)=>N_(t,n,s).fold(()=>Km(e,t.dom,n).forall(o=>!Ys(o,n,t.dom)),o=>Km(e,o.dom,n).isNone()),qm=ye(A_,!1),R_=ye(A_,!0),WU=ye(T_,!1),KU=ye(T_,!0),qU=e=>vu(e).exists(Pr),$u=(e,t,n,s)=>{const o=J(_o(k.fromDom(n.container()),t),a=>s.isBlock(it(a))),r=Jt(o).getOr(t);return Qn(e,r.dom,n).filter(qU)},Gm=(e,t,n)=>vu(t).exists(Pr)||$u(!0,e,t,n).isSome(),Ym=(e,t,n)=>xF(t).exists(Pr)||$u(!1,e,t,n).isSome(),GU=ye($u,!1),YU=ye($u,!0),P_=e=>z.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),O_=(e,t,n)=>{const s=J(_o(k.fromDom(t.container()),e),o=>n.isBlock(it(o)));return Jt(s).getOr(e)},D_=(e,t,n)=>P_(t)?Wm(t):Wm(t)||Fn(O_(e,t,n).dom,t).exists(Wm),B_=(e,t,n)=>P_(t)?jm(t):jm(t)||An(O_(e,t,n).dom,t).exists(jm),XU=e=>I(["pre","pre-wrap"],e),Xm=e=>vu(e).bind(t=>xr(t,zn)).exists(t=>XU(Ks(t,"white-space"))),ZU=(e,t)=>Fn(e.dom,t).isNone(),JU=(e,t)=>An(e.dom,t).isNone(),QU=(e,t,n)=>ZU(e,t)||JU(e,t)||qm(e,t,n)||R_(e,t,n)||Ym(e,t,n)||Gm(e,t,n),eH=e=>q(e)&&At(e)&&BE(e),I_=(e,t)=>n=>eH(new Yt(n,e)[t]()),tH=(e,t)=>{const n=An(e.dom,t).getOr(t),s=I_(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},nH=(e,t)=>{const n=Fn(e.dom,t).getOr(t),s=I_(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},$_=(e,t,n)=>Xm(t)?!1:QU(e,t,n)||D_(e,t,n)||B_(e,t,n),Ac=(e,t,n)=>Xm(t)?!1:qm(e,t,n)||WU(e,t,n)||Ym(e,t,n)||D_(e,t,n)||nH(e,t),sH=e=>{const t=e.container(),n=e.offset();return ne(t)&&n<t.data.length?z(t,n+1):e},Rc=(e,t,n)=>Xm(t)?!1:R_(e,t,n)||KU(e,t,n)||Gm(e,t,n)||B_(e,t,n)||tH(e,t),Zm=(e,t,n)=>Ac(e,t,n)||Rc(e,sH(t),n),F_=(e,t)=>_u(e.charAt(t)),L_=(e,t)=>Yi(e.charAt(t)),oH=e=>{const t=e.container();return ne(t)&&mn(t.data,Qt)},rH=e=>{const t=e.split("");return Q(t,(n,s)=>_u(n)&&s>0&&s<t.length-1&&dm(t[s-1])&&dm(t[s+1])?" ":n).join("")},M_=(e,t,n,s)=>{const o=t.data,r=z(t,0);return!n&&F_(o,0)&&!Zm(e,r,s)?(t.data=" "+o.slice(1),!0):n&&L_(o,0)&&Ac(e,r,s)?(t.data=Qt+o.slice(1),!0):!1},iH=e=>{const t=e.data,n=rH(t);return n!==t?(e.data=n,!0):!1},U_=(e,t,n,s)=>{const o=t.data,r=z(t,o.length-1);return!n&&F_(o,o.length-1)&&!Zm(e,r,s)?(t.data=o.slice(0,-1)+" ",!0):n&&L_(o,o.length-1)&&Rc(e,r,s)?(t.data=o.slice(0,-1)+Qt,!0):!1},aH=(e,t,n)=>{const s=t.container();if(!ne(s))return v.none();if(oH(t)){const o=M_(e,s,!1,n)||iH(s)||U_(e,s,!1,n);return Oi(o,t)}else if(Zm(e,t,n)){const o=M_(e,s,!0,n)||U_(e,s,!0,n);return Oi(o,t)}else return v.none()},cH=e=>{const t=k.fromDom(e.getBody());e.selection.isCollapsed()&&aH(t,z.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},H_=(e,t,n,s)=>{if(n===0)return;const o=k.fromDom(e),r=ho(o,d=>s.isBlock(it(d))).getOr(o),a=e.data.slice(t,t+n),l=t+n>=e.data.length&&Rc(r,z(e,e.data.length),s),u=t===0&&Ac(r,z(e,0),s);e.replaceData(t,n,eC(a,4,u,l))},Fu=(e,t,n)=>{const s=e.data.slice(t),o=s.length-IO(s).length;H_(e,t,o,n)},Jm=(e,t,n)=>{const s=e.data.slice(0,t),o=s.length-My(s).length;H_(e,t-o,o,n)},Qm=(e,t,n,s,o=!0)=>{const r=My(e.data).length,a=o?e:t,l=o?t:e;return o?a.appendData(l.data):a.insertData(0,l.data),Tt(k.fromDom(l)),s&&Fu(a,r,n),a},lH=(e,t)=>{const n=e.container(),s=e.offset();return!z.isTextPosition(e)&&n===t.parentNode&&s>z.before(t).offset()},uH=(e,t)=>lH(t,e)?z(t.container(),t.offset()-1):t,fH=e=>ne(e)?z(e,0):z.before(e),dH=e=>ne(e)?z(e,e.data.length):z.after(e),z_=e=>gs(e.previousSibling)?v.some(dH(e.previousSibling)):e.previousSibling?hs(e.previousSibling):v.none(),V_=e=>gs(e.nextSibling)?v.some(fH(e.nextSibling)):e.nextSibling?yn(e.nextSibling):v.none(),pH=(e,t)=>v.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Fn(e,z.before(n))).orThunk(()=>An(e,z.after(t))),mH=(e,t)=>An(e,z.after(t)).orThunk(()=>Fn(e,z.before(t))),gH=(e,t)=>z_(t).orThunk(()=>V_(t)).orThunk(()=>pH(e,t)),hH=(e,t)=>V_(t).orThunk(()=>z_(t)).orThunk(()=>mH(e,t)),bH=(e,t,n)=>e?hH(t,n):gH(t,n),yH=(e,t,n)=>bH(e,t,n).map(ye(uH,n)),j_=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},vH=e=>t=>t.dom===e,CH=(e,t)=>t&&je(e.schema.getBlockElements(),it(t)),EH=(e,t)=>{if(Ht(e)){const n=k.fromHtml('<br data-mce-bogus="1">');return t?R(cn(e),s=>{xm(s)||Tt(s)}):$i(e),Kt(e,n),v.some(z.before(n.dom))}else return v.none()},wH=(e,t,n,s)=>{const o=Sr(e).filter(Zn),r=Va(e).filter(Zn);return Tt(e),JO(o,r,t,(a,l,u)=>{const d=a.dom,m=l.dom,g=d.data.length;return Qm(d,m,n,s),u.container()===m?z(d,g):u}).orThunk(()=>(s&&(o.each(a=>Jm(a.dom,a.dom.length,n)),r.each(a=>Fu(a.dom,0,n))),t))},_H=(e,t)=>je(e.schema.getTextInlineElements(),it(t)),Gr=(e,t,n,s=!0,o=!1)=>{const r=yH(t,e.getBody(),n.dom),a=ho(n,ye(CH,e),vH(e.getBody())),l=wH(n,r,e.schema,_H(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(u=>EH(u,o)).fold(()=>{s&&j_(e,t,l)},u=>{s&&j_(e,t,v.some(u))})},SH=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,xH=e=>SH.test(e),Yr=(e,t)=>Ns(k.fromDom(t),r$(e))&&!Dr(e.schema,t)&&e.dom.isEditable(t),W_=e=>{var t;return _t.DOM.getStyle(e,"direction",!0)==="rtl"||xH((t=e.textContent)!==null&&t!==void 0?t:"")},kH=(e,t,n)=>J(_t.DOM.getParents(n.container(),"*",t),e),Qo=(e,t,n)=>{const s=kH(e,t,n);return v.from(s[s.length-1])},NH=(e,t,n)=>{const s=qo(t,e),o=qo(n,e);return q(s)&&s===o},TH=e=>vp(e)||Cp(e),os=(e,t)=>{const n=t.container(),s=t.offset();return e?Uo(n)?ne(n.nextSibling)?z(n.nextSibling,0):z.after(n):vp(t)?z(n,s+1):t:Uo(n)?ne(n.previousSibling)?z(n.previousSibling,n.previousSibling.data.length):z.before(n):Cp(t)?z(n,s-1):t},K_=ye(os,!0),q_=ye(os,!1),G_=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},AH=e=>{e.execCommand("delete")},eg=e=>G_(e,"Delete"),RH=e=>G_(e,"ForwardDelete"),PH=e=>t=>Pi(ps(t),e,ft),OH=e=>qv(e)||Xa(e),Lu=(e,t)=>mo(e,t)?xr(t,OH,PH(e)):v.none(),tg=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Y_=(e,t,n)=>gn(yn(n),hs(n),(s,o)=>{const r=os(!0,s),a=os(!1,o),l=os(!1,t);return e?An(n,l).exists(u=>u.isEqual(a)&&t.isEqual(r)):Fn(n,l).exists(u=>u.isEqual(r)&&t.isEqual(a))}).getOr(!0),X_=e=>(iD(e)?Sr(e):op(e)).bind(X_).orThunk(()=>v.some(e)),Z_=(e,t,n,s=!0)=>{var o;t.deleteContents();const r=X_(n).getOr(n),a=k.fromDom((o=e.dom.getParent(r.dom,e.dom.isBlock))!==null&&o!==void 0?o:n.dom);if(a.dom===e.getBody()?tg(e,s):Ht(a)&&(Mo(a),s&&e.selection.setCursorLocation(a.dom,0)),!ft(n,a)){const l=Pi(ps(a),n)?[]:CD(a);R(l.concat(cn(n)),u=>{!ft(u,a)&&!mo(u,a)&&Ht(u)&&Tt(u)})}},DH=(e,t,n)=>ho(e,t,n).isSome(),BH=(e,t)=>TD(e,t).isSome(),J_=(e,t)=>Av(e,t).isSome(),IH=e=>t=>ft(e,t),ng=e=>hn(e,"td,th"),Q_=(e,t)=>Ec(k.fromDom(e),t),$H=e=>gn(e.startTable,e.endTable,(t,n)=>{const s=J_(t,r=>ft(r,n)),o=J_(n,r=>ft(r,t));return!s&&!o?e:yt(Oe({},e),{startTable:s?v.none():e.startTable,endTable:o?v.none():e.endTable,isSameTable:!1,isMultiTable:!1})}).getOr(e),FH=e=>$H(e),LH=(e,t)=>{const n=Q_(e.startContainer,t),s=Q_(e.endContainer,t),o=n.isSome(),r=s.isSome(),a=gn(n,s,ft).getOr(!1);return FH({startTable:n,endTable:s,isStartInTable:o,isEndInTable:r,isSameTable:a,isMultiTable:!a&&o&&r})},sg=(e,t)=>({start:e,end:t}),MH=(e,t,n)=>({rng:e,table:t,cells:n}),Pc=Gs.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Mu=(e,t)=>kr(k.fromDom(e),"td,th",t),e0=e=>!ft(e.start,e.end),t0=(e,t)=>Ec(e.start,t).bind(n=>Ec(e.end,t).bind(s=>Oi(ft(n,s),n))),UH=(e,t)=>!e0(e)&&t0(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),HH=(e,t)=>{const n=Mu(e.startContainer,t),s=Mu(e.endContainer,t);return gn(n,s,sg)},zH=e=>t=>Ec(t,e).bind(n=>Hs(ng(n)).map(s=>sg(t,s))),VH=e=>t=>Ec(t,e).bind(n=>Jt(ng(n)).map(s=>sg(s,t))),og=e=>t=>t0(t,e).map(n=>MH(t,n,ng(n))),n0=(e,t,n,s)=>{if(n.collapsed||!e.forall(e0))return v.none();if(t.isSameTable){const o=e.bind(og(s));return v.some({start:o,end:o})}else{const o=Mu(n.startContainer,s),r=Mu(n.endContainer,s),a=o.bind(zH(s)).bind(og(s)),l=r.bind(VH(s)).bind(og(s));return v.some({start:a,end:l})}},s0=(e,t)=>Ke(e,n=>ft(n,t)),rg=e=>gn(s0(e.cells,e.rng.start),s0(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),jH=(e,t,n)=>e.exists(s=>UH(s,n)&&gm(s.start,t)),o0=(e,t)=>{const{startTable:n,endTable:s}=t,o=e.cloneRange();return n.each(r=>o.setStartAfter(r.dom)),s.each(r=>o.setEndBefore(r.dom)),o},WH=(e,t,n,s)=>n0(e,t,n,s).bind(({start:o,end:r})=>o.or(r)).bind(o=>{const{isSameTable:r}=t,a=rg(o).getOr([]);if(r&&o.cells.length===a.length)return v.some(Pc.fullTable(o.table));if(a.length>0){if(r)return v.some(Pc.partialTable(a,v.none()));{const l=o0(n,t);return v.some(Pc.partialTable(a,v.some(yt(Oe({},t),{rng:l}))))}}else return v.none()}),KH=(e,t,n,s)=>n0(e,t,n,s).bind(({start:o,end:r})=>{const a=o.bind(rg).getOr([]),l=r.bind(rg).getOr([]);if(a.length>0&&l.length>0){const u=o0(n,t);return v.some(Pc.multiTable(a,l,u))}else return v.none()}),qH=(e,t)=>{const n=IH(e),s=HH(t,n),o=LH(t,n);return jH(s,t,n)?s.map(r=>Pc.singleCellTable(t,r.start)):o.isMultiTable?KH(s,o,t,n):WH(s,o,t,n)},r0=e=>R(e,t=>{an(t,"contenteditable"),Mo(t)}),GH=(e,t)=>v.from(e.dom.getParent(t,e.dom.isBlock)).map(k.fromDom),YH=(e,t,n)=>{n.each(s=>{t?Tt(s):(Mo(s),e.selection.setCursorLocation(s.dom,0))})},ig=(e,t,n,s)=>{const o=n.cloneRange();s?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),ag(e,o,t,!1).each(r=>r())},i0=e=>{const t=Xi(e),n=k.fromDom(e.selection.getNode());Jl(n.dom)&&Ht(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Z(t,s=>ft(s,n))&&rn(n,"data-mce-selected","1")},a0=(e,t,n)=>v.some(()=>{const s=e.selection.getRng(),o=n.bind(({rng:r,isStartInTable:a})=>{const l=GH(e,a?r.endContainer:r.startContainer);r.deleteContents(),YH(e,a,l.filter(Ht));const u=a?t[0]:t[t.length-1];return ig(e,u,s,a),Ht(u)?v.none():v.some(a?t.slice(1):t.slice(0,-1))}).getOr(t);r0(o),i0(e)}),XH=(e,t,n,s)=>v.some(()=>{const o=e.selection.getRng(),r=t[0],a=n[n.length-1];ig(e,r,o,!0),ig(e,a,o,!1);const l=Ht(r)?t:t.slice(1),u=Ht(a)?n:n.slice(0,-1);r0(l.concat(u)),s.deleteContents(),i0(e)}),ag=(e,t,n,s=!0)=>v.some(()=>{Z_(e,t,n,s)}),ZH=(e,t)=>v.some(()=>Gr(e,!1,t)),JH=(e,t,n)=>qH(t,n).bind(s=>s.fold(ye(ag,e),ye(ZH,e),ye(a0,e),ye(XH,e))),QH=(e,t)=>Uu(e,t),ez=(e,t,n,s)=>cg(t,s).fold(()=>JH(e,t,n),o=>QH(e,o)),tz=(e,t,n)=>{const s=k.fromDom(e.getBody()),o=e.selection.getRng();return n.length!==0?a0(e,n,v.none()):ez(e,s,o,t)},c0=(e,t)=>Pe(_o(t,e),Za),cg=(e,t)=>Pe(_o(t,e),jl("caption")),nz=(e,t,n,s,o)=>qi(n,e.getBody(),o).bind(r=>c0(t,k.fromDom(r.getNode())).bind(a=>ft(a,s)?v.none():v.some(Be))),Uu=(e,t)=>v.some(()=>{Mo(t),e.selection.setCursorLocation(t.dom,0)}),sz=(e,t,n,s)=>yn(e.dom).bind(o=>hs(e.dom).map(r=>t?n.isEqual(o)&&s.isEqual(r):n.isEqual(r)&&s.isEqual(o))).getOr(!0),oz=(e,t)=>Uu(e,t),rz=(e,t,n)=>cg(e,k.fromDom(n.getNode())).fold(()=>v.some(Be),s=>Oi(!ft(s,t),Be)),iz=(e,t,n,s,o)=>qi(n,e.getBody(),o).fold(()=>v.some(Be),r=>sz(s,n,o,r)?oz(e,s):rz(t,s,r)),az=(e,t,n,s)=>{const o=z.fromRangeStart(e.selection.getRng());return c0(n,s).bind(r=>Ht(r)?Uu(e,r):nz(e,n,t,r,o))},cz=(e,t,n,s)=>{const o=z.fromRangeStart(e.selection.getRng());return Ht(s)?Uu(e,s):iz(e,n,t,s,o)},l0=(e,t)=>e?S_(t):x_(t),lz=(e,t)=>{const n=z.fromRangeStart(e.selection.getRng());return l0(t,n)||Qn(t,e.getBody(),n).exists(s=>l0(t,s))},uz=(e,t,n)=>{const s=k.fromDom(e.getBody());return cg(s,n).fold(()=>az(e,t,s,n).orThunk(()=>Oi(lz(e,t),Be)),o=>cz(e,t,s,o))},lg=(e,t)=>{const n=k.fromDom(e.selection.getStart(!0)),s=Xi(e);return e.selection.isCollapsed()&&s.length===0?uz(e,t,n):tz(e,n,s)},Xr=(e,t)=>{let n=t;for(;n&&n!==e;){if(ms(n)||At(n))return n;n=n.parentNode}return null},fz=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],dz=ie.each,ug=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(r,a)=>{if(r.nodeName!==a.nodeName||r.nodeType!==a.nodeType)return!1;const l=d=>{const m={};return dz(t.getAttribs(d),g=>{const y=g.nodeName.toLowerCase();y!=="style"&&!o(y)&&(m[y]=t.getAttrib(d,y))}),m},u=(d,m)=>{for(const g in d)if(je(d,g)){const y=m[g];if(Ee(y)||d[g]!==y)return!1;delete m[g]}for(const g in m)if(je(m,g))return!1;return!0};return Se(r)&&Se(a)&&(!u(l(r),l(a))||!u(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(a,"style"))))?!1:!ts(r)&&!ts(a)},o=r=>Z(fz,a=>on(r,a))||n.has(r);return{compare:s,isAttributeInternal:o}},u0=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),pz=e=>e.name==="summary",mz=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},f0=(e,t,n,s)=>{const o=n.name;for(let r=0,a=e.length;r<a;r++){const l=e[r];if(l.name===o){const u=s.nodes[o];u?u.nodes.push(n):s.nodes[o]={filter:l,nodes:[n]}}}if(n.attributes)for(let r=0,a=t.length;r<a;r++){const l=t[r],u=l.name;if(u in n.attributes.map){const d=s.attributes[u];d?d.nodes.push(n):s.attributes[u]={filter:l,nodes:[n]}}}},gz=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&mz(n,o=>{f0(e,t,o,s)}),s},d0=(e,t)=>{const n=(s,o)=>{xt(s,r=>{const a=$t(r.nodes);R(r.filter.callbacks,l=>{for(let u=a.length-1;u>=0;u--){const d=a[u];(!(o?d.attr(r.filter.name)!==void 0:d.name===r.filter.name)||be(d.parent))&&a.splice(u,1)}a.length>0&&l(a,r.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},p0=(e,t,n,s={})=>{const o=gz(e,t,n);d0(o,s)},fg=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const r=new _n("br",1);t.insert&&r.attr("data-mce-bogus","1"),s.empty().append(r)}else s.empty().append(new _n("#text",3)).value=Qt},hz=e=>{var t;return m0(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Qt},m0=(e,t)=>{const n=e==null?void 0:e.firstChild;return q(n)&&n===e.lastChild&&n.name===t},bz=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},Oc=(e,t,n,s)=>s.isEmpty(t,n,o=>bz(e,o)),yz=(e,t)=>q(e)&&(t(e)||e.name==="br"),vz=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return v.from(t)},dg=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const o of s)n&&!t.isValidChild(n.name,o.name)&&dg(o,t,n);e.unwrap()}},pg=(e,t,n,s=Be)=>{const o=t.getTextBlockElements(),r=t.getNonEmptyElements(),a=t.getWhitespaceElements(),l=ie.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),u=new Set,d=m=>m!==n&&!l[m.name];for(let m=0;m<e.length;m++){const g=e[m];let y,w,_;if(!g.parent||u.has(g))continue;if(o[g.name]&&g.parent.name==="li"){let S=g.next;for(;S&&o[S.name];){S.name="li",u.add(S),g.parent.insert(S,g.parent);S=S.next}g.unwrap();continue}const E=[g];for(y=g.parent;y&&!t.isValidChild(y.name,g.name)&&d(y);y=y.parent)E.push(y);if(y&&E.length>1)if(mg(t,g,y))dg(g,t);else{E.reverse(),w=E[0].clone(),s(w);let S=w;for(let T=0;T<E.length-1;T++){t.isValidChild(S.name,E[T].name)&&T>0?(_=E[T].clone(),s(_),S.append(_)):_=S;for(let O=E[T].firstChild;O&&O!==E[T+1];){const P=O.next;_.append(O),O=P}S=_}Oc(t,r,a,w)?y.insert(g,E[0],!0):(y.insert(w,E[0],!0),y.insert(g,w)),y=E[0],(Oc(t,r,a,y)||m0(y,"br"))&&y.empty().remove()}else if(g.parent){if(g.name==="li"){let S=g.prev;if(S&&(S.name==="ul"||S.name==="ol")){S.append(g);continue}if(S=g.next,S&&(S.name==="ul"||S.name==="ol")&&S.firstChild){S.insert(g,S.firstChild,!0);continue}const T=new _n("ul",1);s(T),g.wrap(T);continue}if(t.isValidChild(g.parent.name,"div")&&t.isValidChild("div",g.name)){const S=new _n("div",1);s(S),g.wrap(S)}else dg(g,t)}}},Cz=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},mg=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&Cz(n,"a")?!0:pz(n)&&u0(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,Ez=(e,t,n,s)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,s),o},wz=e=>{const t=z.fromRangeStart(e),n=z.fromRangeEnd(e),s=e.commonAncestorContainer;return Qn(!1,s,n).map(o=>!Ys(t,n,s)&&Ys(t,o,s)?Ez(t.container(),t.offset(),o.container(),o.offset()):e).getOr(e)},gg=e=>e.collapsed?e:wz(e),_z=e=>q(e.firstChild)&&e.firstChild===e.lastChild,Sz=e=>e.name==="br"||e.value===Qt,xz=(e,t)=>e.getBlockElements()[t.name]&&_z(t)&&Sz(t.firstChild),kz=(e,t)=>{const n=e.getNonEmptyElements();return q(t)&&(t.isEmpty(n)||xz(e,t))},Nz=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),kz(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},Tz=e=>{var t,n;const s=e.firstChild,o=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),o&&o.id==="mce_marker"&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),e},Az=(e,t,n)=>{const s=t.serialize(n),o=e.createFragment(s);return Tz(o)},Rz=e=>{var t;return J((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},Pz=e=>e.data===Qt||Mt(e),Oz=e=>q(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&Pz(e.firstChild),Dz=e=>!e.firstChild||Oz(e),Bz=e=>e.length>0&&Dz(e[e.length-1])?e.slice(0,-1):e,hg=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},Iz=(e,t)=>!!hg(e,t),$z=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},Fz=(e,t)=>{const n=z.before(e),o=Zs(t).next(n);return o?o.toRange():null},g0=(e,t)=>{const n=z.after(e),o=Zs(t).prev(n);return o?o.toRange():null},Lz=(e,t,n,s)=>{const o=$z(e,s),r=e.parentNode;return r&&(r.insertBefore(o[0],e),ie.each(t,a=>{r.insertBefore(a,e)}),r.insertBefore(o[1],e),r.removeChild(e)),g0(t[t.length-1],n)},Mz=(e,t,n)=>{const s=e.parentNode;return s&&ie.each(t,o=>{s.insertBefore(o,e)}),Fz(e,n)},Uz=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),g0(t[0],n)),Hz=(e,t,n,s)=>{const o=Az(t,e,s),r=hg(t,n.startContainer),a=Bz(Rz(o.firstChild)),l=1,u=2,d=t.getRoot(),m=g=>{const y=z.fromRangeStart(n),w=Zs(t.getRoot()),_=g===l?w.prev(y):w.next(y),E=_==null?void 0:_.getNode();return E?hg(t,E)!==r:!0};return r?m(l)?Mz(r,a,d):m(u)?Uz(r,a,d,t):Lz(r,a,d,n):null},zz=["pre"],Vz=(e,t,n,s)=>{var o;const r=t.firstChild,a=t.lastChild,l=a.attr("data-mce-type")==="bookmark"?a.prev:a,u=r===l,d=I(zz,r.name);if(u&&d){const m=r.attr("contenteditable")!=="false",g=((o=e.getParent(n,e.isBlock))===null||o===void 0?void 0:o.nodeName.toLowerCase())===r.name,y=v.from(Xr(s,n)).forall(ms);return m&&g&&y}else return!1},bg=Jl,jz=(e,t,n)=>{if(q(n)){const s=e.getParent(t.endContainer,bg);return n===s&&gm(k.fromDom(n),t)}else return!1},Wz=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,r=n.lastChild;!o||o===r&&o.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},Kz=(e,t,n)=>{v.from(e.getParent(t,"td,th")).map(k.fromDom).each(s=>p1(s,n))},qz=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const o=e.getBody(),r=ug(e);ie.each(s.select("*[data-mce-fragment]"),a=>{if(q(n[a.nodeName.toLowerCase()])&&$U(s,a)){for(let u=a.parentElement;q(u)&&u!==o&&!LU(s,a,u);u=u.parentElement)if(r.compare(u,a)){s.remove(a,!0);break}}})}},Gz=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},Yz=e=>{ie.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},Xz=e=>!!e.getAttribute("data-mce-fragment"),Zz=(e,t)=>q(t)&&!e.schema.getVoidElements()[t.nodeName],Jz=(e,t)=>{var n,s,o;let r;const a=e.dom,l=e.selection;if(!t)return;l.scrollIntoView(t);const u=Xr(e.getBody(),t);if(u&&a.getContentEditable(u)==="false"){a.remove(t),l.select(u);return}let d=a.createRng();const m=t.previousSibling;if(ne(m)){d.setStart(m,(s=(n=m.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const w=t.nextSibling;ne(w)&&(m.appendData(w.data),(o=w.parentNode)===null||o===void 0||o.removeChild(w))}else d.setStartBefore(t),d.setEndBefore(t);const g=w=>{let _=z.fromRangeStart(w);return _=Zs(e.getBody()).next(_),_==null?void 0:_.toRange()},y=a.getParent(t,a.isBlock);if(a.remove(t),y&&a.isEmpty(y)){const w=bg(y);$i(k.fromDom(y)),d.setStart(y,0),d.setEnd(y,0),!w&&!Xz(y)&&(r=g(d))?(d=r,a.remove(y)):a.add(y,a.create("br",w?{}:{"data-mce-bogus":"1"}))}l.setRng(d)},Qz=e=>{const t=e.dom,n=gg(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,bg);jz(t,n,s)?ag(e,n,k.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&ne(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},eV=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return v.some(t);return v.none()},tV=(e,t,n)=>{var s;return Z(n.children(),u0)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},nV=(e,t,n)=>{var s,o;const r=e.selection,a=e.dom,l=e.parser,u=n.merge,d=Yo({validate:!0},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=jn(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m);let g=r.getRng();const y=g.startContainer,w=e.getBody();y===w&&r.isCollapsed()&&a.isBlock(w.firstChild)&&Zz(e,w.firstChild)&&a.isEmpty(w.firstChild)&&(g=a.createRng(),g.setStart(w.firstChild,0),g.setEnd(w.firstChild,0),r.setRng(g)),r.isCollapsed()||Qz(e);const _=r.getNode(),E={context:_.nodeName.toLowerCase(),data:n.data,insert:!0},S=l.parse(t,E);if(n.paste===!0&&Nz(e.schema,S)&&Iz(a,_))return g=Hz(d,a,r.getRng(),S),g&&r.setRng(g),t;n.paste===!0&&Vz(a,S,_,e.getBody())&&((s=S.firstChild)===null||s===void 0||s.unwrap()),Gz(S);let T=S.lastChild;if(T&&T.attr("id")==="mce_marker"){const O=T;for(T=T.prev;T;T=T.walk(!0))if(T.type===3||!a.isBlock(T.name)){T.parent&&e.schema.isValidChild(T.parent.name,"span")&&T.parent.insert(O,T,T.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(_),!E.invalid&&!tV(a,_,S))t=d.serialize(S),Wz(e,t,_);else{e.selection.setContent(m);let O=r.getNode(),P;const F=e.getBody();for(Ga(O)?O=P=F:P=O;P&&P!==F;)O=P,P=P.parentNode;t=O===F?F.innerHTML:a.getOuterHTML(O);const X=l.parse(t),se=eV(X),fe=se.bind(vz).getOr(X);se.each(he=>he.replace(S));const j=S.children(),U=(o=S.parent)!==null&&o!==void 0?o:X;S.unwrap();const Y=J(j,he=>mg(e.schema,he,U));pg(Y,e.schema,fe),p0(l.getNodeFilters(),l.getAttributeFilters(),X),t=d.serialize(X),O===F?a.setHTML(F,t):a.setOuterHTML(O,t)}return qz(e,u),Jz(e,a.get("mce_marker")),Yz(e.getBody()),Kz(a,r.getStart(),e.schema),G1(e.schema,e.getBody(),r.getStart()),t},Hu=e=>e instanceof _n,sV=e=>{qr(e)&&yn(e.getBody()).each(t=>{const n=t.getNode(),s=Co(n)?yn(n).getOr(t):t;e.selection.setRng(s.toRange())})},yg=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&sV(e)},oV=(e,t,n,s)=>{if(n=jn(n),n.length===0||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const r=bn(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=e.dom.createHTML(r,pc(e),n)):n||(n=o),yg(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Yo({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=eu(k.fromDom(t))?n:ie.trim(n);return yg(e,o,s.no_selection),{content:o,html:o}}},rV=(e,t,n,s)=>{p0(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=Yo({validate:!1},e.schema).serialize(n),r=jn(eu(k.fromDom(t))?o:ie.trim(o));return yg(e,r,s.no_selection),{content:n,html:r}},iV=(e,t,n)=>v.from(e.getBody()).map(s=>Hu(t)?rV(e,s,t,n):oV(e,s,t,n)).getOr({content:t,html:Hu(n.content)?"":n.content}),h0=e=>ce(e)?e:Ot,aV=(e,t,n)=>{let s=e.dom;const o=h0(n);for(;s.parentNode;){s=s.parentNode;const r=k.fromDom(s),a=t(r);if(a.isSome())return a;if(o(r))break}return v.none()},vg=(e,t,n)=>{const s=t(e),o=h0(n);return s.orThunk(()=>o(e)?v.none():aV(e,t,o))},Cg=Em,b0=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let o=0;o<s.length;o++){const r=s[o];if(ns(r)&&r.inherit===!1&&e.dom.is(t,r.selector))return!0}return!1},Eg=(e,t,n,s,o)=>{const r=e.dom.getRoot();if(t===r)return!1;const a=e.dom.getParent(t,l=>b0(e,l,n)?!0:l.parentNode===r||!!Qs(e,l,n,s,!0));return!!Qs(e,a,n,s,o)},zu=(e,t,n)=>Zt(n)&&Cg(t,n.inline)||Js(n)&&Cg(t,n.block)?!0:ns(n)?Se(t)&&e.is(t,n.selector):!1,y0=(e,t,n,s,o,r)=>{const a=n[s],l=s==="attributes";if(ce(n.onmatch))return n.onmatch(t,n,s);if(a){if(Dy(a)){for(let u=0;u<a.length;u++)if(l?e.getAttrib(t,a[u]):xu(e,t,a[u]))return!0}else for(const u in a)if(je(a,u)){const d=l?e.getAttrib(t,u):xu(e,t,u),m=Go(a[u],r),g=be(d)||$a(d);if(g&&be(m))continue;if(o&&g&&!n.exact||(!o||n.exact)&&!Cg(d,wm(m,u)))return!1}}return!0},Qs=(e,t,n,s,o)=>{const r=e.formatter.get(n),a=e.dom;if(r&&Se(t))for(let l=0;l<r.length;l++){const u=r[l];if(zu(e.dom,t,u)&&y0(a,t,u,"attributes",o,s)&&y0(a,t,u,"styles",o,s)){const d=u.classes;if(d){for(let m=0;m<d.length;m++)if(!e.dom.hasClass(t,Go(d[m],s)))return}return u}}},wg=(e,t,n,s,o)=>{if(s)return Eg(e,s,t,n,o);if(s=e.selection.getNode(),Eg(e,s,t,n,o))return!0;const r=e.selection.getStart();return!!(r!==s&&Eg(e,r,t,n,o))},cV=(e,t,n)=>{const s=[],o={},r=e.selection.getStart();return e.dom.getParent(r,a=>{for(let l=0;l<t.length;l++){const u=t[l];!o[u]&&Qs(e,a,u,n)&&(o[u]=!0,s.push(u))}},e.dom.getRoot()),s},lV=(e,t)=>{const n=o=>ft(o,k.fromDom(e.getBody())),s=(o,r)=>Qs(e,o.dom,r)?v.some(r):v.none();return v.from(e.selection.getStart(!0)).bind(o=>vg(k.fromDom(o),r=>En(t,a=>s(r,a)),n)).getOrNull()},uV=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const o=e.selection.getStart(),r=ku(s,o);for(let a=n.length-1;a>=0;a--){const l=n[a];if(!ns(l))return!0;for(let u=r.length-1;u>=0;u--)if(s.is(r[u],l.selector))return!0}}return!1},fV=(e,t,n)=>le(n,(s,o)=>{const r=nL(e,o);return e.formatter.matchNode(t,o,{},r)?s.concat([o]):s},[]),Dc=Xt,dV=(e,t)=>e.importNode(t,!0),v0=e=>{if(e){const t=new Yt(e,e);for(let n=t.current();n;n=t.next())if(ne(n))return n}return null},_g=e=>{const t=k.fromTag("span");return fo(t,{id:um,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Kt(t,k.fromText(Dc)),t},pV=e=>{const t=v0(e);return t&&t.data.charAt(0)===Dc&&t.deleteData(0,1),t},Sg=(e,t,n)=>{const s=e.dom,o=e.selection;if(aw(t))Gr(e,!1,k.fromDom(t),n,!0);else{const r=o.getRng(),a=s.getParent(t,s.isBlock),l=r.startContainer,u=r.startOffset,d=r.endContainer,m=r.endOffset,g=pV(t);s.remove(t,!0),l===g&&u>0&&r.setStart(g,u-1),d===g&&m>0&&r.setEnd(g,m-1),a&&s.isEmpty(a)&&Mo(k.fromDom(a)),o.setRng(r)}},xg=(e,t,n)=>{const s=e.dom,o=e.selection;if(t)Sg(e,t,n);else if(t=Vr(e.getBody(),o.getStart()),!t)for(;t=s.get(um);)Sg(e,t,n)},mV=(e,t,n)=>{var s,o;const r=e.dom,a=r.getParent(n,ye(vm,e.schema));a&&r.isEmpty(a)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(d1(k.fromDom(n)),r.isEmpty(n)?(o=n.parentNode)===null||o===void 0||o.replaceChild(t,n):r.insertAfter(t,n))},C0=(e,t)=>(e.appendChild(t),t),E0=(e,t)=>{var n;const s=Re(e,(r,a)=>C0(r,a.cloneNode(!1)),t),o=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return C0(s,o.createTextNode(Dc))},gV=(e,t,n,s,o,r)=>{const a=e.formatter,l=e.dom,u=J(In(a.get()),g=>g!==s&&!mn(g,"removeformat")),d=fV(e,n,u);if(J(d,g=>!sL(e,g,s)).length>0){const g=n.cloneNode(!1);return l.add(t,g),a.remove(s,o,g,r),l.remove(g),v.some(g)}else return v.none()},hV=(e,t,n)=>{let s;const o=e.selection,r=e.formatter.get(t);if(!r)return;const a=o.getRng();let l=a.startOffset;const d=a.startContainer.nodeValue;s=Vr(e.getBody(),o.getStart());const m=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(d&&l>0&&l<d.length&&m.test(d.charAt(l))&&m.test(d.charAt(l-1))){const g=o.getBookmark();a.collapse(!0);let y=jr(e.dom,a,r);y=Du(y),e.formatter.apply(t,n,y),o.moveToBookmark(g)}else{let g=s?v0(s):null;(!s||(g==null?void 0:g.data)!==Dc)&&(s=dV(e.getDoc(),_g(!0).dom),g=s.firstChild,a.insertNode(s),l=1),e.formatter.apply(t,n,s),o.setCursorLocation(g,l)}},bV=(e,t,n,s)=>{const o=e.dom,r=e.selection;let a=!1;const l=e.formatter.get(t);if(!l)return;const u=r.getRng(),d=u.startContainer,m=u.startOffset;let g=d;ne(d)&&(m!==d.data.length&&(a=!0),g=g.parentNode);const y=[];let w;for(;g;){if(Qs(e,g,t,n,s)){w=g;break}g.nextSibling&&(a=!0),y.push(g),g=g.parentNode}if(w)if(a){const _=r.getBookmark();u.collapse(!0);let E=jr(o,u,l,!0);E=Du(E),e.formatter.remove(t,n,E,s),r.moveToBookmark(_)}else{const _=Vr(e.getBody(),w),E=q(_)?o.getParents(w.parentNode,Et,_):[],S=_g(!1).dom;mV(e,S,_!=null?_:w);const T=gV(e,S,w,t,n,s),O=E0([...y,...T.toArray(),...E],S);_&&Sg(e,_,q(_)),r.setCursorLocation(O,1),o.isEmpty(w)&&o.remove(w)}},yV=(e,t,n)=>{const s=e.selection,o=e.getBody();xg(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===Dc&&xg(e,Vr(o,s.getStart()),!0),(t===37||t===39)&&xg(e,Vr(o,s.getStart()),!0)},vV=e=>ne(e)&&Zd(e.data,Qt),CV=e=>{e.on("mouseup keydown",t=>{yV(e,t.keyCode,vV(e.selection.getRng().endContainer))})},w0=e=>{const t=_g(!1),n=E0(e,t.dom);return{caretContainer:t,caretPosition:z(n,0)}},_0=(e,t)=>{const{caretContainer:n,caretPosition:s}=w0(t);return $n(k.fromDom(e),n),Tt(k.fromDom(e)),s},EV=(e,t)=>{const{caretContainer:n,caretPosition:s}=w0(t);return e.insertNode(n.dom),s},S0=(e,t)=>{if(es(t.dom))return!1;const n=e.schema.getTextInlineElements();return je(n,it(t))&&!es(t.dom)&&!Rr(t.dom)},Bc={},x0=Ts(["pre"]),wV=(e,t)=>{Bc[e]||(Bc[e]=[]),Bc[e].push(t)},_V=(e,t)=>{je(Bc,e)&&R(Bc[e],n=>{n(t)})};wV("pre",e=>{const t=e.selection.getRng(),n=o=>r=>{const a=r.previousSibling;return x0(a)&&I(o,a)},s=(o,r)=>{const a=k.fromDom(r),l=go(a).dom;Tt(a),Tr(k.fromDom(o),[k.fromTag("br",l),k.fromTag("br",l),...cn(a)])};if(!t.collapsed){const o=e.selection.getSelectedBlocks(),r=J(J(o,x0),n(o));R(r,a=>{s(a.previousSibling,a)})}});const k0=["fontWeight","fontStyle","color","fontSize","fontFamily"],SV=e=>V(e.styles)&&Z(In(e.styles),t=>I(k0,t)),xV=e=>Pe(e,t=>Zt(t)&&t.inline==="span"&&SV(t)),N0=(e,t)=>{const n=e.get(t);return we(n)?xV(n):v.none()},T0=(e,t)=>Fn(t,z.fromRangeStart(e)).isNone(),A0=(e,t)=>An(t,z.fromRangeEnd(e)).exists(n=>!Mt(n.getNode())||An(t,n).isSome())===!1,R0=e=>t=>QD(t)&&e.isEditable(t),kV=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return T0(n,t[0])&&A0(n,t[0])?t:[];{const s=Jt(t).filter(a=>T0(n,a)).toArray(),o=Hs(t).filter(a=>A0(n,a)).toArray(),r=t.slice(1,-1);return s.concat(r).concat(o)}},NV=e=>J(kV(e),R0(e.dom)),P0=e=>J(e.getSelectedBlocks(),R0(e.dom)),kg=ie.each,Ng=e=>Se(e)&&!ts(e)&&!es(e)&&!Rr(e),O0=(e,t)=>{for(let n=e;n;n=n[t]){if(ne(n)&&zs(n.data))return e;if(Se(n)&&!ts(n))return n}return e},D0=(e,t,n)=>{const s=ug(e),o=vo(t)&&e.dom.isEditable(t),r=vo(n)&&e.dom.isEditable(n);if(o&&r){const a=O0(t,"previousSibling"),l=O0(n,"nextSibling");if(s.compare(a,l)){for(let u=a.nextSibling;u&&u!==l;){const d=u;u=u.nextSibling,a.appendChild(d)}return e.dom.remove(l),ie.each(ie.grep(l.childNodes),u=>{a.appendChild(u)}),a}}return n},B0=(e,t,n,s)=>{var o;if(s&&t.merge_siblings!==!1){const r=(o=D0(e,ow(s),s))!==null&&o!==void 0?o:s;D0(e,r,ow(r,!0))}},TV=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";kg(e.select(s,n),o=>{Ng(o)&&e.isEditable(o)&&kg(t.styles,(r,a)=>{e.setStyle(o,a,"")})})}},Tg=(e,t,n)=>{kg(e.childNodes,s=>{Ng(s)&&(t(s)&&n(s),s.hasChildNodes()&&Tg(s,t,n))})},AV=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},I0=(e,t)=>n=>!!(n&&xu(e,n,t)),$0=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),AV(e,s)},Zr=Gs.generate([{keep:[]},{rename:["name"]},{removed:[]}]),RV=/^(src|href|style)$/,Ag=ie.each,Vu=Em,PV=e=>/^(TR|TH|TD)$/.test(e.nodeName),F0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),L0=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Se(s)){const r=s.childNodes.length-1;!n&&o&&o--,s=s.childNodes[o>r?r:o]}return ne(s)&&n&&o>=s.data.length&&(s=new Yt(s,e.getBody()).next()||s),ne(s)&&!n&&o===0&&(s=new Yt(s,e.getBody()).prev()||s),s},M0=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return PV(e)&&s?e.nodeName==="TR"&&s[n]||s:e},Rg=(e,t,n,s)=>{var o;const r=e.create(n,s);return(o=t.parentNode)===null||o===void 0||o.insertBefore(r,t),r.appendChild(t),r},U0=(e,t,n,s,o)=>{const r=k.fromDom(t),a=k.fromDom(e.create(s,o)),l=n?xv(r):Sv(r);return Tr(a,l),n?($n(r,a),lp(a,r)):(bo(r,a),Kt(a,r)),a.dom},OV=(e,t)=>t.links&&e.nodeName==="A",H0=(e,t,n)=>{const s=t.parentNode;let o;const r=e.dom,a=bn(e);Js(n)&&s===r.getRoot()&&(!n.list_block||!Vu(t,n.list_block))&&R($t(t.childNodes),l=>{Zi(e,a,l.nodeName.toLowerCase())?o?o.appendChild(l):(o=Rg(r,l,a),r.setAttribs(o,pc(e))):o=null}),!(iL(n)&&!Vu(n.inline,t))&&r.remove(t,!0)},z0=(e,t,n)=>Ge(e)?{name:t,value:null}:{name:e,value:Go(t,n)},V0=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},j0=(e,t,n,s,o)=>{let r=!1;Ag(n.styles,(a,l)=>{const{name:u,value:d}=z0(l,a,s),m=wm(d,u);(n.remove_similar||ke(d)||!Se(o)||Vu(xu(e,o,u),m))&&e.setStyle(t,u,""),r=!0}),r&&V0(e,t)},DV=(e,t,n)=>{t==="removeformat"?R(P0(e.selection),s=>{R(k0,o=>e.dom.setStyle(s,o,"")),V0(e.dom,s)}):N0(e.formatter,t).each(s=>{R(P0(e.selection),o=>j0(e.dom,o,s,n,null))})},W0=(e,t,n,s,o)=>{const r=e.dom,a=ug(e),l=e.schema;if(Zt(t)&&Np(l,t.inline)&&Dr(l,s)&&s.parentElement===e.getBody())return H0(e,s,t),Zr.removed();if(!t.ceFalseOverride&&s&&r.getContentEditableParent(s)==="false"||s&&!zu(r,s,t)&&!OV(s,t))return Zr.keep();const u=s,d=t.preserve_attributes;if(Zt(t)&&t.remove==="all"&&we(d)){const m=J(r.getAttribs(u),g=>I(d,g.name.toLowerCase()));if(r.removeAllAttribs(u),R(m,g=>r.setAttrib(u,g.name,g.value)),m.length>0)return Zr.rename("span")}if(t.remove!=="all"){j0(r,u,t,n,o),Ag(t.attributes,(g,y)=>{const{name:w,value:_}=z0(y,g,n);if(t.remove_similar||ke(_)||!Se(o)||Vu(r.getAttrib(o,w),_)){if(w==="class"){const E=r.getAttrib(u,w);if(E){let S="";if(R(E.split(/\s+/),T=>{/mce\-\w+/.test(T)&&(S+=(S?" ":"")+T)}),S){r.setAttrib(u,w,S);return}}}if(RV.test(w)&&u.removeAttribute("data-mce-"+w),w==="style"&&Ts(["li"])(u)&&r.getStyle(u,"list-style-type")==="none"){u.removeAttribute(w),r.setStyle(u,"list-style-type","none");return}w==="class"&&u.removeAttribute("className"),u.removeAttribute(w)}}),Ag(t.classes,g=>{g=Go(g,n),(!Se(o)||r.hasClass(o,g))&&r.removeClass(u,g)});const m=r.getAttribs(u);for(let g=0;g<m.length;g++){const y=m[g].nodeName;if(!a.isAttributeInternal(y))return Zr.keep()}}return t.remove!=="none"?(H0(e,u,t),Zr.removed()):Zr.keep()},BV=(e,t,n,s,o)=>{let r;return t.parentNode&&R(ku(e.dom,t.parentNode).reverse(),a=>{if(!r&&Se(a)&&a.id!=="_start"&&a.id!=="_end"){const l=Qs(e,a,n,s,o);l&&l.split!==!1&&(r=a)}}),r},IV=(e,t,n,s)=>W0(e,t,n,s,s).fold(G(s),o=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,o)),G(null)),$V=(e,t,n,s,o,r,a,l)=>{var u,d;let m,g;const y=e.dom;if(n){const w=n.parentNode;for(let _=s.parentNode;_&&_!==w;_=_.parentNode){let E=y.clone(_,!1);for(let S=0;S<t.length&&(E=IV(e,t[S],l,E),E!==null);S++);E&&(m&&E.appendChild(m),g||(g=E),m=E)}r&&(!a.mixed||!y.isBlock(n))&&(s=(u=y.split(n,s))!==null&&u!==void 0?u:s),m&&g&&((d=o.parentNode)===null||d===void 0||d.insertBefore(m,o),g.appendChild(o),Zt(a)&&B0(e,a,l,m))}return s},FV=(e,t,n,s,o)=>{const r=e.formatter.get(t),a=r[0],l=e.dom,u=e.selection,d=E=>{const S=BV(e,E,t,n,o);return $V(e,r,S,E,E,!0,a,n)},m=E=>ts(E)&&Se(E)&&(E.id==="_start"||E.id==="_end"),g=E=>Z(r,S=>Ic(e,S,n,E,E)),y=E=>{const S=$t(E.childNodes),O=g(E)||Z(r,X=>zu(l,E,X)),P=E.parentNode;if(!O&&q(P)&&Sm(a)&&g(P),a.deep&&S.length)for(let X=0;X<S.length;X++)y(S[X]);R(["underline","line-through","overline"],X=>{Se(E)&&e.dom.getStyle(E,"text-decoration")===X&&E.parentNode&&iw(l,E.parentNode)===X&&Ic(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:X}},void 0,E)})},w=E=>{const S=l.get(E?"_start":"_end");if(S){let T=S[E?"firstChild":"lastChild"];return m(T)&&(T=T[E?"firstChild":"lastChild"]),ne(T)&&T.data.length===0&&(T=E?S.previousSibling||S.nextSibling:S.nextSibling||S.previousSibling),l.remove(S,!0),T}else return null},_=E=>{let S,T,O=jr(l,E,r,E.collapsed);if(a.split){if(O=Du(O),S=L0(e,O,!0),T=L0(e,O),S!==T){if(S=M0(S,!0),T=M0(T,!1),F0(l,S,T)){const F=v.from(S.firstChild).getOr(S);d(U0(l,F,!0,"span",{id:"_start","data-mce-type":"bookmark"})),w(!0);return}if(F0(l,T,S)){const F=v.from(T.lastChild).getOr(T);d(U0(l,F,!1,"span",{id:"_end","data-mce-type":"bookmark"})),w(!1);return}S=Rg(l,S,"span",{id:"_start","data-mce-type":"bookmark"}),T=Rg(l,T,"span",{id:"_end","data-mce-type":"bookmark"});const P=l.createRng();P.setStartAfter(S),P.setEndBefore(T),_c(l,P,F=>{R(F,X=>{!ts(X)&&!ts(X.parentNode)&&d(X)})}),d(S),d(T),S=w(!0),T=w()}else S=T=d(S);O.startContainer=S.parentNode?S.parentNode:S,O.startOffset=l.nodeIndex(S),O.endContainer=T.parentNode?T.parentNode:T,O.endOffset=l.nodeIndex(T)+1}_c(l,O,P=>{R(P,y)})};if(s){if(wc(s)){const E=l.createRng();E.setStartBefore(s),E.setEndAfter(s),_(E)}else _(s);_w(e,t,s,n);return}!u.isCollapsed()||!Zt(a)||Xi(e).length?(sw(e,()=>bm(e,_),E=>Zt(a)&&wg(e,t,n,E)),e.nodeChanged()):bV(e,t,n,o),DV(e,t,n),_w(e,t,s,n)},K0=(e,t,n,s,o)=>{(s||e.selection.isEditable())&&FV(e,t,n,s,o)},Ic=(e,t,n,s,o)=>W0(e,t,n,s,o).fold(Ot,r=>(e.dom.rename(s,r),!0),Et),q0=ie.each,LV=(e,t,n,s)=>{const o=r=>{if(vo(r)&&Se(r.parentNode)&&e.isEditable(r)){const a=iw(e,r.parentNode);e.getStyle(r,"color")&&a?e.setStyle(r,"text-decoration",a):e.getStyle(r,"text-decoration")===a&&e.setStyle(r,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ie.walk(s,o,"childNodes"),o(s))},MV=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const o=I0(e,"fontSize");Tg(s,r=>o(r)&&e.isEditable(r),$0(e,"backgroundColor",Go(t.styles.backgroundColor,n)))}},UV=(e,t,n,s)=>{if(Zt(t)&&(t.inline==="sub"||t.inline==="sup")){const o=I0(e,"fontSize");Tg(s,a=>o(a)&&e.isEditable(a),$0(e,"fontSize",""));const r=J(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(r,!0)}},HV=(e,t,n,s)=>{q0(t,o=>{Zt(o)&&q0(e.dom.select(o.inline,s),r=>{Ng(r)&&Ic(e,o,n,r,o.exact?r:null)}),TV(e.dom,o,s)})},zV=(e,t,n,s,o)=>{const r=o.parentNode;Qs(e,r,n,s)&&Ic(e,t,s,o)||t.merge_with_parents&&r&&e.dom.getParent(r,a=>Qs(e,a,n,s)?(Ic(e,t,s,o),!0):!1)},ju=ie.each,VV=(e,t,n,s)=>{if(p$(e)&&Zt(t)&&n.parentNode){const o=bC(e.schema),r=BH(k.fromDom(n),a=>es(a.dom));return Ai(o,s)&&Ht(k.fromDom(n.parentNode),!1)&&!r}else return!1},G0=(e,t,n,s)=>{if(ju(n.styles,(o,r)=>{e.setStyle(t,r,Go(o,s))}),n.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},jV=(e,t,n,s)=>{const o=e.formatter.get(t),r=o[0],a=!s&&e.selection.isCollapsed(),l=e.dom,u=e.selection,d=(_,E=r)=>{ce(E.onformat)&&E.onformat(_,E,n,s),G0(l,_,E,n),ju(E.attributes,(S,T)=>{l.setAttrib(_,T,Go(S,n))}),ju(E.classes,S=>{const T=Go(S,n);l.hasClass(_,T)||l.addClass(_,T)})},m=(_,E)=>{let S=!1;return ju(_,T=>ns(T)?l.getContentEditable(E)==="false"&&!T.ceFalseOverride||q(T.collapsed)&&T.collapsed!==a?!0:l.is(E,T.selector)&&!es(E)?(d(E,T),S=!0,!1):!0:!1),S},g=_=>{if(A(_)){const E=l.create(_);return d(E),E}else return null},y=(_,E,S)=>{const T=[];let O=!0;const P=r.inline||r.block,F=g(P),X=j=>oL(r)&&Qs(e,j,t,n),se=(j,U,Y)=>{const he=rL(r)&&vm(e.schema,j)&&Zi(e,U,P);return Y&&he},fe=(j,U,Y,he)=>{const Ae=j.nodeName.toLowerCase(),We=Zi(e,P,Ae)&&Zi(e,U,P),Ye=!S&&ne(j)&&tu(j.data),ct=es(j),ht=!Zt(r)||!_.isBlock(j);return(Y||he)&&We&&!Ye&&!ct&&ht};_c(_,E,j=>{let U;const Y=he=>{let Ae=!1,We=O,Ye=!1;const ct=he.parentNode,ht=ct.nodeName.toLowerCase(),Dt=_.getContentEditable(he);q(Dt)&&(We=O,O=Dt==="true",Ae=!0,Ye=rw(e,he));const nn=O&&!Ae;if(Mt(he)&&!VV(e,r,he,ht)){U=null,Js(r)&&_.remove(he);return}if(X(he)){U=null;return}if(se(he,ht,nn)){const lt=_.rename(he,P);d(lt),T.push(lt),U=null;return}if(ns(r)){let lt=m(o,he);if(!lt&&q(ct)&&Sm(r)&&(lt=m(o,ct)),!Zt(r)||lt){U=null;return}}q(F)&&fe(he,ht,nn,Ye)?(U||(U=_.clone(F,!1),ct.insertBefore(U,he),T.push(U)),Ye&&Ae&&(O=We),U.appendChild(he)):(U=null,R($t(he.childNodes),Y),Ae&&(O=We),U=null)};R(j,Y)}),r.links===!0&&R(T,j=>{const U=Y=>{Y.nodeName==="A"&&d(Y,r),R($t(Y.childNodes),U)};U(j)}),R(T,j=>{const U=Ae=>{let We=0;return R(Ae.childNodes,Ye=>{!eL(Ye)&&!ts(Ye)&&We++}),We},Y=Ae=>Pe(Ae.childNodes,ym).filter(Ye=>_.getContentEditable(Ye)!=="false"&&zu(_,Ye,r)).map(Ye=>{const ct=_.clone(Ye,!1);return d(ct),_.replace(ct,Ae,!0),_.remove(Ye,!0),ct}).getOr(Ae),he=U(j);if((T.length>1||!_.isBlock(j))&&he===0){_.remove(j,!0);return}(Zt(r)||Js(r)&&r.wrapper)&&(!r.exact&&he===1&&(j=Y(j)),HV(e,o,n,j),zV(e,r,t,n,j),MV(_,r,n,j),LV(_,r,n,j),UV(_,r,n,j),B0(e,r,n,j))})},w=wc(s)?s:u.getNode();if(l.getContentEditable(w)==="false"&&!rw(e,w)){s=w,m(o,s),ww(e,t,s,n);return}if(r){if(s)if(wc(s)){if(!m(o,s)){const _=l.createRng();_.setStartBefore(s),_.setEndAfter(s),y(l,jr(l,_,o),!0)}}else y(l,s,!0);else!a||!Zt(r)||Xi(e).length?(u.setRng(gg(u.getRng())),sw(e,()=>{bm(e,(_,E)=>{const S=E?_:jr(l,_,o);y(l,S,!1)})},Et),e.nodeChanged()):hV(e,t,n),N0(e.formatter,t).each(_=>{R(NV(e.selection),E=>G0(l,E,_,n))});_V(t,e)}ww(e,t,s,n)},Y0=(e,t,n,s)=>{(s||e.selection.isEditable())&&jV(e,t,n,s)},X0=e=>je(e,"vars"),WV=(e,t)=>{e.set({}),t.on("NodeChange",n=>{eS(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=v.from(n.node).map(o=>wc(o)?o:o.startContainer).bind(o=>Se(o)?v.some(o):v.from(o.parentElement)).getOrThunk(()=>Z0(t));eS(t,s,e.get())})},Z0=e=>e.selection.getStart(),J0=(e,t,n,s,o)=>qe(t,l=>{const u=e.formatter.matchNode(l,n,o!=null?o:{},s);return!Ee(u)},l=>b0(e,l,n)?!0:s?!1:q(e.formatter.matchNode(l,n,o,!0))),Q0=(e,t)=>{const n=t!=null?t:Z0(e);return J(ku(e.dom,n),s=>Se(s)&&!Rr(s))},eS=(e,t,n)=>{const s=Q0(e,t);xt(n,(o,r)=>{const a=l=>{const u=J0(e,s,r,l.similar,X0(l)?l.vars:void 0),d=u.isSome();if(l.state.get()!==d){l.state.set(d);const m=u.getOr(t);X0(l)?l.callback(d,{node:m,format:r,parents:s}):R(l.callbacks,g=>g(d,{node:m,format:r,parents:s}))}};R([o.withSimilar,o.withoutSimilar],a),R(o.withVars,a)})},KV=(e,t,n,s,o,r)=>{const a=t.get();R(n.split(","),l=>{const u=Nt(a,l).getOrThunk(()=>{const m={withSimilar:{state:en(!1),similar:!0,callbacks:[]},withoutSimilar:{state:en(!1),similar:!1,callbacks:[]},withVars:[]};return a[l]=m,m}),d=()=>{const m=Q0(e);return J0(e,m,l,o,r).isSome()};if(Ee(r)){const m=o?u.withSimilar:u.withoutSimilar;m.callbacks.push(s),m.callbacks.length===1&&m.state.set(d())}else u.withVars.push({state:en(d()),similar:o,vars:r,callback:s})}),t.set(a)},qV=(e,t,n)=>{const s=e.get();R(t.split(","),o=>Nt(s,o).each(r=>{s[o]={withSimilar:yt(Oe({},r.withSimilar),{callbacks:J(r.withSimilar.callbacks,a=>a!==n)}),withoutSimilar:yt(Oe({},r.withoutSimilar),{callbacks:J(r.withoutSimilar.callbacks,a=>a!==n)}),withVars:J(r.withVars,a=>a.callback!==n)}})),e.set(s)},GV=(e,t,n,s,o,r)=>(KV(e,t,n,s,o,r),{unbind:()=>qV(t,n,s)}),YV=(e,t,n,s)=>{const o=e.formatter.get(t);o&&(wg(e,t,n,s)&&(!("toggle"in o[0])||o[0].toggle)?K0(e,t,n,s):Y0(e,t,n,s))},tS=ie.explode,nS=()=>{const e={};return{addFilter:(o,r)=>{R(tS(o),a=>{je(e,a)||(e[a]={name:a,callbacks:[]}),e[a].callbacks.push(r)})},getFilters:()=>qd(e),removeFilter:(o,r)=>{R(tS(o),a=>{if(je(e,a))if(q(r)){const l=e[a],u=J(l.callbacks,d=>d!==r);u.length>0?l.callbacks=u:delete e[a]}else delete e[a]})}}},XV=(e,t)=>{R(t,n=>{e.attr(n,null)})},ZV=(e,t,n)=>{e.addNodeFilter("font",s=>{R(s,o=>{const r=t.parse(o.attr("style")),a=o.attr("color"),l=o.attr("face"),u=o.attr("size");a&&(r.color=a),l&&(r["font-family"]=l),u&&Hl(u).each(d=>{r["font-size"]=n[d-1]}),o.name="span",o.attr("style",t.serialize(r)),XV(o,["color","face","size"])})})},JV=(e,t,n)=>{e.addNodeFilter("strike",s=>{const o=t.type!=="html4";R(s,r=>{if(o)r.name="s";else{const a=n.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",n.serialize(a))}})})},QV=(e,t,n)=>{var s;const o=$p();t.convert_fonts_to_spans&&ZV(e,o,ie.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),JV(e,n,o)},ej=(e,t,n)=>{t.inline_styles&&QV(e,t,n)},sS=(e,t,n)=>{t.addNodeFilter("br",(s,o,r)=>{const a=ie.extend({},n.getBlockElements()),l=n.getNonEmptyElements(),u=n.getWhitespaceElements();a.body=1;const d=m=>m.name in a||Ap(n,m);for(let m=0,g=s.length;m<g;m++){let y=s[m],w=y.parent;if(w&&d(w)&&y===w.lastChild){let _=y.prev;for(;_;){const E=_.name;if(E!=="span"||_.attr("data-mce-type")!=="bookmark"){E==="br"&&(y=null);break}_=_.prev}if(y&&(y.remove(),Oc(n,l,u,w))){const E=n.getElementRule(w.name);E&&(E.removeEmpty?w.remove():E.paddEmpty&&fg(e,r,d,w))}}else{let _=y;for(;w&&w.firstChild===_&&w.lastChild===_&&(_=w,!a[w.name]);)w=w.parent;if(_===w){const E=new _n("#text",3);E.value=Qt,y.replace(E)}}}})},tj=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),nj=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Pg=e=>{const[t,...n]=e.split(","),s=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const r=o[2]===";base64",a=r?nj(s):decodeURIComponent(s);return v.some({type:o[1],data:a,base64Encoded:r})}else return v.none()},oS=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch(r){return v.none()}const o=new Uint8Array(s.length);for(let r=0;r<o.length;r++)o[r]=s.charCodeAt(r);return v.some(new Blob([o],{type:e}))},sj=e=>new Promise((t,n)=>{Pg(e).bind(({type:s,data:o,base64Encoded:r})=>oS(s,o,r)).fold(()=>n("Invalid data URI"),t)}),oj=e=>on(e,"blob:")?tj(e):on(e,"data:")?sj(e):Promise.reject("Unknown URI format"),rS=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var o;n((o=s.error)===null||o===void 0?void 0:o.message)},s.readAsDataURL(e)});let rj=0;const ij=e=>(e||"blobid")+rj++,iS=(e,t,n)=>Pg(e).bind(({data:s,type:o,base64Encoded:r})=>{if(t&&!r)return v.none();{const a=r?s:btoa(s);return n(a,o)}}),aS=(e,t,n)=>{const s=e.create(ij(),t,n);return e.add(s),s},cS=(e,t,n=!1)=>iS(t,n,(s,o)=>v.from(e.getByData(s,o)).orThunk(()=>oS(o,s).map(r=>aS(e,r,s)))),aj=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(on(t,"blob:")){const s=e.getByUri(t);return q(s)?Promise.resolve(s):oj(t).then(o=>rS(o).then(r=>iS(r,!1,a=>v.some(aS(e,o,a))).getOrThunk(n)))}else return on(t,"data:")?cS(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},cj=e=>q(e.attr("data-mce-bogus")),lj=e=>e.attr("src")===at.transparentSrc||q(e.attr("data-mce-placeholder")),uj=(e,t)=>{const{blob_cache:n}=t;if(n){const s=o=>{const r=o.attr("src");lj(o)||cj(o)||be(r)||cS(n,r,!0).each(a=>{o.attr("src",a.blobUri())})};e.addAttributeFilter("src",o=>R(o,s))}},Og=(e,t)=>on(e,`${t}/`),fj=(e,t,n,s,o)=>{let r;Ee(e)?r="iframe":Og(e,"image")?r="img":Og(e,"video")?r="video":Og(e,"audio")?r="audio":r="iframe";const a=new _n(r,1);return a.attr(r==="audio"?{src:t}:{src:t,width:n,height:s}),(r==="audio"||r==="video")&&a.attr("controls",""),r==="iframe"&&o&&a.attr("sandbox",""),a},dj=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&sS(t,e,n),e.addAttributeFilter("href",o=>{let r=o.length;const a=u=>u.split(" ").filter(m=>m.length>0).concat(["noopener"]).sort().join(" "),l=u=>{const d=u?ie.trim(u):"";return/\b(noopener)\b/g.test(d)?d:a(d)};if(!t.allow_unsafe_link_target)for(;r--;){const u=o[r];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",l(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",o=>{let r=o.length,a,l,u,d;for(;r--;)if(d=o[r],d.name==="a"&&d.firstChild&&!d.attr("href"))for(u=d.parent,a=d.lastChild;a&&u;)l=a.prev,u.insert(a,d),a=l}),t.fix_list_elements&&e.addNodeFilter("ul,ol",o=>{let r=o.length,a,l;for(;r--;)if(a=o[r],l=a.parent,l&&(l.name==="ul"||l.name==="ol"))if(a.prev&&a.prev.name==="li")a.prev.append(a);else{const u=new _n("li",1);u.attr("style","list-style-type: none"),a.wrap(u)}});const s=n.getValidClasses();t.validate&&s&&e.addAttributeFilter("class",o=>{var r;let a=o.length;for(;a--;){const l=o[a],u=(r=l.attr("class"))!==null&&r!==void 0?r:"",d=ie.explode(u," ");let m="";for(let g=0;g<d.length;g++){const y=d[g];let w=!1,_=s["*"];_&&_[y]&&(w=!0),_=s[l.name],!w&&_&&_[y]&&(w=!0),w&&(m&&(m+=" "),m+=y)}m.length||(m=null),l.attr("class",m)}}),uj(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",o=>R(o,r=>{r.replace(fj(r.attr("type"),r.name==="object"?r.attr("data"):r.attr("src"),r.attr("width"),r.attr("height"),t.sandbox_iframes))})),t.sandbox_iframes&&e.addNodeFilter("iframe",o=>R(o,r=>r.attr("sandbox","")))},{entries:lS,setPrototypeOf:uS,isFrozen:pj,getPrototypeOf:mj,getOwnPropertyDescriptor:gj}=Object;let{freeze:Ln,seal:Os,create:hj}=Object,{apply:Dg,construct:Bg}=typeof Reflect!="undefined"&&Reflect;Dg||(Dg=function(t,n,s){return t.apply(n,s)}),Ln||(Ln=function(t){return t}),Os||(Os=function(t){return t}),Bg||(Bg=function(t,n){return new t(...n)});const bj=bs(Array.prototype.forEach),yj=bs(Array.prototype.pop),$c=bs(Array.prototype.push),Wu=bs(String.prototype.toLowerCase),Ig=bs(String.prototype.toString),vj=bs(String.prototype.match),Ds=bs(String.prototype.replace),Cj=bs(String.prototype.indexOf),Ej=bs(String.prototype.trim),rs=bs(RegExp.prototype.test),Fc=wj(TypeError);function bs(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return Dg(e,t,s)}}function wj(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Bg(e,n)}}function dt(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:Wu,uS&&uS(e,null);let o=t.length;for(;o--;){let r=t[o];if(typeof r=="string"){const a=n(r);a!==r&&(pj(t)||(t[o]=a),r=a)}e[r]=!0}return e}function ta(e){const t=hj(null);for(const[n,s]of lS(e))t[n]=s;return t}function Ku(e,t){for(;e!==null;){const s=gj(e,t);if(s){if(s.get)return bs(s.get);if(typeof s.value=="function")return bs(s.value)}e=mj(e)}function n(s){return null}return n}const fS=Ln(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$g=Ln(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fg=Ln(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_j=Ln(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lg=Ln(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Sj=Ln(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dS=Ln(["#text"]),pS=Ln(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Mg=Ln(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mS=Ln(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qu=Ln(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xj=Os(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kj=Os(/<%[\w\W]*|[\w\W]*%>/gm),Nj=Os(/\${[\w\W]*}/gm),Tj=Os(/^data-[\-\w.\u00B7-\uFFFF]/),Aj=Os(/^aria-[\-\w]+$/),gS=Os(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rj=Os(/^(?:\w+script|data):/i),Pj=Os(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hS=Os(/^html$/i);var bS=Object.freeze({__proto__:null,MUSTACHE_EXPR:xj,ERB_EXPR:kj,TMPLIT_EXPR:Nj,DATA_ATTR:Tj,ARIA_ATTR:Aj,IS_ALLOWED_URI:gS,IS_SCRIPT_OR_DATA:Rj,ATTR_WHITESPACE:Pj,DOCTYPE_NAME:hS});const Oj=()=>typeof window=="undefined"?null:window,Dj=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(s=n.getAttribute(o));const r="dompurify"+(s?"#"+s:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch(a){return null}};function yS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oj();const t=Xe=>yS(Xe);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:o}=e;const{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:d,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:w}=e,_=u.prototype,E=Ku(_,"cloneNode"),S=Ku(_,"nextSibling"),T=Ku(_,"childNodes"),O=Ku(_,"parentNode");if(typeof a=="function"){const Xe=o.createElement("template");Xe.content&&Xe.content.ownerDocument&&(o=Xe.content.ownerDocument)}let P,F="";const{implementation:X,createNodeIterator:se,createDocumentFragment:fe,getElementsByTagName:j}=o,{importNode:U}=n;let Y={};t.isSupported=typeof lS=="function"&&typeof O=="function"&&X&&X.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:he,ERB_EXPR:Ae,TMPLIT_EXPR:We,DATA_ATTR:Ye,ARIA_ATTR:ct,IS_SCRIPT_OR_DATA:ht,ATTR_WHITESPACE:Dt}=bS;let{IS_ALLOWED_URI:nn}=bS,lt=null;const ae=dt({},[...fS,...$g,...Fg,...Lg,...dS]);let xe=null;const st=dt({},[...pS,...Mg,...mS,...qu]);let Ze=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Fe=null,oe=!0,Le=!0,Qe=!1,gt=!0,pt=!1,qt=!1,vs=!1,so=!1,xn=!1,cs=!1,Ue=!1,ot=!0,bt=!1;const It="user-content-";let kt=!0,Pn=!1,$s={},nr=null;const Wf=dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Kf=null;const qf=dt({},["audio","video","img","source","image","track"]);let ga=null;const Gf=dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ha="http://www.w3.org/1998/Math/MathML",ri="http://www.w3.org/2000/svg",Fs="http://www.w3.org/1999/xhtml";let oo=Fs,ol=!1,ba=null;const Yf=dt({},[ha,ri,Fs],Ig);let ko;const bb=["application/xhtml+xml","text/html"],Xf="text/html";let pn,ii=null;const BA=o.createElement("form"),yb=function(H){return H instanceof RegExp||H instanceof Function},Zf=function(H){if(!(ii&&ii===H)){if((!H||typeof H!="object")&&(H={}),H=ta(H),ko=bb.indexOf(H.PARSER_MEDIA_TYPE)===-1?ko=Xf:ko=H.PARSER_MEDIA_TYPE,pn=ko==="application/xhtml+xml"?Ig:Wu,lt="ALLOWED_TAGS"in H?dt({},H.ALLOWED_TAGS,pn):ae,xe="ALLOWED_ATTR"in H?dt({},H.ALLOWED_ATTR,pn):st,ba="ALLOWED_NAMESPACES"in H?dt({},H.ALLOWED_NAMESPACES,Ig):Yf,ga="ADD_URI_SAFE_ATTR"in H?dt(ta(Gf),H.ADD_URI_SAFE_ATTR,pn):Gf,Kf="ADD_DATA_URI_TAGS"in H?dt(ta(qf),H.ADD_DATA_URI_TAGS,pn):qf,nr="FORBID_CONTENTS"in H?dt({},H.FORBID_CONTENTS,pn):Wf,Ce="FORBID_TAGS"in H?dt({},H.FORBID_TAGS,pn):{},Fe="FORBID_ATTR"in H?dt({},H.FORBID_ATTR,pn):{},$s="USE_PROFILES"in H?H.USE_PROFILES:!1,oe=H.ALLOW_ARIA_ATTR!==!1,Le=H.ALLOW_DATA_ATTR!==!1,Qe=H.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pt=H.SAFE_FOR_TEMPLATES||!1,qt=H.WHOLE_DOCUMENT||!1,xn=H.RETURN_DOM||!1,cs=H.RETURN_DOM_FRAGMENT||!1,Ue=H.RETURN_TRUSTED_TYPE||!1,so=H.FORCE_BODY||!1,ot=H.SANITIZE_DOM!==!1,bt=H.SANITIZE_NAMED_PROPS||!1,kt=H.KEEP_CONTENT!==!1,Pn=H.IN_PLACE||!1,nn=H.ALLOWED_URI_REGEXP||gS,oo=H.NAMESPACE||Fs,Ze=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&yb(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ze.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&yb(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ze.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ze.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pt&&(Le=!1),cs&&(xn=!0),$s&&(lt=dt({},[...dS]),xe=[],$s.html===!0&&(dt(lt,fS),dt(xe,pS)),$s.svg===!0&&(dt(lt,$g),dt(xe,Mg),dt(xe,qu)),$s.svgFilters===!0&&(dt(lt,Fg),dt(xe,Mg),dt(xe,qu)),$s.mathMl===!0&&(dt(lt,Lg),dt(xe,mS),dt(xe,qu))),H.ADD_TAGS&&(lt===ae&&(lt=ta(lt)),dt(lt,H.ADD_TAGS,pn)),H.ADD_ATTR&&(xe===st&&(xe=ta(xe)),dt(xe,H.ADD_ATTR,pn)),H.ADD_URI_SAFE_ATTR&&dt(ga,H.ADD_URI_SAFE_ATTR,pn),H.FORBID_CONTENTS&&(nr===Wf&&(nr=ta(nr)),dt(nr,H.FORBID_CONTENTS,pn)),kt&&(lt["#text"]=!0),qt&&dt(lt,["html","head","body"]),lt.table&&(dt(lt,["tbody"]),delete Ce.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw Fc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Fc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=H.TRUSTED_TYPES_POLICY,F=P.createHTML("")}else P===void 0&&(P=Dj(w,s)),P!==null&&typeof F=="string"&&(F=P.createHTML(""));Ln&&Ln(H),ii=H}},No=dt({},["mi","mo","mn","ms","mtext"]),rl=dt({},["foreignobject","desc","title","annotation-xml"]),L=dt({},["title","style","font","a","script"]),M=dt({},$g);dt(M,Fg),dt(M,_j);const re=dt({},Lg);dt(re,Sj);const te=function(H){let _e=O(H);(!_e||!_e.tagName)&&(_e={namespaceURI:oo,tagName:"template"});const $e=Wu(H.tagName),Ft=Wu(_e.tagName);return ba[H.namespaceURI]?H.namespaceURI===ri?_e.namespaceURI===Fs?$e==="svg":_e.namespaceURI===ha?$e==="svg"&&(Ft==="annotation-xml"||No[Ft]):!!M[$e]:H.namespaceURI===ha?_e.namespaceURI===Fs?$e==="math":_e.namespaceURI===ri?$e==="math"&&rl[Ft]:!!re[$e]:H.namespaceURI===Fs?_e.namespaceURI===ri&&!rl[Ft]||_e.namespaceURI===ha&&!No[Ft]?!1:!re[$e]&&(L[$e]||!M[$e]):!!(ko==="application/xhtml+xml"&&ba[H.namespaceURI]):!1},Ne=function(H){$c(t.removed,{element:H});try{H.parentNode.removeChild(H)}catch(_e){H.remove()}},Je=function(H,_e){try{$c(t.removed,{attribute:_e.getAttributeNode(H),from:_e})}catch($e){$c(t.removed,{attribute:null,from:_e})}if(_e.removeAttribute(H),H==="is"&&!xe[H])if(xn||cs)try{Ne(_e)}catch($e){}else try{_e.setAttribute(H,"")}catch($e){}},Rt=function(H){let _e,$e;if(so)H="<remove></remove>"+H;else{const Es=vj(H,/^[\r\n\t ]+/);$e=Es&&Es[0]}ko==="application/xhtml+xml"&&oo===Fs&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const Ft=P?P.createHTML(H):H;if(oo===Fs)try{_e=new y().parseFromString(Ft,ko)}catch(Es){}if(!_e||!_e.documentElement){_e=X.createDocument(oo,"template",null);try{_e.documentElement.innerHTML=ol?F:Ft}catch(Es){}}const vn=_e.body||_e.documentElement;return H&&$e&&vn.insertBefore(o.createTextNode($e),vn.childNodes[0]||null),oo===Fs?j.call(_e,qt?"html":"body")[0]:qt?_e.documentElement:vn},Mn=function(H){return se.call(H.ownerDocument||H,H,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},un=function(H){return H instanceof g&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof m)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},ai=function(H){return typeof l=="object"?H instanceof l:H&&typeof H=="object"&&typeof H.nodeType=="number"&&typeof H.nodeName=="string"},Cs=function(H,_e,$e){Y[H]&&bj(Y[H],Ft=>{Ft.call(t,_e,$e,ii)})},IA=function(H){let _e;if(Cs("beforeSanitizeElements",H,null),un(H))return Ne(H),!0;const $e=pn(H.nodeName);if(Cs("uponSanitizeElement",H,{tagName:$e,allowedTags:lt}),H.hasChildNodes()&&!ai(H.firstElementChild)&&(!ai(H.content)||!ai(H.content.firstElementChild))&&rs(/<[/\w]/g,H.innerHTML)&&rs(/<[/\w]/g,H.textContent))return Ne(H),!0;if(!lt[$e]||Ce[$e]){if(!Ce[$e]&&FA($e)&&(Ze.tagNameCheck instanceof RegExp&&rs(Ze.tagNameCheck,$e)||Ze.tagNameCheck instanceof Function&&Ze.tagNameCheck($e)))return!1;if(kt&&!nr[$e]){const Ft=O(H)||H.parentNode,vn=T(H)||H.childNodes;if(vn&&Ft){const Es=vn.length;for(let Gt=Es-1;Gt>=0;--Gt)Ft.insertBefore(E(vn[Gt],!0),S(H))}}return Ne(H),!0}return H instanceof u&&!te(H)||($e==="noscript"||$e==="noembed"||$e==="noframes")&&rs(/<\/no(script|embed|frames)/i,H.innerHTML)?(Ne(H),!0):(pt&&H.nodeType===3&&(_e=H.textContent,_e=Ds(_e,he," "),_e=Ds(_e,Ae," "),_e=Ds(_e,We," "),H.textContent!==_e&&($c(t.removed,{element:H.cloneNode()}),H.textContent=_e)),Cs("afterSanitizeElements",H,null),!1)},$A=function(H,_e,$e){if(ot&&(_e==="id"||_e==="name")&&($e in o||$e in BA))return!1;if(!(Le&&!Fe[_e]&&rs(Ye,_e))){if(!(oe&&rs(ct,_e))){if(!xe[_e]||Fe[_e]){if(!(FA(H)&&(Ze.tagNameCheck instanceof RegExp&&rs(Ze.tagNameCheck,H)||Ze.tagNameCheck instanceof Function&&Ze.tagNameCheck(H))&&(Ze.attributeNameCheck instanceof RegExp&&rs(Ze.attributeNameCheck,_e)||Ze.attributeNameCheck instanceof Function&&Ze.attributeNameCheck(_e))||_e==="is"&&Ze.allowCustomizedBuiltInElements&&(Ze.tagNameCheck instanceof RegExp&&rs(Ze.tagNameCheck,$e)||Ze.tagNameCheck instanceof Function&&Ze.tagNameCheck($e))))return!1}else if(!ga[_e]){if(!rs(nn,Ds($e,Dt,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&H!=="script"&&Cj($e,"data:")===0&&Kf[H])){if(!(Qe&&!rs(ht,Ds($e,Dt,"")))){if($e)return!1}}}}}}return!0},FA=function(H){return H.indexOf("-")>0},LA=function(H){let _e,$e,Ft,vn;Cs("beforeSanitizeAttributes",H,null);const{attributes:Es}=H;if(!Es)return;const Gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(vn=Es.length;vn--;){_e=Es[vn];const{name:ws,namespaceURI:vb}=_e;$e=ws==="value"?_e.value:Ej(_e.value);const LZ=$e;if(Ft=pn(ws),Gt.attrName=Ft,Gt.attrValue=$e,Gt.keepAttr=!0,Gt.forceKeepAttr=void 0,Cs("uponSanitizeAttribute",H,Gt),$e=Gt.attrValue,Gt.forceKeepAttr)continue;if(!Gt.keepAttr){Je(ws,H);continue}if(!gt&&rs(/\/>/i,$e)){Je(ws,H);continue}pt&&($e=Ds($e,he," "),$e=Ds($e,Ae," "),$e=Ds($e,We," "));const MA=pn(H.nodeName);if(!$A(MA,Ft,$e)){Je(ws,H);continue}if(bt&&(Ft==="id"||Ft==="name")&&(Je(ws,H),$e=It+$e),P&&typeof w=="object"&&typeof w.getAttributeType=="function"&&!vb)switch(w.getAttributeType(MA,Ft)){case"TrustedHTML":{$e=P.createHTML($e);break}case"TrustedScriptURL":{$e=P.createScriptURL($e);break}}if($e!==LZ)try{vb?H.setAttributeNS(vb,ws,$e):H.setAttribute(ws,$e)}catch(Cne){Je(ws,H)}}Cs("afterSanitizeAttributes",H,null)},FZ=function Xe(H){let _e;const $e=Mn(H);for(Cs("beforeSanitizeShadowDOM",H,null);_e=$e.nextNode();)Cs("uponSanitizeShadowNode",_e,null),!IA(_e)&&(_e.content instanceof r&&Xe(_e.content),LA(_e));Cs("afterSanitizeShadowDOM",H,null)};return t.sanitize=function(Xe){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e,$e,Ft,vn;if(ol=!Xe,ol&&(Xe="<!-->"),typeof Xe!="string"&&!ai(Xe))if(typeof Xe.toString=="function"){if(Xe=Xe.toString(),typeof Xe!="string")throw Fc("dirty is not a string, aborting")}else throw Fc("toString is not a function");if(!t.isSupported)return Xe;if(vs||Zf(H),t.removed=[],typeof Xe=="string"&&(Pn=!1),Pn){if(Xe.nodeName){const ws=pn(Xe.nodeName);if(!lt[ws]||Ce[ws])throw Fc("root node is forbidden and cannot be sanitized in-place")}}else if(Xe instanceof l)_e=Rt("<!---->"),$e=_e.ownerDocument.importNode(Xe,!0),$e.nodeType===1&&$e.nodeName==="BODY"||$e.nodeName==="HTML"?_e=$e:_e.appendChild($e);else{if(!xn&&!pt&&!qt&&Xe.indexOf("<")===-1)return P&&Ue?P.createHTML(Xe):Xe;if(_e=Rt(Xe),!_e)return xn?null:Ue?F:""}_e&&so&&Ne(_e.firstChild);const Es=Mn(Pn?Xe:_e);for(;Ft=Es.nextNode();)IA(Ft)||(Ft.content instanceof r&&FZ(Ft.content),LA(Ft));if(Pn)return Xe;if(xn){if(cs)for(vn=fe.call(_e.ownerDocument);_e.firstChild;)vn.appendChild(_e.firstChild);else vn=_e;return(xe.shadowroot||xe.shadowrootmode)&&(vn=U.call(n,vn,!0)),vn}let Gt=qt?_e.outerHTML:_e.innerHTML;return qt&&lt["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&rs(hS,_e.ownerDocument.doctype.name)&&(Gt="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+Gt),pt&&(Gt=Ds(Gt,he," "),Gt=Ds(Gt,Ae," "),Gt=Ds(Gt,We," ")),P&&Ue?P.createHTML(Gt):Gt},t.setConfig=function(Xe){Zf(Xe),vs=!0},t.clearConfig=function(){ii=null,vs=!1},t.isValidAttribute=function(Xe,H,_e){ii||Zf({});const $e=pn(Xe),Ft=pn(H);return $A($e,Ft,_e)},t.addHook=function(Xe,H){typeof H=="function"&&(Y[Xe]=Y[Xe]||[],$c(Y[Xe],H))},t.removeHook=function(Xe){if(Y[Xe])return yj(Y[Xe])},t.removeHooks=function(Xe){Y[Xe]&&(Y[Xe]=[])},t.removeAllHooks=function(){Y={}},t}var vS=yS();const CS=ie.each,Bj=ie.trim,Ij=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],$j={ftp:21,http:80,https:443,mailto:25},Fj=["img","video"],Lj=(e,t)=>q(e)?!e:q(t)?!I(Fj,t):!0,Mj=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}},ES=(e,t,n)=>{const s=Mj(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?Lj(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class ys{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(s[0]);return o&&(n=o[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const o=zo.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!ES(s,o,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=Bj(t),this.settings=n;const s=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){o.source=t;return}const r=t.indexOf("//")===0;if(t.indexOf("/")===0&&!r&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const l=s?s.path:new ys(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+o.toAbsPath(l,t);else{const u=/([^#?]*)([#?]?.*)/.exec(t);u&&(t=(s&&s.protocol||"http")+"://mce_host"+o.toAbsPath(l,u[1])+u[2])}}t=t.replace(/@@/g,"(mce_at)");const a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);a&&CS(Ij,(l,u)=>{let d=a[u];d&&(d=d.replace(/\(mce_at\)/g,"@@")),o[l]=d}),s&&(o.protocol||(o.protocol=s.protocol),o.userInfo||(o.userInfo=s.userInfo),!o.port&&o.host==="mce_host"&&(o.port=s.port),(!o.host||o.host==="mce_host")&&(o.host=s.host),o.source=""),r&&(o.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new ys(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),o=n.getURI();if(s===o||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===o)return s;let r=this.toRelPath(this.path,n.path);return n.query&&(r+="?"+n.query),n.anchor&&(r+="#"+n.anchor),r}toAbsolute(t,n){const s=new ys(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?$j[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,o="",r,a;const l=t.substring(0,t.lastIndexOf("/")).split("/"),u=n.split("/");if(l.length>=u.length){for(r=0,a=l.length;r<a;r++)if(r>=u.length||l[r]!==u[r]){s=r+1;break}}if(l.length<u.length){for(r=0,a=u.length;r<a;r++)if(r>=l.length||l[r]!==u[r]){s=r+1;break}}if(s===1)return n;for(r=0,a=l.length-(s-1);r<a;r++)o+="../";for(r=s-1,a=u.length;r<a;r++)r!==s-1?o+="/"+u[r]:o+=u[r];return o}toAbsPath(t,n){let s=0;const o=/\/$/.test(n)?"/":"",r=t.split("/"),a=n.split("/"),l=[];CS(r,g=>{g&&l.push(g)});const u=[];for(let g=a.length-1;g>=0;g--)if(!(a[g].length===0||a[g]===".")){if(a[g]===".."){s++;continue}if(s>0){s--;continue}u.push(a[g])}const d=l.length-s;let m;return d<=0?m=wt(u).join("/"):m=l.slice(0,d).join("/")+"/"+wt(u).join("/"),m.indexOf("/")!==0&&(m="/"+m),o&&m.lastIndexOf("/")!==m.length-1&&(m+=o),m}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const Uj=ie.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ug="data-mce-type";let wS=0;const _S=(e,t,n,s,o)=>{var r,a,l,u;const d=t.validate,m=n.getSpecialElements();e.nodeType===lv&&!t.allow_conditional_comments&&/^\[if/i.test((r=e.nodeValue)!==null&&r!==void 0?r:"")&&(e.nodeValue=" "+e.nodeValue);const g=(a=o==null?void 0:o.tagName)!==null&&a!==void 0?a:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){q(o)&&(o.allowedTags[g]=!0);return}if(e.nodeType!==Fa||g==="body")return;const y=k.fromDom(e),w=La(y,Ug),_=Vn(y,"data-mce-bogus");if(!w&&A(_)){_==="all"?Tt(y):yo(y);return}const E=n.getElementRule(g);if(d&&!E){je(m,g)?Tt(y):yo(y);return}else q(o)&&(o.allowedTags[g]=!0);if(d&&E&&!w){if(R((l=E.attributesForced)!==null&&l!==void 0?l:[],S=>{rn(y,S.name,S.value==="{$uid}"?`mce_${wS++}`:S.value)}),R((u=E.attributesDefault)!==null&&u!==void 0?u:[],S=>{La(y,S.name)||rn(y,S.name,S.value==="{$uid}"?`mce_${wS++}`:S.value)}),E.attributesRequired&&!Z(E.attributesRequired,S=>La(y,S))){yo(y);return}if(E.removeEmptyAttrs&&lD(y)){yo(y);return}E.outputName&&E.outputName!==g&&JB(y,E.outputName)}},Hj=(e,t,n,s,o)=>{const r=e.tagName.toLowerCase(),{attrName:a,attrValue:l}=o;o.keepAttr=SS(t,n,s,r,a,l),o.keepAttr?(o.allowedAttributes[a]=!0,kS(a,n)&&(o.attrValue=a),t.allow_svg_data_urls&&on(l,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):xS(e,a)&&(o.forceKeepAttr=!0)},SS=(e,t,n,s,o,r)=>n!=="html"&&!Or(s)?!0:!(o in Uj&&ES(e,r,s))&&(!e.validate||t.isValid(s,o)||on(o,"data-")||on(o,"aria-")),xS=(e,t)=>e.hasAttribute(Ug)&&(t==="id"||t==="class"||t==="style"),kS=(e,t)=>e in t.getBoolAttrs(),zj=(e,t,n,s)=>{const{attributes:o}=e;for(let r=o.length-1;r>=0;r--){const a=o[r],l=a.name,u=a.value;!SS(t,n,s,e.tagName.toLowerCase(),l,u)&&!xS(e,l)?e.removeAttribute(l):kS(l,n)&&e.setAttribute(l,l)}},Vj=(e,t,n)=>{const s=vS();return s.addHook("uponSanitizeElement",(o,r)=>{_S(o,e,t,n.track(o),r)}),s.addHook("uponSanitizeAttribute",(o,r)=>{Hj(o,e,t,n.current(),r)}),s},jj=(e,t)=>{const s=Oe({},{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]});return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},Wj=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};return vS().sanitize(e,n),e.innerHTML},Kj=(e,t)=>{const n=z1();if(e.sanitize){const s=Vj(e,t,n);return{sanitizeHtmlElement:(r,a)=>{s.sanitize(r,jj(e,a)),s.removed=[],n.reset()},sanitizeNamespaceElement:Wj}}else return{sanitizeHtmlElement:(r,a)=>{const l=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let u;for(;u=l.nextNode();){const d=n.track(u);_S(u,e,t,d),Se(u)&&zj(u,e,t,d)}n.reset()},sanitizeNamespaceElement:Be}},NS=ie.makeMap,TS=ie.extend,AS=(e,t,n,s)=>{const o=e.name,r=o in n&&o!=="title"&&o!=="textarea",a=t.childNodes;for(let l=0,u=a.length;l<u;l++){const d=a[l],m=new _n(d.nodeName.toLowerCase(),d.nodeType);if(Se(d)){const g=d.attributes;for(let y=0,w=g.length;y<w;y++){const _=g[y];m.attr(_.name,_.value)}Or(m.name)&&(s(d),m.value=d.innerHTML)}else ne(d)?(m.value=d.data,r&&(m.raw=!0)):(Lo(d)||XD(d)||ZD(d))&&(m.value=d.data);Or(m.name)||AS(m,d,n,s),e.append(m)}},qj=(e,t,n)=>{const s=[];for(let o=e,r=o;o;r=o,o=o.walk()){const a=o;R(t,l=>l(a)),be(a.parent)&&a!==e?o=r:s.push(a)}for(let o=s.length-1;o>=0;o--){const r=s[o];R(n,a=>a(r))}},Gj=(e,t,n,s)=>{const o=n.validate,r=t.getNonEmptyElements(),a=t.getWhitespaceElements(),l=TS(NS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),u=bC(t),d=/[ \t\r\n]+/g,m=/^[ \t\r\n]+/,g=/[ \t\r\n]+$/,y=O=>{let P=O.parent;for(;q(P);){if(P.name in a)return!0;P=P.parent}return!1},w=O=>{let P=O;for(;q(P);){if(P.name in u)return Oc(t,r,a,P);P=P.parent}return!1},_=O=>O.name in l||Ap(t,O)||Or(O.name)&&O.parent===e,E=(O,P)=>{const F=P?O.prev:O.next;return q(F)||be(O.parent)?!1:_(O.parent)&&(O.parent!==e||s.isRootContent===!0)};return[O=>{var P;if(O.type===3&&!y(O)){let F=(P=O.value)!==null&&P!==void 0?P:"";F=F.replace(d," "),(yz(O.prev,_)||E(O,!0))&&(F=F.replace(m,"")),F.length===0?O.remove():O.value=F}},O=>{var P;if(O.type===1){const F=t.getElementRule(O.name);if(o&&F){const X=Oc(t,r,a,O);F.paddInEmptyBlock&&X&&w(O)?fg(n,s,_,O):F.removeEmpty&&X?_(O)?O.remove():O.unwrap():F.paddEmpty&&(X||hz(O))&&fg(n,s,_,O)}}else if(O.type===3&&!y(O)){let F=(P=O.value)!==null&&P!==void 0?P:"";(O.next&&_(O.next)||E(O,!1))&&(F=F.replace(g,"")),F.length===0?O.remove():O.value=F}}]},Yj=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},na=(e={},t=Vo())=>{const n=nS(),s=nS(),o=Oe({validate:!0,root_name:"body",sanitize:!0},e),r=new DOMParser,a=Kj(o,t),l=(P,F,X="html")=>{const se=X==="xhtml"?"application/xhtml+xml":"text/html",fe=je(t.getSpecialElements(),F.toLowerCase()),j=fe?`<${F}>${P}</${F}>`:P,U=X==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${j}</body></html>`:`<body>${j}</body>`,Y=r.parseFromString(U,se).body;return a.sanitizeHtmlElement(Y,se),fe?Y.firstChild:Y},u=n.addFilter,d=n.getFilters,m=n.removeFilter,g=s.addFilter,y=s.getFilters,w=s.removeFilter,_=(P,F)=>{mg(t,P)&&F.push(P)},E=(P,F)=>{const X=A(F.attr(Ug)),se=F.type===1&&!je(P,F.name)&&!Ap(t,F)&&!Or(F.name);return F.type===3||se&&!X},S=(P,F)=>{const X=TS(NS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),se=/^[ \t\r\n]+/,fe=/[ \t\r\n]+$/;let j=P.firstChild,U=null;const Y=he=>{var Ae,We;he&&(j=he.firstChild,j&&j.type===3&&(j.value=(Ae=j.value)===null||Ae===void 0?void 0:Ae.replace(se,"")),j=he.lastChild,j&&j.type===3&&(j.value=(We=j.value)===null||We===void 0?void 0:We.replace(fe,"")))};if(t.isValidChild(P.name,F.toLowerCase())){for(;j;){const he=j.next;E(X,j)?(U||(U=new _n(F,1),U.attr(o.forced_root_block_attrs),P.insert(U,j)),U.append(j)):(Y(U),U=null),j=he}Y(U)}},O={schema:t,addAttributeFilter:g,getAttributeFilters:y,removeAttributeFilter:w,addNodeFilter:u,getNodeFilters:d,removeNodeFilter:m,parse:(P,F={})=>{var X;const se=o.validate,fe=(X=F.context)!==null&&X!==void 0?X:o.root_name,j=l(P,fe,F.format);xp(t,j);const U=new _n(fe,11);AS(U,j,t.getSpecialElements(),a.sanitizeNamespaceElement),j.innerHTML="";const[Y,he]=Gj(U,t,o,F),Ae=[],We=se?Dt=>_(Dt,Ae):Be,Ye={nodes:{},attributes:{}},ct=Dt=>f0(d(),y(),Dt,Ye);if(qj(U,[Y,ct],[he,We]),Ae.reverse(),se&&Ae.length>0)if(F.context){const{pass:Dt,fail:nn}=Ie(Ae,lt=>lt.parent===U);pg(nn,t,U,ct),F.invalid=Dt.length>0}else pg(Ae,t,U,ct);const ht=Yj(o,F);return ht&&(U.name==="body"||F.isRootContent)&&S(U,ht),F.invalid||d0(Ye,F),U}};return dj(O,o),ej(O,o,t),O},Xj=e=>Hu(e)?Yo({validate:!1}).serialize(e):e,RS=(e,t,n)=>{const s=Xj(e),o=t(s);if(o.isDefaultPrevented())return o;if(Hu(e))if(o.content!==s){const r=na(Oe({validate:!1,forced_root_block:!1},n)).parse(o.content,{context:e.name});return yt(Oe({},o),{content:r})}else return yt(Oe({},o),{content:e});else return o},PS=(e,t)=>{if(t.no_events)return Tn.value(t);{const n=PL(e,t);return n.isDefaultPrevented()?Tn.error(xw(e,Oe({content:""},n)).content):Tn.value(n)}},OS=(e,t,n)=>n.no_events?t:RS(t,o=>xw(e,yt(Oe({},n),{content:o})),{sanitize:nm(e),sandbox_iframes:sm(e)}).content,Hg=(e,t)=>{if(t.no_events)return Tn.value(t);{const n=RS(t.content,s=>RL(e,yt(Oe({},t),{content:s})),{sanitize:nm(e),sandbox_iframes:sm(e)});return n.isDefaultPrevented()?(Sw(e,n),Tn.error(void 0)):Tn.value(n)}},zg=(e,t,n)=>{n.no_events||Sw(e,yt(Oe({},n),{content:t}))},Vg=(e,t,n)=>({element:e,width:t,rows:n}),DS=(e,t)=>({element:e,cells:t}),Zj=(e,t)=>({x:e,y:t}),BS=(e,t)=>po(e,t).bind(Hl).getOr(1),Jj=(e,t,n,s,o)=>{const r=BS(o,"rowspan"),a=BS(o,"colspan"),l=e.rows;for(let u=n;u<n+r;u++){l[u]||(l[u]=DS(BC(s),[]));for(let d=t;d<t+a;d++){const m=l[u].cells;m[d]=u===n&&d===t?o:Fr(o)}}},Qj=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},e2=(e,t,n)=>{for(;Qj(e,t,n);)t++;return t},IS=e=>le(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),$S=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const o=n[s].cells;for(let r=0;r<o.length;r++)if(ft(o[r],t))return v.some(Zj(r,s))}return v.none()},FS=(e,t,n,s,o)=>{const r=[],a=e.rows;for(let l=n;l<=o;l++){const u=a[l].cells,d=t<s?u.slice(t,s+1):u.slice(s,t+1);r.push(DS(a[l].element,d))}return r},t2=(e,t,n)=>{const s=t.x,o=t.y,r=n.x,a=n.y,l=o<a?FS(e,s,o,r,a):FS(e,s,a,r,o);return Vg(e.element,IS(l),l)},n2=(e,t)=>{const n=Fr(e.element),s=k.fromTag("tbody");return Tr(s,t),Kt(n,s),n},s2=e=>Q(e.rows,t=>{const n=Q(t.cells,o=>{const r=BC(o);return an(r,"colspan"),an(r,"rowspan"),r}),s=Fr(t.element);return Tr(s,n),s}),o2=e=>{const t=Vg(Fr(e),0,[]);return R(hn(e,"tr"),(n,s)=>{R(hn(n,"td,th"),(o,r)=>{Jj(t,e2(t,r,s),s,n,o)})}),Vg(t.element,IS(t.rows),t.rows)},r2=e=>n2(e,s2(e)),i2=(e,t,n)=>$S(e,t).bind(s=>$S(e,n).map(o=>t2(e,s,o))),a2=e=>Pe(e,t=>it(t)==="ul"||it(t)==="ol"),c2=(e,t)=>Pe(e,n=>it(n)==="li"&&gm(n,t)).fold(G([]),n=>a2(e).map(s=>{const o=k.fromTag(it(s)),r=Da(cp(s),(a,l)=>on(l,"list-style"));return Kl(o,r),[k.fromTag("li"),o]}).getOr([])),l2=(e,t)=>{const n=le(t,(s,o)=>(Kt(o,s),o),e);return t.length>0?Am([n]):n},u2=e=>Xa(e)?ps(e).filter(yp).fold(G([]),t=>[e,t]):yp(e)?[e]:[],f2=(e,t,n)=>{const s=k.fromDom(t.commonAncestorContainer),o=_o(s,e),r=J(o,u=>n.isWrapper(it(u))),a=c2(o,t),l=r.concat(a.length?a:u2(s));return Q(l,Fr)},LS=()=>Am([]),d2=(e,t,n)=>l2(k.fromDom(t.cloneContents()),f2(e,t,n)),p2=(e,t)=>ja(t,"table",ye(ft,e)),m2=(e,t)=>p2(e,t[0]).bind(n=>{const s=t[0],o=t[t.length-1],r=o2(n);return i2(r,s,o).map(a=>Am([r2(a)]))}).getOrThunk(LS),g2=(e,t,n)=>t.length>0&&t[0].collapsed?LS():d2(e,t[0],n),h2=(e,t,n)=>{const s=ew(t,e);return s.length>0?m2(e,s):g2(e,t,n)},Gu=(e,t)=>t>=0&&t<e.length&&Yi(e.charAt(t)),MS=e=>jn(e.innerText),b2=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),y2=e=>v.from(e.selection.getRng()).map(t=>{var n;const s=v.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),r=b2(s),a=k.fromDom(t.cloneContents());g_(a),h_(a);const l=e.dom.add(o,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom),u=MS(l),d=jn((n=l.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(l),Gu(d,0)||Gu(d,d.length-1)){const m=s.getOr(o),g=MS(m),y=g.indexOf(u);if(y===-1)return u;{const w=Gu(g,y-1),_=Gu(g,y+u.length);return(w?" ":"")+u+(_?" ":"")}}else return u}).getOr(""),v2=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),o=e.selection.getSel(),r=zm(e,pm(o)),a=t.contextual?h2(k.fromDom(e.getBody()),r,e.schema).dom:n.cloneContents();return a&&s.appendChild(a),e.selection.serializer.serialize(s,t)},C2=(e,t)=>{if(t.format==="text")return y2(e);{const n=v2(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},E2=(e,t)=>yt(Oe({},e),{format:t,get:!0,selection:!0,getInner:!0}),w2=(e,t,n={})=>{const s=E2(n,t);return PS(e,s).fold(Lt,o=>{const r=C2(e,o);return OS(e,r,o)})},jg=0,US=1,HS=2,_2=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),o=new Array(n),r=(m,g,y)=>({start:m,end:g,diag:y}),a=(m,g,y,w,_)=>{const E=u(m,g,y,w);if(E===null||E.start===g&&E.diag===g-w||E.end===m&&E.diag===m-y){let S=m,T=y;for(;S<g||T<w;)S<g&&T<w&&e[S]===t[T]?(_.push([jg,e[S]]),++S,++T):g-m>w-y?(_.push([HS,e[S]]),++S):(_.push([US,t[T]]),++T)}else{a(m,E.start,y,E.start-E.diag,_);for(let S=E.start;S<E.end;++S)_.push([jg,e[S]]);a(E.end,g,E.end-E.diag,w,_)}},l=(m,g,y,w)=>{let _=m;for(;_-g<w&&_<y&&e[_]===t[_-g];)++_;return r(m,_,g)},u=(m,g,y,w)=>{const _=g-m,E=w-y;if(_===0||E===0)return null;const S=_-E,T=E+_,O=(T%2===0?T:T+1)/2;s[1+O]=m,o[1+O]=g+1;let P,F,X,se,fe;for(P=0;P<=O;++P){for(F=-P;F<=P;F+=2){for(X=F+O,F===-P||F!==P&&s[X-1]<s[X+1]?s[X]=s[X+1]:s[X]=s[X-1]+1,se=s[X],fe=se-m+y-F;se<g&&fe<w&&e[se]===t[fe];)s[X]=++se,++fe;if(S%2!==0&&S-P<=F&&F<=S+P&&o[X-S]<=s[X])return l(o[X-S],F+m-y,g,w)}for(F=S-P;F<=S+P;F+=2){for(X=F+O-S,F===S-P||F!==S+P&&o[X+1]<=o[X-1]?o[X]=o[X+1]-1:o[X]=o[X-1],se=o[X]-1,fe=se-m+y-F;se>=m&&fe>=y&&e[se]===t[fe];)o[X]=se--,fe--;if(S%2===0&&-P<=F&&F<=P&&o[X]<=s[X+S])return l(o[X],F+m-y,g,w)}}return null},d=[];return a(0,e.length,0,t.length,d),d},Wg=e=>Se(e)?e.outerHTML:ne(e)?zo.encodeRaw(e.data,!1):Lo(e)?"<!--"+e.data+"-->":"",S2=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},x2=(e,t,n)=>{const s=S2(t);if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.insertBefore(s,o)}else e.appendChild(s)},k2=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},N2=(e,t)=>{let n=0;R(e,s=>{s[0]===jg?n++:s[0]===US?(x2(t,s[1],n),n++):s[0]===HS&&k2(t,n)})},T2=(e,t)=>J(Q($t(e.childNodes),t?He(jn,Wg):Wg),n=>n.length>0),A2=(e,t)=>{const n=Q($t(t.childNodes),Wg);return N2(_2(n,e),t),t},R2=wr(()=>document.implementation.createHTMLDocument("undo")),P2=e=>e.querySelector("iframe")!==null,O2=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),D2=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Yu=e=>{const t=e.serializer.getTempAttrs(),n=m_(e.getBody(),t);return P2(n)?O2(T2(n,!0)):D2(jn(n.innerHTML))},Kg=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?A2(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:q(s)&&YE(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},qg=e=>e.type==="fragmented"?e.fragments.join(""):e.content,zS=e=>{const t=k.fromTag("body",R2());return Gl(t,qg(e)),R(hn(t,"*[data-mce-bogus]"),yo),Iv(t)},B2=(e,t)=>qg(e)===qg(t),I2=(e,t)=>zS(e)===zS(t),Gg=(e,t)=>!e||!t?!1:B2(e,t)?!0:I2(e,t),Yg=e=>e.get()===0,Xu=(e,t,n)=>{Yg(n)&&(e.typing=t)},VS=(e,t)=>{e.typing&&(Xu(e,!1,t),e.add())},$2=e=>{e.typing&&(e.typing=!1,e.add())},F2=(e,t,n)=>{Yg(t)&&n.set(Xp(e.selection))},L2=(e,t,n,s,o,r,a)=>{const l=Yu(e),u=ie.extend(r||{},l);if(!Yg(s)||e.removed)return null;const d=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:u,lastLevel:d,originalEvent:a}).isDefaultPrevented()||d&&Gg(d,u))return null;t.data[n.get()]&&o.get().each(y=>{t.data[n.get()].beforeBookmark=y});const m=C$(e);if(m&&t.data.length>m){for(let y=0;y<t.data.length-1;y++)t.data[y]=t.data[y+1];t.data.length--,n.set(t.data.length)}u.bookmark=Xp(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(u),n.set(t.data.length-1);const g={level:u,lastLevel:d,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",g),e.dispatch("change",g)):e.dispatch("AddUndo",g),u},M2=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},U2=(e,t,n,s,o)=>{if(t.transact(s)){const r=t.data[n.get()].bookmark,a=t.data[n.get()-1];Kg(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=r)}},H2=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],Kg(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},z2=(e,t,n,s)=>{let o;return t.typing&&(t.add(),t.typing=!1,Xu(t,!1,n)),s.get()>0&&(s.set(s.get()-1),o=t.data[s.get()],Kg(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o},V2=e=>{e.clear(),e.add()},j2=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Gg(Yu(e),t.data[0]),W2=(e,t)=>t.get()<e.data.length-1&&!e.typing,K2=(e,t,n)=>(VS(e,t),e.beforeChange(),e.ignore(n),e.add()),q2=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},G2=(e,t)=>{const n=e.dom,s=q(t)?t:e.getBody();R(n.select("table,a",s),o=>{switch(o.nodeName){case"TABLE":const r=k$(e),a=n.getAttrib(o,"border");(!a||a==="0")&&e.hasVisual?n.addClass(o,r):n.removeClass(o,r);break;case"A":if(!n.getAttrib(o,"href")){const l=n.getAttrib(o,"name")||o.id,u=SE(e);l&&e.hasVisual?n.addClass(o,u):n.removeClass(o,u)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},jS=e=>({init:{bindEvents:Be},undoManager:{beforeChange:(t,n)=>F2(e,t,n),add:(t,n,s,o,r,a)=>L2(e,t,n,s,o,r,a),undo:(t,n,s)=>z2(e,t,n,s),redo:(t,n)=>H2(e,t,n),clear:(t,n)=>M2(e,t,n),reset:t=>V2(t),hasUndo:(t,n)=>j2(e,t,n),hasRedo:(t,n)=>W2(t,n),transact:(t,n,s)=>K2(t,n,s),ignore:(t,n)=>q2(t,n),extra:(t,n,s,o)=>U2(e,t,n,s,o)},formatter:{match:(t,n,s,o)=>wg(e,t,n,s,o),matchAll:(t,n)=>cV(e,t,n),matchNode:(t,n,s,o)=>Qs(e,t,n,s,o),canApply:t=>uV(e,t),closest:t=>lV(e,t),apply:(t,n,s)=>Y0(e,t,n,s),remove:(t,n,s,o)=>K0(e,t,n,s,o),toggle:(t,n,s)=>YV(e,t,n,s),formatChanged:(t,n,s,o,r)=>GV(e,t,n,s,o,r)},editor:{getContent:t=>BU(e,t),setContent:(t,n)=>iV(e,t,n),insertContent:(t,n)=>nV(e,t,n),addVisual:t=>G2(e,t)},selection:{getContent:(t,n)=>w2(e,t,n)},autocompleter:{addDecoration:t=>yU(e,t),removeDecoration:()=>CU(e,k.fromDom(e.getBody()))},raw:{getModel:()=>v.none()}}),Y2=e=>{const t=d=>V(d)?d:{},{init:n,undoManager:s,formatter:o,editor:r,selection:a,autocompleter:l,raw:u}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(d,m,g)=>s.transact(g),ignore:(d,m)=>s.ignore(m),extra:(d,m,g,y)=>s.extra(g,y)},formatter:{match:(d,m,g,y)=>o.match(d,t(m),y),matchAll:o.matchAll,matchNode:o.matchNode,canApply:d=>o.canApply(d),closest:d=>o.closest(d),apply:(d,m,g)=>o.apply(d,t(m)),remove:(d,m,g,y)=>o.remove(d,t(m)),toggle:(d,m,g)=>o.toggle(d,t(m)),formatChanged:(d,m,g,y,w)=>o.formatChanged(m,g,y,w)},editor:{getContent:d=>r.getContent(d),setContent:(d,m)=>({content:r.setContent(d,m),html:""}),insertContent:(d,m)=>(r.insertContent(d),""),addVisual:r.addVisual},selection:{getContent:(d,m)=>a.getContent(m)},autocompleter:{addDecoration:l.addDecoration,removeDecoration:l.removeDecoration},raw:{getModel:()=>v.some(u.getRawModel())}}},X2=()=>{const e=G(null),t=G("");return{init:{bindEvents:Be},undoManager:{beforeChange:Be,add:e,undo:e,redo:e,clear:Be,reset:Be,hasUndo:Ot,hasRedo:Ot,transact:e,ignore:Be,extra:Be},formatter:{match:Ot,matchAll:G([]),matchNode:G(void 0),canApply:Ot,closest:t,apply:Be,remove:Be,toggle:Be,formatChanged:G({unbind:Be})},editor:{getContent:t,setContent:G({content:"",html:""}),insertContent:G(""),addVisual:Be},selection:{getContent:t},autocompleter:{addDecoration:Be,removeDecoration:Be},raw:{getModel:G(v.none())}}},eo=e=>je(e.plugins,"rtc"),Z2=e=>Nt(e.plugins,"rtc").bind(t=>v.from(t.setup)),J2=e=>{const t=e;return Z2(e).fold(()=>(t.rtcInstance=jS(e),v.none()),n=>(t.rtcInstance=X2(),v.some(()=>n().then(s=>(t.rtcInstance=Y2(s),s.rtc.isRemote)))))},Xg=e=>e.rtcInstance?e.rtcInstance:jS(e),zt=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Q2=(e,t,n)=>{zt(e).undoManager.beforeChange(t,n)},eW=(e,t,n,s,o,r,a)=>zt(e).undoManager.add(t,n,s,o,r,a),tW=(e,t,n,s)=>zt(e).undoManager.undo(t,n,s),nW=(e,t,n)=>zt(e).undoManager.redo(t,n),sW=(e,t,n)=>{zt(e).undoManager.clear(t,n)},oW=(e,t)=>{zt(e).undoManager.reset(t)},rW=(e,t,n)=>zt(e).undoManager.hasUndo(t,n),iW=(e,t,n)=>zt(e).undoManager.hasRedo(t,n),aW=(e,t,n,s)=>zt(e).undoManager.transact(t,n,s),cW=(e,t,n)=>{zt(e).undoManager.ignore(t,n)},lW=(e,t,n,s,o)=>{zt(e).undoManager.extra(t,n,s,o)},uW=(e,t,n,s,o)=>zt(e).formatter.match(t,n,s,o),fW=(e,t,n)=>zt(e).formatter.matchAll(t,n),dW=(e,t,n,s,o)=>zt(e).formatter.matchNode(t,n,s,o),pW=(e,t)=>zt(e).formatter.canApply(t),mW=(e,t)=>zt(e).formatter.closest(t),gW=(e,t,n,s)=>{zt(e).formatter.apply(t,n,s)},hW=(e,t,n,s,o)=>{zt(e).formatter.remove(t,n,s,o)},bW=(e,t,n,s)=>{zt(e).formatter.toggle(t,n,s)},yW=(e,t,n,s,o,r)=>zt(e).formatter.formatChanged(t,n,s,o,r),vW=(e,t)=>Xg(e).editor.getContent(t),CW=(e,t,n)=>Xg(e).editor.setContent(t,n),EW=(e,t,n)=>Xg(e).editor.insertContent(t,n),wW=(e,t,n)=>zt(e).selection.getContent(t,n),_W=(e,t)=>zt(e).editor.addVisual(t),WS=e=>zt(e).init.bindEvents(),SW=(e,t)=>zt(e).autocompleter.addDecoration(t),xW=e=>zt(e).autocompleter.removeDecoration(),kW=(e,t={})=>{const n=t.format?t.format:"html";return wW(e,n,t)},KS=e=>e.dom.length===0?(Tt(e),v.none()):v.some(e),NW=(e,t)=>e.filter(n=>Sc.isBookmarkNode(n.dom)).bind(t?Va:Sr),TW=(e,t,n,s,o)=>{const r=e.dom,a=t.dom,l=s?r.length:a.length;s?(Qm(r,a,o,!1,!s),n.setStart(a,l)):(Qm(a,r,o,!1,!s),n.setEnd(a,l))},AW=(e,t,n)=>{ps(e).each(s=>{const o=e.dom;t&&Ac(s,z(o,0),n)?Fu(o,0,n):!t&&Rc(s,z(o,o.length),n)&&Jm(o,o.length,n)})},qS=(e,t,n,s,o)=>{e.bind(r=>((s?Jm:Fu)(r.dom,s?r.dom.length:0,o),t.filter(Zn).map(l=>TW(r,l,n,s,o)))).orThunk(()=>NW(t,s).or(t).filter(Zn).map(a=>AW(a,s,o)))},RW=(e,t,n)=>{const s=v.from(t.firstChild).map(k.fromDom),o=v.from(t.lastChild).map(k.fromDom);e.deleteContents(),e.insertNode(t);const r=s.bind(Sr).filter(Zn).bind(KS),a=o.bind(Va).filter(Zn).bind(KS);qS(r,s,e,!0,n),qS(a,o,e,!1,n),e.collapse(!1)},PW=(e,t)=>yt(Oe({format:"html"},e),{set:!0,selection:!0,content:t}),OW=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=s?{context:s.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,Oe(Oe({forced_root_block:!1},o),t));return Yo({validate:!1},e.schema).serialize(r)}else return t.content},DW=(e,t,n={})=>{const s=PW(n,t);Hg(e,s).each(o=>{const r=OW(e,o),a=e.selection.getRng();RW(a,a.createContextualFragment(r),e.schema),e.selection.setRng(a),kc(e,a),zg(e,r,o)})},GS=(e,t,n)=>{if(je(e,t)){const s=J(e[t],o=>o!==n);s.length===0?delete e[t]:e[t]=s}};var BW=(e,t)=>{let n,s;const o=(l,u)=>Pe(u,d=>e.is(d,l)),r=l=>e.getParents(l,void 0,e.getRoot()),a=()=>{n={},s={},t.on("NodeChange",l=>{const u=l.element,d=r(u),m={};xt(n,(g,y)=>{o(y,d).each(w=>{s[y]||(R(g,_=>{_(!0,{node:w,selector:y,parents:d})}),s[y]=g),m[y]=g})}),xt(s,(g,y)=>{m[y]||(delete s[y],R(g,w=>{w(!1,{node:u,selector:y,parents:d})}))})})};return{selectorChangedWithUnbind:(l,u)=>(n||a(),n[l]||(n[l]=[]),n[l].push(u),o(l,r(t.selection.getStart())).each(()=>{s[l]=n[l]}),{unbind:()=>{GS(n,l,u),GS(s,l,u)}})}};const YS=e=>!!(e&&e.ownerDocument)&&mo(k.fromDom(e.ownerDocument),k.fromDom(e)),IW=e=>e?YS(e.startContainer)&&YS(e.endContainer):!1,XS=(e,t,n,s)=>{let o,r;const{selectorChangedWithUnbind:a}=BW(e,s),l=(ae,xe)=>{const st=e.createRng();q(ae)&&q(xe)?(st.setStart(ae,xe),st.setEnd(ae,xe),F(st),T(!1)):(hm(e,st,s.getBody(),!0),F(st))},u=ae=>kW(s,ae),d=(ae,xe)=>DW(s,ae,xe),m=ae=>n_(s.getBody(),P(),ae),g=ae=>s_(s.getBody(),P(),ae),y=(ae,xe)=>nn.getBookmark(ae,xe),w=ae=>nn.moveToBookmark(ae),_=(ae,xe)=>(uU(e,ae,xe).each(F),ae),E=()=>{const ae=P(),xe=O();return!ae||ae.item?!1:ae.compareEndPoints?ae.compareEndPoints("StartToEnd",ae)===0:!xe||ae.collapsed},S=()=>{const ae=P(),xe=s.getBody().querySelectorAll('[data-mce-selected="1"]');return xe.length>0?Ct(xe,st=>e.isEditable(st.parentElement)):e_(e,ae)},T=ae=>{const xe=P();xe.collapse(!!ae),F(xe)},O=()=>t.getSelection?t.getSelection():t.document.selection,P=()=>{let ae;const xe=(Ze,Ce,Fe)=>{try{return Ce.compareBoundaryPoints(Ze,Fe)}catch(oe){return-1}},st=t.document;if(q(s.bookmark)&&!qr(s)){const Ze=$m(s);if(Ze.isSome())return Ze.map(Ce=>zm(s,[Ce])[0]).getOr(st.createRange())}try{const Ze=O();Ze&&!Xl(Ze.anchorNode)&&(Ze.rangeCount>0?ae=Ze.getRangeAt(0):ae=st.createRange(),ae=zm(s,[ae])[0])}catch(Ze){}if(ae||(ae=st.createRange()),Ga(ae.startContainer)&&ae.collapsed){const Ze=e.getRoot();ae.setStart(Ze,0),ae.setEnd(Ze,0)}return o&&r&&(xe(ae.START_TO_START,ae,o)===0&&xe(ae.END_TO_END,ae,o)===0?ae=r:(o=null,r=null)),ae},F=(ae,xe)=>{if(!IW(ae))return;const st=O();if(ae=s.dispatch("SetSelectionRange",{range:ae,forward:xe}).range,st){r=ae;try{st.removeAllRanges(),st.addRange(ae)}catch(Ce){}xe===!1&&st.extend&&(st.collapse(ae.endContainer,ae.endOffset),st.extend(ae.startContainer,ae.startOffset)),o=st.rangeCount>0?st.getRangeAt(0):null}if(!ae.collapsed&&ae.startContainer===ae.endContainer&&(st!=null&&st.setBaseAndExtent)&&ae.endOffset-ae.startOffset<2&&ae.startContainer.hasChildNodes()){const Ce=ae.startContainer.childNodes[ae.startOffset];Ce&&Ce.nodeName==="IMG"&&(st.setBaseAndExtent(ae.startContainer,ae.startOffset,ae.endContainer,ae.endOffset),(st.anchorNode!==ae.startContainer||st.focusNode!==ae.endContainer)&&st.setBaseAndExtent(Ce,0,Ce,1))}s.dispatch("AfterSetSelectionRange",{range:ae,forward:xe})},X=ae=>(d(e.getOuterHTML(ae)),ae),se=()=>cU(s.getBody(),P()),fe=(ae,xe)=>lU(e,P(),ae,xe),j=()=>{const ae=O(),xe=ae==null?void 0:ae.anchorNode,st=ae==null?void 0:ae.focusNode;if(!ae||!xe||!st||Xl(xe)||Xl(st))return!0;const Ze=e.createRng(),Ce=e.createRng();try{Ze.setStart(xe,ae.anchorOffset),Ze.collapse(!0),Ce.setStart(st,ae.focusOffset),Ce.collapse(!0)}catch(Fe){return!0}return Ze.compareBoundaryPoints(Ze.START_TO_START,Ce)<=0},Dt={dom:e,win:t,serializer:n,editor:s,expand:(ae={type:"word"})=>F(Kr(e).expand(P(),ae)),collapse:T,setCursorLocation:l,getContent:u,setContent:d,getBookmark:y,moveToBookmark:w,select:_,isCollapsed:E,isEditable:S,isForward:j,setNode:X,getNode:se,getSel:O,setRng:F,getRng:P,getStart:m,getEnd:g,getSelectedBlocks:fe,normalize:()=>{const ae=P(),xe=O();if(!qF(xe)&&Su(s)){const st=Pu(e,ae);return st.each(Ze=>{F(Ze,j())}),st.getOr(ae)}return ae},selectorChanged:(ae,xe)=>(a(ae,xe),Dt),selectorChangedWithUnbind:a,getScrollContainer:()=>{let ae,xe=e.getRoot();for(;xe&&xe.nodeName!=="BODY";){if(xe.scrollHeight>xe.clientHeight){ae=xe;break}xe=xe.parentNode}return ae},scrollIntoView:(ae,xe)=>{q(ae)?OM(s,ae,xe):kc(s,P(),xe)},placeCaretAt:(ae,xe)=>F(Dw(ae,xe,s.getDoc())),getBoundingClientRect:()=>{const ae=P();return ae.collapsed?z.fromRangeStart(ae).getClientRects()[0]:ae.getBoundingClientRect()},destroy:()=>{t=o=r=null,lt.destroy()}},nn=Sc(Dt),lt=Tw(Dt,s);return Dt.bookmarkManager=nn,Dt.controlSelection=lt,Dt},$W=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,o)=>{let r=s.length;for(;r--;){const a=s[r];a.attr("tabindex",a.attr("data-mce-tabindex")),a.attr(o,null)}}),e.addAttributeFilter("src,href,style",(s,o)=>{const r="data-mce-"+o,a=t.url_converter,l=t.url_converter_scope;let u=s.length;for(;u--;){const d=s[u];let m=d.attr(r);m!==void 0?(d.attr(o,m.length>0?m:null),d.attr(r,null)):(m=d.attr(o),o==="style"?m=n.serializeStyle(n.parseStyle(m),d.name):a&&(m=a.call(l,m,o,d.name)),d.attr(o,m.length>0?m:null))}}),e.addAttributeFilter("class",s=>{let o=s.length;for(;o--;){const r=s[o];let a=r.attr("class");a&&(a=a.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",a.length>0?a:null))}}),e.addAttributeFilter("data-mce-type",(s,o,r)=>{let a=s.length;for(;a--;){const l=s[a];l.attr("data-mce-type")==="bookmark"&&!r.cleanup&&(v.from(l.firstChild).exists(d=>{var m;return!tu((m=d.value)!==null&&m!==void 0?m:"")})?l.unwrap():l.remove())}}),e.addNodeFilter("noscript",s=>{var o;let r=s.length;for(;r--;){const a=s[r].firstChild;a&&(a.value=zo.decode((o=a.value)!==null&&o!==void 0?o:""))}}),e.addNodeFilter("script,style",(s,o)=>{var r;const a=u=>u.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let l=s.length;for(;l--;){const u=s[l],d=u.firstChild,m=(r=d==null?void 0:d.value)!==null&&r!==void 0?r:"";if(o==="script"){const g=u.attr("type");g&&u.attr("type",g==="mce-no/type"?null:g.replace(/^mce\-/,"")),t.element_format==="xhtml"&&d&&m.length>0&&(d.value=`// <![CDATA[
`+a(m)+`
// ]]>`)}else t.element_format==="xhtml"&&d&&m.length>0&&(d.value=`<!--
`+a(m)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let o=s.length;for(;o--;){const r=s[o],a=r.value;t.preserve_cdata&&(a==null?void 0:a.indexOf("[CDATA["))===0?(r.name="#cdata",r.type=4,r.value=n.decode(a.replace(/^\[CDATA\[|\]\]$/g,""))):(a==null?void 0:a.indexOf("mce:protected "))===0&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(a).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,o)=>{let r=s.length;for(;r--;){const a=s[r];a.type===7?a.remove():a.type===1&&o==="input"&&!a.attr("type")&&a.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{R(s,o=>{o.attr("data-mce-type")==="format-caret"&&(o.isEmpty(e.schema.getNonEmptyElements())?o.remove():o.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,o)=>{let r=s.length;for(;r--;)s[r].attr(o,null)}),t.remove_trailing_brs&&sS(t,e,e.schema)},FW=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},LW=(e,t,n)=>{let s;const o=e.dom;let r=t.cloneNode(!0);const a=document.implementation;if(a.createHTMLDocument){const l=a.createHTMLDocument("");ie.each(r.nodeName==="BODY"?r.childNodes:[r],u=>{l.body.appendChild(l.importNode(u,!0))}),r.nodeName!=="BODY"?r=l.body.firstChild:r=l.body,s=o.doc,o.doc=l}return vL(e,yt(Oe({},n),{node:r})),s&&(o.doc=s),r},MW=(e,t)=>q(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,UW=(e,t,n)=>MW(e,n)?LW(e,t,n):t,HW=(e,t,n)=>{ie.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,o)=>{let r=s.length;for(;r--;)s[r].attr(o,null)}),t.push(n))},zW=(e,t,n)=>!t.no_events&&e?CL(e,yt(Oe({},t),{content:n})).content:n,VW=(e,t,n)=>{const s=jn(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||eu(k.fromDom(t))?s:ie.trim(s)},jW=(e,t,n)=>{const s=n.selection?Oe({forced_root_block:!1},n):n,o=e.parse(t,s);return FW(o),o},WW=(e,t,n)=>Yo(e,t).serialize(n),KW=(e,t,n,s,o)=>{const r=WW(t,n,s);return zW(e,o,r)},qW=(e,t)=>{const n=["data-mce-selected"],s=Oe({entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1},e),o=t&&t.dom?t.dom:_t.DOM,r=t&&t.schema?t.schema:Vo(s),a=na(s,r);$W(a,s,o);const l=(u,d={})=>{const m=Oe({format:"html"},d),g=UW(t,u,m),y=VW(o,g,m),w=jW(a,y,m);return m.format==="tree"?w:KW(t,s,r,w,m)};return{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:l,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:ye(HW,a,n),getTempAttrs:G(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},ZS=(e,t)=>{const n=qW(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},GW="html",YW=(e,t)=>yt(Oe({},e),{format:t,get:!0,getInner:!0}),XW=(e,t={})=>{const n=t.format?t.format:GW,s=YW(t,n);return PS(e,s).fold(Lt,o=>{const r=vW(e,o);return OS(e,r,o)})},ZW="html",JW=(e,t)=>yt(Oe({format:ZW},e),{set:!0,content:t}),Zg=(e,t,n={})=>{const s=JW(n,t);return Hg(e,s).map(o=>{const r=CW(e,o.content,o);return zg(e,r.html,o),r.content}).getOr(t)},QW="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),e3="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),t3="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),JS=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],QS=(e,t)=>{const n=J(t,s=>je(e,s));return Hn(n)},n3=e=>{const t=QS(e,QW),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Hn(t)},s3=e=>QS(e,e3),ex=(e,t)=>{const n=ie.makeMap(e.plugins," "),o=J(t,r=>je(n,r));return Hn(o)},o3=e=>ex(e,t3),r3=e=>ex(e,JS.map(t=>t.name)),i3=(e,t)=>{const n=n3(e),s=o3(t),o=s.length>0,r=n.length>0,a=t.theme==="mobile";if(o||r||a){const l=`
- `,u=a?`

Themes:${l}mobile`:"",d=o?`

Plugins:${l}${s.join(l)}`:"",m=r?`

Options:${l}${n.join(l)}`:""}},a3=e=>Pe(JS,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),c3=(e,t)=>{const n=s3(e),s=r3(t),o=s.length>0,r=n.length>0;if(o||r){const a=`
- `,l=o?`

Plugins:${a}${s.map(a3).join(a)}`:"",u=r?`

Options:${a}${n.join(a)}`:""}},l3=(e,t)=>{i3(e,t),c3(e,t)},Zu=_t.DOM,u3=e=>{Zu.setStyle(e.id,"display",e.orgDisplay)},Ju=e=>v.from(e).each(t=>t.destroy()),f3=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},d3=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Zu.unbind(t,"submit reset",e.formEventDelegate))},p3=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),o=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&q(o==null?void 0:o.nextSibling)&&Zu.remove(o.nextSibling),EL(e),e.editorManager.remove(e),!e.inline&&s&&u3(e),wL(e),Zu.remove(e.getContainer()),Ju(t),Ju(n),e.destroy()}},m3=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ju(n),Ju(s)),d3(e),f3(e),e.destroyed=!0}},Qu=(()=>{const e={};return{add:(o,r)=>{e[o]=r},get:o=>e[o]?e[o]:{icons:{}},has:o=>je(e,o)}})(),sa=wn.ModelManager,tx=(e,t)=>t.dom[e],nx=(e,t)=>parseInt(Ks(t,e),10),g3=ye(tx,"clientWidth"),h3=ye(tx,"clientHeight"),b3=ye(nx,"margin-top"),y3=ye(nx,"margin-left"),v3=e=>e.dom.getBoundingClientRect(),C3=(e,t,n)=>{const s=g3(e),o=h3(e);return t>=0&&n>=0&&t<=s&&n<=o},E3=(e,t,n,s)=>{const o=v3(t),r=e?o.left+t.dom.clientLeft+y3(t):0,a=e?o.top+t.dom.clientTop+b3(t):0,l=n-r,u=s-a;return{x:l,y:u}},w3=(e,t,n)=>{const s=k.fromDom(e.getBody()),o=e.inline?s:vD(s),r=E3(e.inline,o,t,n);return C3(o,r.x,r.y)},_3=e=>v.from(e).map(k.fromDom),S3=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return _3(t).map(Ii).getOr(!1)};var x3=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const sx=e=>{const t=[],n=()=>{const y=e.theme;return y&&y.getNotificationManagerImpl?y.getNotificationManagerImpl():x3()},s=()=>v.from(t[0]),o=(y,w)=>y.type===w.type&&y.text===w.text&&!y.progressBar&&!y.timeout&&!w.progressBar&&!w.timeout,r=()=>{R(t,y=>{y.reposition()})},a=y=>{t.push(y)},l=y=>{Ke(t,w=>w===y).each(w=>{t.splice(w,1)})},u=(y,w=!0)=>e.removed||!S3(e)?{}:(w&&e.dispatch("BeforeOpenNotification",{notification:y}),Pe(t,_=>o(n().getArgs(_),y)).getOrThunk(()=>{e.editorManager.setActive(e);const _=n().open(y,()=>{l(_),r(),Qw(e)&&s().fold(()=>e.focus(),E=>Kw(k.fromDom(E.getEl())))});return a(_),r(),e.dispatch("OpenNotification",{notification:Oe({},_)}),_})),d=()=>{s().each(y=>{n().close(y),l(y),r()})},m=G(t);return(y=>{y.on("SkinLoaded",()=>{const w=c$(y);w&&u({text:w,type:"warning",timeout:0},!1),r()}),y.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(r)}),y.on("remove",()=>{R(t.slice(),w=>{n().close(w)})})})(e),{open:u,close:d,getNotifications:m}},oa=wn.PluginManager,Jr=wn.ThemeManager;var k3=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const ox=e=>{let t=[];const n=()=>{const E=e.theme;return E&&E.getWindowManagerImpl?E.getWindowManagerImpl():k3()},s=(E,S)=>(...T)=>S?S.apply(E,T):void 0,o=E=>{e.dispatch("OpenWindow",{dialog:E})},r=E=>{e.dispatch("CloseWindow",{dialog:E})},a=E=>{t.push(E),o(E)},l=E=>{r(E),t=J(t,S=>S!==E),t.length===0&&e.focus()},u=()=>v.from(t[t.length-1]),d=E=>{e.editorManager.setActive(e),Im(e),e.ui.show();const S=E();return a(S),S},m=(E,S)=>d(()=>n().open(E,S,l)),g=E=>d(()=>n().openUrl(E,l)),y=(E,S,T)=>{const O=n();O.alert(E,s(T||O,S))},w=(E,S,T)=>{const O=n();O.confirm(E,s(T||O,S))},_=()=>{u().each(E=>{n().close(E),l(E)})};return e.on("remove",()=>{R(t,E=>{n().close(E)})}),{open:m,openUrl:g,alert:y,confirm:w,close:_}},rx=(e,t)=>{e.notificationManager.open({type:"error",text:t})},ef=(e,t)=>{e._skinLoaded?rx(e,t):e.on("SkinLoaded",()=>{rx(e,t)})},N3=(e,t)=>{ef(e,Rs.translate(["Failed to upload image: {0}",t]))},Lc=(e,t,n)=>{Ew(e,t,{message:n})},Mc=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,T3=(e,t,n)=>{Lc(e,"PluginLoadError",Mc("plugin",t,n))},A3=(e,t,n)=>{Lc(e,"IconsLoadError",Mc("icons",t,n))},R3=(e,t,n)=>{Lc(e,"LanguageLoadError",Mc("language",t,n))},P3=(e,t,n)=>{Lc(e,"ThemeLoadError",Mc("theme",t,n))},O3=(e,t,n)=>{Lc(e,"ModelLoadError",Mc("model",t,n))},D3=(e,t,n)=>{const s=Rs.translate(["Failed to initialize plugin: {0}",t]);Ew(e,"PluginLoadError",{message:s}),tf(s,n),ef(e,s)},tf=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},B3=e=>/^[a-z0-9\-]+$/i.test(e),Jg=e=>"content/"+e+"/content.css",I3=e=>tinymce.Resource.has(Jg(e)),$3=e=>ix(e,n$(e)),F3=e=>ix(e,vE(e)),ix=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return Q(t,r=>I3(r)?r:B3(r)&&!e.inline?`${n}/${r}/${o}`:e.documentBaseURI.toAbsolute(r))},L3=e=>{e.contentCSS=e.contentCSS.concat($3(e),F3(e))},M3=e=>e?$t(e.getElementsByTagName("img")):[],U3=(e,t)=>{const n={};return{findAll:(o,r=Et)=>{const a=J(M3(o),u=>{const d=u.src;return u.hasAttribute("data-mce-bogus")||u.hasAttribute("data-mce-placeholder")||!d||d===at.transparentSrc?!1:on(d,"blob:")?!e.isUploaded(d)&&r(u):on(d,"data:")?r(u):!1}),l=Q(a,u=>{const d=u.src;if(je(n,d))return n[d].then(m=>A(m)?m:{image:u,blobInfo:m.blobInfo});{const m=aj(t,d).then(g=>(delete n[d],{image:u,blobInfo:g})).catch(g=>(delete n[d],g));return n[d]=m,m}});return Promise.all(l)}}},ax=()=>{let n={};const s=(y,w)=>({status:y,resultUri:w}),o=y=>y in n;return{hasBlobUri:o,getResultUri:y=>{const w=n[y];return w?w.resultUri:null},isPending:y=>o(y)?n[y].status===1:!1,isUploaded:y=>o(y)?n[y].status===2:!1,markPending:y=>{n[y]=s(1,null)},markUploaded:(y,w)=>{n[y]=s(2,w)},removeFailed:y=>{delete n[y]},destroy:()=>{n={}}}};let H3=0;const z3=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},V3=e=>e+H3+++z3(),j3=()=>{let e=[];const t=g=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[g.toLowerCase()]||"dat",n=(g,y,w,_,E)=>{if(A(g))return s({id:g,name:_,filename:E,blob:y,base64:w});if(V(g))return s(g);throw new Error("Unknown input type")},s=g=>{if(!g.blob||!g.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const y=g.id||V3("blobid"),w=g.name||y,_=g.blob;return{id:G(y),name:G(w),filename:G(g.filename||w+"."+t(_.type)),blob:G(_),base64:G(g.base64),blobUri:G(g.blobUri||URL.createObjectURL(_)),uri:G(g.uri)}},o=g=>{a(g.id())||e.push(g)},r=g=>Pe(e,g).getOrUndefined(),a=g=>r(y=>y.id()===g);return{create:n,add:o,get:a,getByUri:g=>r(y=>y.blobUri()===g),getByData:(g,y)=>r(w=>w.base64()===g&&w.blob().type===y),findFirst:r,removeByUri:g=>{e=J(e,y=>y.blobUri()===g?(URL.revokeObjectURL(y.blobUri()),!1):!0)},destroy:()=>{R(e,g=>{URL.revokeObjectURL(g.blobUri())}),e=[]}}},W3=(e,t)=>{const n={},s=(E,S)=>E?E.replace(/\/$/,"")+"/"+S.replace(/^\//,""):S,o=(E,S)=>new Promise((T,O)=>{const P=new XMLHttpRequest;P.open("POST",t.url),P.withCredentials=t.credentials,P.upload.onprogress=X=>{S(X.loaded/X.total*100)},P.onerror=()=>{O("Image upload failed due to a XHR Transport error. Code: "+P.status)},P.onload=()=>{if(P.status<200||P.status>=300){O("HTTP Error: "+P.status);return}const X=JSON.parse(P.responseText);if(!X||!A(X.location)){O("Invalid JSON: "+P.responseText);return}T(s(t.basePath,X.location))};const F=new FormData;F.append("file",E.blob(),E.filename()),P.send(F)}),r=ce(t.handler)?t.handler:o,a=()=>new Promise(E=>{E([])}),l=(E,S)=>({url:S,blobInfo:E,status:!0}),u=(E,S)=>({url:"",blobInfo:E,status:!1,error:S}),d=(E,S)=>{ie.each(n[E],T=>{T(S)}),delete n[E]},m=(E,S,T)=>(e.markPending(E.blobUri()),new Promise(O=>{let P,F;try{const X=()=>{P&&(P.close(),F=Be)},se=j=>{X(),e.markUploaded(E.blobUri(),j),d(E.blobUri(),l(E,j)),O(l(E,j))},fe=j=>{X(),e.removeFailed(E.blobUri()),d(E.blobUri(),u(E,j)),O(u(E,j))};F=j=>{j<0||j>100||v.from(P).orThunk(()=>v.from(T).map(ki)).each(U=>{P=U,U.progressBar.value(j)})},S(E,F).then(se,j=>{fe(A(j)?{message:j}:j)})}catch(X){O(u(E,X))}})),g=E=>E===o,y=E=>{const S=E.blobUri();return new Promise(T=>{n[S]=n[S]||[],n[S].push(T)})},w=(E,S)=>(E=ie.grep(E,T=>!e.isUploaded(T.blobUri())),Promise.all(ie.map(E,T=>e.isPending(T.blobUri())?y(T):m(T,r,S))));return{upload:(E,S)=>!t.url&&g(r)?a():w(E,S)}},cx=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),lx=(e,t)=>W3(t,{url:YI(e),basePath:XI(e),credentials:ZI(e),handler:JI(e)}),K3=e=>{const t=ax(),n=lx(e,t);return{upload:(s,o=!0)=>n.upload(s,o?cx(e):void 0)}},q3=(e,t)=>e.dom.isEmpty(t.dom)&&q(e.schema.getTextBlockElements()[it(t)]),G3=e=>t=>{q3(e,t)&&Kt(t,k.fromHtml('<br data-mce-bogus="1" />'))},Y3=e=>{const t=j3();let n,s;const o=ax(),r=[],a=P=>F=>e.selection?P(F):[],l=P=>P+(P.indexOf("?")===-1?"?":"&")+new Date().getTime(),u=(P,F,X)=>{let se=0;do se=P.indexOf(F,se),se!==-1&&(P=P.substring(0,se)+X+P.substr(se+F.length),se+=X.length-F.length+1);while(se!==-1);return P},d=(P,F,X)=>{const se=`src="${X}"${X===at.transparentSrc?' data-mce-placeholder="1"':""}`;return P=u(P,`src="${F}"`,se),P=u(P,'data-mce-src="'+F+'"','data-mce-src="'+X+'"'),P},m=(P,F)=>{R(e.undoManager.data,X=>{X.type==="fragmented"?X.fragments=Q(X.fragments,se=>d(se,P,F)):X.content=d(X.content,P,F)})},g=(P,F)=>{const X=e.convertURL(F,"src");m(P.src,F),fo(k.fromDom(P),{src:gE(e)?l(F):F,"data-mce-src":X})},y=()=>(n||(n=lx(e,o)),S().then(a(P=>{const F=Q(P,X=>X.blobInfo);return n.upload(F,cx(e)).then(a(X=>{const se=[];let fe=!1;const j=Q(X,(U,Y)=>{const{blobInfo:he,image:Ae}=P[Y];let We=!1;return U.status&&qI(e)?(U.url&&!mn(Ae.src,U.url)&&(fe=!0),t.removeByUri(Ae.src),eo(e)||g(Ae,U.url)):U.error&&(U.error.remove&&(m(Ae.src,at.transparentSrc),se.push(Ae),We=!0),N3(e,U.error.message)),{element:Ae,status:U.status,uploadUri:U.url,blobInfo:he,removed:We}});return se.length>0&&!eo(e)?e.undoManager.transact(()=>{R(up(se),U=>{const Y=ps(U);Tt(U),Y.each(G3(e)),t.removeByUri(U.dom.src)})}):fe&&e.undoManager.dispatchChange(),j}))}))),w=()=>mE(e)?y():Promise.resolve([]),_=P=>Ct(r,F=>F(P)),E=P=>{r.push(P)},S=()=>(s||(s=U3(o,t)),s.findAll(e.getBody(),_).then(a(P=>{const F=J(P,X=>A(X)?(ef(e,X),!1):X.uriType!=="blob");return eo(e)||R(F,X=>{m(X.image.src,X.blobInfo.blobUri()),X.image.src=X.blobInfo.blobUri(),X.image.removeAttribute("data-mce-src")}),F}))),T=()=>{t.destroy(),o.destroy(),s=n=null},O=P=>P.replace(/src="(blob:[^"]+)"/g,(F,X)=>{const se=o.getResultUri(X);if(se)return'src="'+se+'"';let fe=t.getByUri(X);return fe||(fe=le(e.editorManager.get(),(j,U)=>j||U.editorUpload&&U.editorUpload.blobCache.getByUri(X),void 0)),fe?'src="data:'+fe.blob().type+";base64,"+fe.base64()+'"':F});return e.on("SetContent",()=>{mE(e)?w():S()}),e.on("RawSaveContent",P=>{P.content=O(P.content)}),e.on("GetContent",P=>{P.source_view||P.format==="raw"||P.format==="tree"||(P.content=O(P.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",P=>{R(P,F=>{const X=F.attr("src");if(!X||t.getByUri(X))return;const se=o.getResultUri(X);se&&F.attr("src",se)})})}),{blobCache:t,addFilter:E,uploadImages:y,uploadImagesAuto:w,scanForImages:S,destroy:T}},X3=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const o={inline:"span",styles:{textDecoration:"line-through"},exact:!0},r={inline:"strike",remove:"all",preserve_attributes:["class","style"]},a={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[a,o,r]:[o,a,r]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(o,r,a)=>Se(o)&&o.hasAttribute("href"),onformat:(o,r,a)=>{ie.each(a,(l,u)=>{t.setAttrib(o,u,l)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":o=>{var r;return(r=o==null?void 0:o.customValue)!==null&&r!==void 0?r:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ie.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),o=>{s[o]={block:o,remove:"all"}}),s},ux={remove_similar:!0,inherit:!1},ra=Oe({selector:"td,th"},ux),Z3={tablecellbackgroundcolor:Oe({styles:{backgroundColor:"%value"}},ra),tablecellverticalalign:Oe({styles:{"vertical-align":"%value"}},ra),tablecellbordercolor:Oe({styles:{borderColor:"%value"}},ra),tablecellclass:Oe({classes:["%value"]},ra),tableclass:Oe({selector:"table",classes:["%value"]},ux),tablecellborderstyle:Oe({styles:{borderStyle:"%value"}},ra),tablecellborderwidth:Oe({styles:{borderWidth:"%value"}},ra)},J3=G(Z3),Q3=e=>{const t={},n=a=>q(a)?t[a]:t,s=a=>je(t,a),o=(a,l)=>{a&&(A(a)?(we(l)||(l=[l]),R(l,u=>{Ee(u.deep)&&(u.deep=!ns(u)),Ee(u.split)&&(u.split=!ns(u)||Zt(u)),Ee(u.remove)&&ns(u)&&!Zt(u)&&(u.remove="none"),ns(u)&&Zt(u)&&(u.mixed=!0,u.block_expand=!0),A(u.classes)&&(u.classes=u.classes.split(/\s+/))}),t[a]=l):xt(a,(u,d)=>{o(d,u)}))},r=a=>(a&&t[a]&&delete t[a],t);return o(X3(e)),o(J3()),o(f$(e)),{get:n,has:s,register:o,unregister:r}},nf=ie.each,is=_t.DOM,Qg=e=>q(e)&&V(e),fx=(e,t)=>{const n=t&&t.schema||Vo({}),s=(u,d)=>{d.classes.length>0&&is.addClass(u,d.classes.join(" ")),is.setAttribs(u,d.attrs)},o=u=>{const d=A(u)?{name:u,classes:[],attrs:{}}:u,m=is.create(d.name);return s(m,d),m},r=(u,d)=>{const m=n.getElementRule(u.nodeName.toLowerCase()),g=m==null?void 0:m.parentsRequired;return g&&g.length?d&&I(g,d)?d:g[0]:!1},a=(u,d,m)=>{let g;const y=d[0],w=Qg(y)?y.name:void 0,_=r(u,w);if(_)w===_?(g=y,d=d.slice(1)):g=_;else if(y)g=y,d=d.slice(1);else if(!m)return u;const E=g?o(g):is.create("div");E.appendChild(u),m&&ie.each(m,T=>{const O=o(T);E.insertBefore(O,u)});const S=Qg(g)?g.siblings:void 0;return a(E,d,S)},l=is.create("div");if(e.length>0){const u=e[0],d=o(u),m=Qg(u)?u.siblings:void 0;l.appendChild(a(d,e.slice(1),m))}return l},e6=e=>{e=ie.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,o,r,a,l)=>{switch(o){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":ie.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(n.attrs[r]=r);break}if(a==="["){const u=l.match(/([\w\-]+)(?:\=\"([^\"]+))?/);u&&(n.attrs[u[1]]=u[2])}return""})),n.name=t||"div",n},t6=e=>A(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ie.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=ie.map(t.split(/(?:~\+|~|\+)/),e6),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],n6=(e,t)=>{let n="",s=d$(e);if(s==="")return"";const o=y=>A(y)?y.replace(/%(\w+)/g,""):"",r=(y,w)=>is.getStyle(w!=null?w:e.getBody(),y,!0);if(A(t)){const y=e.formatter.get(t);if(!y)return"";t=y[0]}if("preview"in t){const y=t.preview;if(y===!1)return"";s=y||s}let a=t.block||t.inline||"span",l;const u=t6(t.selector);u.length>0?(u[0].name||(u[0].name=a),a=t.selector,l=fx(u,e)):l=fx([a],e);const d=is.select(a,l)[0]||l.firstChild;nf(t.styles,(y,w)=>{const _=o(y);_&&is.setStyle(d,w,_)}),nf(t.attributes,(y,w)=>{const _=o(y);_&&is.setAttrib(d,w,_)}),nf(t.classes,y=>{const w=o(y);is.hasClass(d,w)||is.addClass(d,w)}),e.dispatch("PreviewFormats"),is.setStyles(l,{position:"absolute",left:-65535}),e.getBody().appendChild(l);const m=r("fontSize"),g=/px$/.test(m)?parseInt(m,10):0;return nf(s.split(" "),y=>{let w=r(y,d);if(!(y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(w)&&(w=r(y),ec(w).toLowerCase()==="#ffffff"))&&!(y==="color"&&ec(w).toLowerCase()==="#000000")){if(y==="font-size"&&/em|%$/.test(w)){if(g===0)return;w=parseFloat(w)/(/%$/.test(w)?100:1)*g+"px"}y==="border"&&w&&(n+="padding:0 2px;"),n+=y+":"+w+";"}}),e.dispatch("AfterPreviewFormats"),is.remove(l),n},s6=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},dx=e=>{const t=Q3(e),n=en({});return s6(e),CV(e),eo(e)||WV(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,o,r)=>{gW(e,s,o,r)},remove:(s,o,r,a)=>{hW(e,s,o,r,a)},toggle:(s,o,r)=>{bW(e,s,o,r)},match:(s,o,r,a)=>uW(e,s,o,r,a),closest:s=>mW(e,s),matchAll:(s,o)=>fW(e,s,o),matchNode:(s,o,r,a)=>dW(e,s,o,r,a),canApply:s=>pW(e,s),formatChanged:(s,o,r,a)=>yW(e,n,s,o,r,a),getCssText:ye(n6,e)}},px=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},o6=(e,t,n)=>{const s=en(!1),o=u=>{Xu(t,!1,n),t.add({},u)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",u=>{const d=u.command;px(d)||(VS(t,n),t.beforeChange())}),e.on("ExecCommand",u=>{const d=u.command;px(d)||o(u)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",u=>{const d=u.keyCode;if(u.isDefaultPrevented())return;const m=at.os.isMacOS()&&u.key==="Meta";(d>=33&&d<=36||d>=37&&d<=40||d===45||u.ctrlKey||m)&&(o(),e.nodeChanged()),(d===46||d===8)&&e.nodeChanged(),s.get()&&t.typing&&!Gg(Yu(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",u=>{const d=u.keyCode;if(u.isDefaultPrevented())return;if(d>=33&&d<=36||d>=37&&d<=40||d===45){t.typing&&o(u);return}const m=u.ctrlKey&&!u.altKey||u.metaKey;if((d<16||d>20)&&d!==224&&d!==91&&!t.typing&&!m){t.beforeChange(),Xu(t,!0,n),t.add({},u),s.set(!0);return}(at.os.isMacOS()?u.metaKey:u.ctrlKey&&!u.altKey)&&t.beforeChange()}),e.on("mousedown",u=>{t.typing&&o(u)});const r=u=>u.inputType==="insertReplacementText",a=u=>u.inputType==="insertText"&&u.data===null,l=u=>u.inputType==="insertFromPaste"||u.inputType==="insertFromDrop";e.on("input",u=>{u.inputType&&(r(u)||a(u)||l(u))&&o(u)}),e.on("AddUndo Undo Redo ClearUndos",u=>{u.isDefaultPrevented()||e.nodeChanged()})},r6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},mx=e=>{const t=jo(),n=en(0),s=en(0),o={data:[],typing:!1,beforeChange:()=>{Q2(e,n,t)},add:(r,a)=>eW(e,o,s,n,t,r,a),dispatchChange:()=>{e.setDirty(!0);const r=Yu(e);r.bookmark=Xp(e.selection),e.dispatch("change",{level:r,lastLevel:Cr(o.data,s.get()).getOrUndefined()})},undo:()=>tW(e,o,n,s),redo:()=>nW(e,s,o.data),clear:()=>{sW(e,o,s)},reset:()=>{oW(e,o)},hasUndo:()=>rW(e,o,s),hasRedo:()=>iW(e,o,s),transact:r=>aW(e,o,n,r),ignore:r=>{cW(e,n,r)},extra:(r,a)=>{lW(e,o,s,r,a)}};return eo(e)||o6(e,o,n),r6(e),o},i6=[9,27,me.HOME,me.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,me.DOWN,me.UP,me.LEFT,me.RIGHT].concat(at.browser.isFirefox()?[224]:[]),gx="data-mce-placeholder",hx=e=>e.type==="keydown"||e.type==="keyup",bx=e=>{const t=e.keyCode;return t===me.BACKSPACE||t===me.DELETE},a6=e=>{if(hx(e)){const t=e.keyCode;return!bx(e)&&(me.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||I(i6,t))}else return!1},c6=e=>hx(e)&&!(bx(e)||e.type==="keyup"&&e.keyCode===229),l6=(e,t,n)=>{if(Ht(k.fromDom(t),!1)){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},u6=e=>{var t;const n=e.dom,s=bn(e),o=(t=a$(e))!==null&&t!==void 0?t:"",r=(a,l)=>{if(a6(a))return;const u=e.getBody(),d=c6(a)?!1:l6(n,u,s);(n.getAttrib(u,gx)!==""!==d||l)&&(n.setAttrib(u,gx,d?o:null),n.setAttrib(u,"aria-placeholder",d?o:null),AL(e,d),e.on(d?"keydown":"keyup",r),e.off(d?"keyup":"keydown",r))};zs(o)&&e.on("init",a=>{r(a,!0),e.on("change SetContent ExecCommand",r),e.on("paste",l=>ss.setEditorTimeout(e,()=>r(l)))})},f6=(e,t)=>({block:e,position:t}),d6=(e,t)=>({from:e,to:t}),eh=(e,t)=>{const n=k.fromDom(e),s=k.fromDom(t.container());return Lu(n,s).map(o=>f6(o,t))},p6=e=>!ft(e.from.block,e.to.block),yx=(e,t)=>xr(t,o=>Za(o)||ms(o.dom),o=>ft(o,e)).filter(zn).getOr(e),m6=(e,t)=>{const n=k.fromDom(e);return ft(yx(n,t.from.block),yx(n,t.to.block))},g6=e=>At(e.from.block.dom)===!1&&At(e.to.block.dom)===!1,h6=e=>{const t=n=>qv(n)||kp(n.dom);return t(e.from.block)&&t(e.to.block)},b6=(e,t,n)=>Mt(n.position.getNode())&&!Ht(n.block)?Gi(!1,n.block.dom).bind(s=>s.isEqual(n.position)?Qn(t,e,s).bind(o=>eh(e,o)):v.some(n)).getOr(n):n,y6=(e,t,n)=>{const s=eh(e,z.fromRangeStart(n)),o=s.bind(r=>Qn(t,e,r.position).bind(a=>eh(e,a).map(l=>b6(e,t,l))));return gn(s,o,d6).filter(r=>p6(r)&&m6(e,r)&&g6(r)&&h6(r))},v6=(e,t,n)=>n.collapsed?y6(e,t,n):v.none(),C6=(e,t)=>{const n=cn(e);return Ke(n,s=>t.isBlock(it(s))).fold(G(n),s=>n.slice(0,s))},vx=(e,t)=>{const n=C6(e,t);return R(n,Tt),n},Cx=(e,t)=>{const n=_o(t,e);return Pe(n.reverse(),s=>Ht(s)).each(Tt)},E6=e=>J(Sv(e),t=>!Ht(t)).length===0,w6=(e,t,n,s,o)=>{if(Ht(n))return Mo(n),yn(n.dom);E6(o)&&Ht(t)&&$n(o,k.fromTag("br"));const r=Fn(n.dom,z.before(o.dom));return R(vx(t,s),a=>{$n(o,a)}),Cx(e,t),r},_6=(e,t)=>e.isInline(it(t)),S6=(e,t,n,s)=>{if(Ht(n)){if(Ht(t)){const a=Re((l=>{const u=(d,m)=>sp(d).fold(()=>m,g=>_6(s,g)?u(g,m.concat(Fr(g))):m);return u(l,[])})(n),(l,u)=>(Bv(l,u),u),Ja());$i(t),Kt(t,a)}return Tt(n),yn(t.dom)}const o=hs(n.dom);return R(vx(t,s),r=>{Kt(n,r)}),Cx(e,t),o},x6=(e,t)=>{const n=_o(t,e);return v.from(n[n.length-1])},k6=(e,t)=>mo(t,e)?x6(t,e):v.none(),Ex=(e,t)=>{Gi(e,t.dom).bind(n=>v.from(n.getNode())).map(k.fromDom).filter(Pr).each(Tt)},wx=(e,t,n,s)=>(Ex(!0,t),Ex(!1,n),k6(t,n).fold(ye(S6,e,t,n,s),ye(w6,e,t,n,s))),_x=(e,t,n,s,o)=>t?wx(e,s,n,o):wx(e,n,s,o),th=(e,t)=>{const n=k.fromDom(e.getBody());return v6(n.dom,t,e.selection.getRng()).map(o=>()=>{_x(n,t,o.from.block,o.to.block,e.schema).each(r=>{e.selection.setRng(r.toRange())})})},N6=(e,t,n)=>{const s=t.getRng();return gn(Lu(e,k.fromDom(s.startContainer)),Lu(e,k.fromDom(s.endContainer)),(o,r)=>ft(o,r)?v.none():v.some(()=>{s.deleteContents(),_x(e,!0,o,r,n).each(a=>{t.setRng(a.toRange())})})).getOr(v.none())},Sx=(e,t)=>{const n=k.fromDom(t),s=ye(ft,e);return ho(n,Za,s).isSome()},T6=(e,t)=>Sx(e,t.startContainer)||Sx(e,t.endContainer),A6=(e,t)=>{const n=Fn(e.dom,z.fromRangeStart(t)).isNone(),s=An(e.dom,z.fromRangeEnd(t)).isNone();return!T6(e,t)&&n&&s},R6=e=>v.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),P6=e=>{const t=k.fromDom(e.getBody()),n=e.selection.getRng();return A6(t,n)?R6(e):N6(t,e.selection,e.schema)},nh=(e,t)=>e.selection.isCollapsed()?v.none():P6(e),So=(e,t,n,s,o)=>v.from(t._selectionOverrides.showCaret(e,n,s,o)),O6=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Uc=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?v.none():v.some(O6(t)),D6=(e,t,n)=>{const s=im(1,e.getBody(),t),o=z.fromRangeStart(s),r=o.getNode();if(gc(r))return So(1,e,r,!o.isAtEnd(),!1);const a=o.getNode(!0);if(gc(a))return So(1,e,a,!1,!1);const l=Xr(e.dom.getRoot(),o.getNode());return gc(l)?So(1,e,l,!1,n):v.none()},sh=(e,t,n)=>t.collapsed?D6(e,t,n).getOr(t):t,B6=e=>Zo(e)||Nc(e),I6=e=>Jo(e)||Tc(e),$6=(e,t)=>{ne(t)&&t.data.length===0&&e.remove(t)},xx=(e,t,n,s,o,r)=>{So(s,e,r.getNode(!o),o,!0).each(a=>{if(t.collapsed){const l=t.cloneRange();o?l.setEnd(a.startContainer,a.startOffset):l.setStart(a.endContainer,a.endOffset),l.deleteContents()}else t.deleteContents();e.selection.setRng(a)}),$6(e.dom,n)},F6=(e,t)=>{const n=e.selection.getRng();if(!ne(n.commonAncestorContainer))return v.none();const s=t?tn.Forwards:tn.Backwards,o=Zs(e.getBody()),r=ye(am,t?o.next:o.prev),a=t?B6:I6,l=Cc(s,e.getBody(),n),u=r(l),d=u&&os(t,u);if(!d||!Cu(l,d))return v.none();if(a(d))return v.some(()=>xx(e,n,l.getNode(),s,t,d));const m=r(d);return m&&a(m)&&Cu(d,m)?v.some(()=>xx(e,n,l.getNode(),s,t,m)):v.none()},oh=(e,t)=>F6(e,t),rh=(e,t)=>{const n=e.getBody();return t?yn(n).filter(Zo):hs(n).filter(Jo)},ih=e=>{const t=e.selection.getRng();return!t.collapsed&&(rh(e,!0).exists(n=>n.isEqual(z.fromRangeStart(t)))||rh(e,!1).exists(n=>n.isEqual(z.fromRangeEnd(t))))},L6=e=>q(e)&&(Za(k.fromDom(e))||Xa(k.fromDom(e))),Wn=Gs.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),M6=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return Se(n)&&n.getAttribute("data-mce-caret")===s},U6=(e,t,n,s,o)=>{const r=a=>o.isInline(a.nodeName.toLowerCase())&&!Ys(n,s,e);return ME(!t,n).fold(()=>ME(t,s).fold(Ot,r),r)},kx=(e,t,n,s)=>{const o=s.getNode(!t);return Lu(k.fromDom(e),k.fromDom(n.getNode())).map(r=>Ht(r)?Wn.remove(r.dom):Wn.moveToElement(o)).orThunk(()=>v.some(Wn.moveToElement(o)))},Nx=(e,t,n,s)=>Qn(t,e,n).bind(o=>L6(o.getNode())||U6(e,t,n,o,s)?v.none():t&&At(o.getNode())||!t&&At(o.getNode(!0))?kx(e,t,n,o):t&&Jo(n)||!t&&Zo(n)?v.some(Wn.moveToPosition(o)):v.none()),H6=(e,t)=>be(t)?v.none():e&&At(t.nextSibling)?v.some(Wn.moveToElement(t.nextSibling)):!e&&At(t.previousSibling)?v.some(Wn.moveToElement(t.previousSibling)):v.none(),z6=(e,t,n)=>n.fold(s=>v.some(Wn.remove(s)),s=>v.some(Wn.moveToElement(s)),s=>Ys(t,s,e)?v.none():v.some(Wn.moveToPosition(s))),V6=(e,t,n,s)=>M6(t,n)?H6(t,n.getNode(!t)).orThunk(()=>Nx(e,t,n,s)):Nx(e,t,n,s).bind(o=>z6(e,n,o)),j6=(e,t,n,s)=>{const o=im(t?1:-1,e,n),r=z.fromRangeStart(o),a=k.fromDom(e);return!t&&Jo(r)?v.some(Wn.remove(r.getNode(!0))):t&&Zo(r)?v.some(Wn.remove(r.getNode())):!t&&Zo(r)&&Ym(a,r,s)?GU(a,r,s).map(l=>Wn.remove(l.getNode())):t&&Jo(r)&&Gm(a,r,s)?YU(a,r,s).map(l=>Wn.remove(l.getNode())):V6(e,t,r,s)},W6=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Gr(e,t,k.fromDom(n)),!0),K6=(e,t)=>n=>{const s=t?z.before(n):z.after(n);return e.selection.setRng(s.toRange()),!0},q6=e=>t=>(e.selection.setRng(t.toRange()),!0),Tx=(e,t)=>v.from(Xr(e.getBody(),t)),G6=(e,t)=>{const n=e.selection.getNode();return Tx(e,n).filter(At).fold(()=>j6(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(W6(e,t),K6(e,t),q6(e))),()=>v.some(Be))},Y6=e=>{R(hn(e,".mce-offscreen-selection"),Tt)},X6=(e,t)=>{const n=e.selection.getNode();return At(n)&&!Jl(n)?Tx(e,n.parentNode).filter(At).fold(()=>v.some(()=>{Y6(k.fromDom(e.getBody())),Gr(e,t,k.fromDom(e.selection.getNode())),tg(e)}),()=>v.some(Be)):ih(e)?v.some(()=>{Z_(e,e.selection.getRng(),k.fromDom(e.getBody()))}):v.none()},Ax=e=>{const t=e.dom,n=e.selection,s=Xr(e.getBody(),n.getNode());if(ms(s)&&t.isBlock(s)&&t.isEmpty(s)){const o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(o),n.setRng(z.before(o).toRange())}return!0},ah=(e,t)=>e.selection.isCollapsed()?G6(e,t):X6(e,t),Z6=(e,t)=>{const n=z.fromRangeStart(e.selection.getRng());return Qn(t,e.getBody(),n).filter(s=>t?UU(s):HU(s)).bind(s=>rm(t?0:-1,s)).map(s=>()=>e.selection.select(s))},ch=(e,t)=>e.selection.isCollapsed()?Z6(e,t):v.none(),ia=ne,Rx=e=>ia(e)&&e.data[0]===Xt,Px=e=>ia(e)&&e.data[e.data.length-1]===Xt,Ox=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Xt)},J6=e=>{var t;if(ia(e.previousSibling))return Px(e.previousSibling)||e.previousSibling.appendData(Xt),e.previousSibling;if(ia(e))return Rx(e)||e.insertData(0,Xt),e;{const n=Ox(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},Q6=e=>{var t,n;if(ia(e.nextSibling))return Rx(e.nextSibling)||e.nextSibling.insertData(0,Xt),e.nextSibling;if(ia(e))return Px(e)||e.appendData(Xt),e;{const s=Ox(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},sf=(e,t)=>e?J6(t):Q6(t),eK=ye(sf,!0),tK=ye(sf,!1),Dx=(e,t)=>ne(e.container())?sf(t,e.container()):sf(t,e.getNode()),Bx=(e,t)=>{const n=t.get();return n&&e.container()===n&&Uo(n)},lh=(e,t)=>t.fold(n=>{Hr(e.get());const s=eK(n);return e.set(s),v.some(z(s,s.length-1))},n=>yn(n).map(s=>{if(Bx(s,e)){const o=e.get();return z(o,1)}else{Hr(e.get());const o=Dx(s,!0);return e.set(o),z(o,1)}}),n=>hs(n).map(s=>{if(Bx(s,e)){const o=e.get();return z(o,o.length-1)}else{Hr(e.get());const o=Dx(s,!1);return e.set(o),z(o,o.length-1)}}),n=>{Hr(e.get());const s=tK(n);return e.set(s),v.some(z(s,1))}),Ix=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return v.none()},Sn=Gs.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$x=(e,t)=>{const n=qo(t,e);return n||e},nK=(e,t,n)=>{const s=K_(n),o=$x(t,s.container());return Qo(e,o,s).fold(()=>An(o,s).bind(ye(Qo,e,o)).map(r=>Sn.before(r)),v.none)},sK=(e,t)=>Vr(e,t)===null,Fx=(e,t,n)=>Qo(e,t,n).filter(ye(sK,t)),oK=(e,t,n)=>{const s=q_(n);return Fx(e,t,s).bind(o=>Fn(o,s).isNone()?v.some(Sn.start(o)):v.none())},rK=(e,t,n)=>{const s=K_(n);return Fx(e,t,s).bind(o=>An(o,s).isNone()?v.some(Sn.end(o)):v.none())},iK=(e,t,n)=>{const s=q_(n),o=$x(t,s.container());return Qo(e,o,s).fold(()=>Fn(o,s).bind(ye(Qo,e,o)).map(r=>Sn.after(r)),v.none)},Lx=e=>!W_(uh(e)),to=(e,t,n)=>Ix([nK,oK,rK,iK],[e,t,n]).filter(Lx),uh=e=>e.fold(Lt,Lt,Lt,Lt),Mx=e=>e.fold(G("before"),G("start"),G("end"),G("after")),of=e=>e.fold(Sn.before,Sn.before,Sn.after,Sn.after),fh=e=>e.fold(Sn.start,Sn.start,Sn.end,Sn.end),aK=(e,t)=>Mx(e)===Mx(t)&&uh(e)===uh(t),cK=(e,t,n,s,o,r)=>gn(Qo(t,n,s),Qo(t,n,o),(a,l)=>a!==l&&NH(n,a,l)?Sn.after(e?a:l):r).getOr(r),lK=(e,t)=>e.fold(Et,n=>!aK(n,t)),uK=(e,t,n,s,o)=>{const r=os(e,o);return Qn(e,n,r).map(ye(os,e)).fold(()=>s.map(of),u=>to(t,n,u).map(ye(cK,e,t,n,r,u)).filter(ye(lK,s))).filter(Lx)},fK=(e,t)=>e?t.fold(He(v.some,Sn.start),v.none,He(v.some,Sn.after),v.none):t.fold(v.none,He(v.some,Sn.before),v.none,He(v.some,Sn.end)),dK=(e,t,n,s)=>{const o=os(e,s),r=to(t,n,o);return to(t,n,o).bind(ye(fK,e)).orThunk(()=>uK(e,t,n,r,s))},pK=e=>ce(e.selection.getSel().modify),Ux=(e,t,n)=>{const s=e?1:-1;return t.setRng(z(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},mK=(e,t)=>{const n=t.selection.getRng(),s=e?z.fromRangeEnd(n):z.fromRangeStart(n);return pK(t)?e&&vp(s)?Ux(!0,t.selection,s):!e&&Cp(s)?Ux(!1,t.selection,s):!1:!1};var no;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(no||(no={}));const rf=(e,t)=>e===tn.Backwards?wt(t):t,gK=(e,t,n)=>e===tn.Forwards?t.next(n):t.prev(n),hK=(e,t,n,s)=>Mt(s.getNode(t===tn.Forwards))?no.Br:Ys(n,s)===!1?no.Block:no.Wrap,Hx=(e,t,n,s)=>{const o=Zs(n);let r=s;const a=[];for(;r;){const l=gK(t,o,r);if(!l)break;if(Mt(l.getNode(!1)))return t===tn.Forwards?{positions:rf(t,a).concat([l]),breakType:no.Br,breakAt:v.some(l)}:{positions:rf(t,a),breakType:no.Br,breakAt:v.some(l)};if(!l.isVisible()){r=l;continue}if(e(r,l)){const u=hK(n,t,r,l);return{positions:rf(t,a),breakType:u,breakAt:v.some(l)}}a.push(l),r=l}return{positions:rf(t,a),breakType:no.Eol,breakAt:v.none()}},zx=(e,t,n,s)=>t(n,s).breakAt.map(o=>{const r=t(n,o).positions;return e===tn.Backwards?r.concat(o):[o].concat(r)}).getOr([]),dh=(e,t)=>le(e,(n,s)=>n.fold(()=>v.some(s),o=>gn(Jt(o.getClientRects()),Jt(s.getClientRects()),(r,a)=>{const l=Math.abs(t-r.left);return Math.abs(t-a.left)<=l?s:o}).or(n)),v.none()),af=(e,t)=>Jt(t.getClientRects()).bind(n=>dh(e,n.left)),Hc=ye(Hx,z.isAbove,-1),zc=ye(Hx,z.isBelow,1),Vx=ye(zx,-1,Hc),jx=ye(zx,1,zc),Wx=(e,t)=>Hc(e,t).breakAt.isNone(),Kx=(e,t)=>zc(e,t).breakAt.isNone(),bK=e=>yn(e).map(t=>[t].concat(zc(e,t).positions)).getOr([]),yK=e=>hs(e).map(t=>Hc(e,t).positions.concat(t)).getOr([]),vK=(e,t)=>af(Vx(e,t),t),CK=(e,t)=>af(jx(e,t),t),EK=At,qx=(e,t)=>Math.abs(e.left-t),Gx=(e,t)=>Math.abs(e.right-t),wK=e=>Ai(e,"node"),Yx=(e,t)=>Ul(e,(n,s)=>{const o=Math.min(qx(n,t),Gx(n,t)),r=Math.min(qx(s,t),Gx(s,t));return r===o&&wK(s)&&EK(s.node)||r<o?s:n}),_K=e=>{const t=n=>Q(n,s=>{const o=Mr(s);return o.node=e,o});if(Se(e))return t(e.getClientRects());if(ne(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Xx=e=>nt(e,_K);var Vc;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Vc||(Vc={}));const SK=(e,t,n,s)=>{let o=s;for(;o=bc(o,e,Jv,t);)if(n(o))return},Zx=(e,t,n,s,o,r)=>{let a=0;const l=[],u=g=>{let y=Xx([g]);e===-1&&(y=y.reverse());for(let w=0;w<y.length;w++){const _=y[w];if(!n(_,d)){if(l.length>0&&t(_,Er(l))&&a++,_.line=a,o(_))return!0;l.push(_)}}return!1},d=Er(r.getClientRects());if(!d)return l;const m=r.getNode();return m&&(u(m),SK(e,s,u,m)),l},xK=(e,t)=>t.line>e,kK=(e,t)=>t.line===e,NK=ye(Zx,Vc.Up,lc,uc),TK=ye(Zx,Vc.Down,uc,lc),Jx=e=>Er(e.getClientRects()),AK=(e,t,n,s)=>{const o=Zs(t);let r,a,l,u;const d=[];let m=0;e===1?(r=o.next,a=uc,l=lc,u=z.after(s)):(r=o.prev,a=lc,l=uc,u=z.before(s));const g=Jx(u);do{if(!u.isVisible())continue;const y=Jx(u);if(l(y,g))continue;d.length>0&&a(y,Er(d))&&m++;const w=Mr(y);if(w.position=u,w.line=m,n(w))return d;d.push(w)}while(u=r(u));return d},Qx=e=>t=>xK(e,t),ph=e=>t=>kK(e,t),xo=(e,t)=>{e.selection.setRng(t),kc(e,e.selection.getRng())},mh=(e,t,n)=>v.some(sh(e,t,n)),ek=(e,t,n,s,o,r)=>{const a=t===tn.Forwards,l=Zs(e.getBody()),u=ye(am,a?l.next:l.prev),d=a?s:o;if(!n.collapsed){const _=du(n);if(r(_))return So(t,e,_,t===tn.Backwards,!1);if(ih(e)){const E=n.cloneRange();return E.collapse(t===tn.Backwards),v.from(E)}}const m=Cc(t,e.getBody(),n);if(d(m))return Uc(e,m.getNode(!a));let g=u(m);const y=Yv(n);if(g)g=os(a,g);else return y?v.some(n):v.none();if(d(g))return So(t,e,g.getNode(!a),a,!1);const w=u(g);return w&&d(w)&&Cu(g,w)?So(t,e,w.getNode(!a),a,!1):y?mh(e,g.toRange(),!1):v.none()},tk=(e,t,n,s,o,r)=>{const a=Cc(t,e.getBody(),n),l=Er(a.getClientRects()),u=t===Vc.Down,d=e.getBody();if(!l)return v.none();if(ih(e)){const S=u?z.fromRangeEnd(n):z.fromRangeStart(n);return(u?CK:vK)(d,S).orThunk(()=>v.from(S)).map(O=>O.toRange())}const g=(u?TK:NK)(d,Qx(1),a),y=J(g,ph(1)),w=l.left,_=Yx(y,w);if(_&&r(_.node)){const S=Math.abs(w-_.left),T=Math.abs(w-_.right);return So(t,e,_.node,S<T,!1)}let E;if(s(a)?E=a.getNode():o(a)?E=a.getNode(!0):E=du(n),E){const S=AK(t,d,Qx(1),E);let T=Yx(J(S,ph(1)),w);if(T||(T=Er(J(S,ph(0))),T))return mh(e,T.position.toRange(),!1)}return y.length===0?gh(e,u).filter(u?o:s).map(S=>sh(e,S.toRange(),!1)):v.none()},gh=(e,t)=>{const n=e.selection.getRng(),s=t?z.fromRangeEnd(n):z.fromRangeStart(n),o=_F(s.container(),e.getBody());if(t){const r=zc(o,s);return Hs(r.positions)}else{const r=Hc(o,s);return Jt(r.positions)}},nk=(e,t,n)=>gh(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),cf=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},sk=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},ok=(e,t,n)=>lh(t,n).map(s=>(cf(e,s),n)),RK=(e,t,n)=>{const s=z.fromRangeStart(e);if(e.collapsed)return s;{const o=z.fromRangeEnd(e);return n?Fn(t,o).getOr(o):An(t,s).getOr(s)}},PK=(e,t,n)=>{const s=e.getBody(),o=RK(e.selection.getRng(),s,n),r=ye(Yr,e);return dK(n,r,s,o).bind(l=>ok(e,t,l))},OK=(e,t,n)=>{const s=Q(hn(k.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),a=>a.dom),o=J(s,e),r=J(n,e);R(Ut(o,r),ye(sk,!1)),R(Ut(r,o),ye(sk,!0))},DK=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=z.fromRangeStart(e.selection.getRng());z.isTextPosition(s)&&!TH(s)&&(cf(e,fF(n,s)),t.set(null))}},BK=(e,t,n,s)=>{if(t.selection.isCollapsed()){const o=J(s,e);R(o,r=>{const a=z.fromRangeStart(t.selection.getRng());to(e,t.getBody(),a).bind(l=>ok(t,n,l))})}},rk=(e,t,n)=>mc(e)?PK(e,t,n).isSome():!1,ik=(e,t,n)=>mc(t)?mK(e,t):!1,IK=e=>{const t=en(null),n=ye(Yr,e);return e.on("NodeChange",s=>{mc(e)&&(OK(n,e.dom,s.parents),DK(e,t),BK(n,e,t,s.parents))}),t},$K=ye(ik,!0),FK=ye(ik,!1),lf=(e,t,n)=>{if(mc(e)){const s=gh(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?z.fromRangeEnd(o):z.fromRangeStart(o)});return to(ye(Yr,e),e.getBody(),s).exists(o=>{const r=of(o);return lh(n,r).exists(a=>(cf(e,a),!0))})}else return!1},LK=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},MK=e=>gn(yn(e),hs(e),(t,n)=>{const s=os(!0,t),o=os(!1,n);return An(e,s).forall(r=>r.isEqual(o))}).getOr(!0),ak=(e,t)=>n=>lh(t,n).map(s=>()=>cf(e,s)),ck=(e,t,n,s)=>{const o=e.getBody(),r=ye(Yr,e);e.undoManager.ignore(()=>{e.selection.setRng(LK(n,s)),eg(e),to(r,o,z.fromRangeStart(e.selection.getRng())).map(fh).bind(ak(e,t)).each(vr)}),e.nodeChanged()},UK=(e,t)=>{const n=qo(t,e);return n||e},HK=(e,t,n,s)=>{const o=UK(e.getBody(),s.container()),r=ye(Yr,e),a=to(r,o,s);return a.bind(u=>n?u.fold(G(v.some(fh(u))),v.none,G(v.some(of(u))),v.none):u.fold(v.none,G(v.some(of(u))),v.none,G(v.some(fh(u))))).map(ak(e,t)).getOrThunk(()=>{const u=qi(n,o,s),d=u.bind(m=>to(r,o,m));return gn(a,d,()=>Qo(r,o,s).bind(m=>MK(m)?v.some(()=>{Gr(e,n,k.fromDom(m))}):v.none())).getOrThunk(()=>d.bind(()=>u.map(m=>()=>{n?ck(e,t,s,m):ck(e,t,m,s)})))})},hh=(e,t,n)=>{if(e.selection.isCollapsed()&&mc(e)){const s=z.fromRangeStart(e.selection.getRng());return HK(e,t,n,s)}return v.none()},zK=e=>rp(e)>1,lk=(e,t)=>{const n=k.fromDom(e.getBody()),s=k.fromDom(e.selection.getStart()),o=_o(s,n);return Ke(o,t).fold(G(o),r=>o.slice(0,r))},VK=e=>rp(e)===1,jK=e=>lk(e,t=>e.schema.isBlock(it(t))||zK(t)),WK=e=>lk(e,t=>e.schema.isBlock(it(t))),uk=(e,t)=>{const n=ye(S0,e);return nt(t,s=>n(s)?[s.dom]:[])},fk=e=>{const t=WK(e);return uk(e,t)},KK=(e,t,n,s)=>{const o=uk(t,s);if(o.length===0)Gr(t,e,n);else{const r=_0(n.dom,o);t.selection.setRng(r.toRange())}},qK=(e,t)=>{const n=J(jK(e),VK);return Hs(n).bind(s=>{const o=z.fromRangeStart(e.selection.getRng());return Y_(t,o,s.dom)&&!xm(s)?v.some(()=>KK(t,e,s,n)):v.none()})},GK=(e,t)=>{const n=t.parentElement;return Mt(t)&&!ke(n)&&e.dom.isEmpty(n)},YK=e=>xm(k.fromDom(e)),dk=(e,t)=>{const n=e.selection.getStart(),s=GK(e,n)||YK(n)?_0(n,t):EV(e.selection.getRng(),t);e.selection.setRng(s.toRange())},XK=(e,t)=>{const n=Ut(t,fk(e));n.length>0&&dk(e,n)},pk=e=>ne(e.startContainer),ZK=e=>e.startOffset===0&&pk(e),JK=(e,t)=>{const n=t.startContainer.parentElement;return!ke(n)&&S0(e,k.fromDom(n))},QK=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!ke(t)&&!ke(n)&&t.isEqualNode(n)},e8=e=>{const t=e.endContainer;return e.endOffset===(ne(t)?t.length:t.childNodes.length)},t8=e=>QK(e)&&e8(e),n8=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),s8=e=>t8(e)||n8(e),o8=e=>{const t=e.selection.getRng();return ZK(t)&&JK(e,t)&&s8(t)},r8=e=>{if(o8(e)){const t=fk(e);return v.some(()=>{eg(e),XK(e,t)})}else return v.none()},bh=(e,t)=>e.selection.isCollapsed()?qK(e,t):r8(e),i8=(e,t)=>DH(e,n=>es(n.dom),n=>t.isBlock(it(n))),a8=e=>i8(k.fromDom(e.selection.getStart()),e.schema),c8=e=>{const t=e.selection.getRng();return t.collapsed&&(pk(t)||e.dom.isEmpty(t.startContainer))&&!a8(e)},jc=e=>(c8(e)&&dk(e,[]),!0),yh=(e,t,n)=>q(n)?v.some(()=>{e._selectionOverrides.hideFakeCaret(),Gr(e,t,k.fromDom(n))}):v.none(),l8=(e,t)=>{const n=t?Nc:Tc,s=t?tn.Forwards:tn.Backwards,o=Cc(s,e.getBody(),e.selection.getRng());return n(o)?yh(e,t,o.getNode(!t)):v.from(os(t,o)).filter(r=>n(r)&&Cu(o,r)).bind(r=>yh(e,t,r.getNode(!t)))},u8=(e,t)=>{const n=e.selection.getNode();return qs(n)?yh(e,t,n):v.none()},vh=(e,t)=>e.selection.isCollapsed()?l8(e,t):u8(e,t),f8=e=>xr(e,t=>ms(t.dom)||At(t.dom)).exists(t=>ms(t.dom)),Ch=e=>Hl(e!=null?e:"").getOr(0),mk=(e,t)=>{const n=e||l1(t)?"margin":"padding",s=Ks(t,"direction")==="rtl"?"-right":"-left";return n+s},d8=(e,t,n,s,o,r)=>{const a=mk(n,k.fromDom(r)),l=Ch(e.getStyle(r,a));if(t==="outdent"){const u=Math.max(0,l-s);e.setStyle(r,a,u?u+o:"")}else{const u=l+s+o;e.setStyle(r,a,u)}},p8=(e,t)=>Ct(t,n=>{const s=mk(yE(e),n),o=ql(n,s).map(Ch).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&o>0}),gk=e=>{const t=bk(e);return!e.mode.isReadOnly()&&(t.length>1||p8(e,t))},hk=e=>yp(e)||Xa(e),m8=e=>ps(e).exists(hk),bk=e=>J(up(e.selection.getSelectedBlocks()),t=>!hk(t)&&!m8(t)&&f8(t)),yk=(e,t)=>{var n,s;const{dom:o}=e,r=t$(e),a=(s=(n=/[a-z%]+$/i.exec(r))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",l=Ch(r),u=yE(e);R(bk(e),d=>{d8(o,t,u,l,a,d.dom)})},g8=e=>yk(e,"indent"),vk=e=>yk(e,"outdent"),Ck=e=>{if(e.selection.isCollapsed()&&gk(e)){const t=e.dom,n=e.selection.getRng(),s=z.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(o!==null&&qm(k.fromDom(o),s,e.schema))return v.some(()=>vk(e))}return v.none()},Ek=(e,t,n)=>En([Ck,ah,oh,(s,o)=>hh(s,t,o),th,lg,ch,vh,nh,bh],s=>s(e,n)).filter(s=>e.selection.isEditable()),h8=(e,t)=>{Ek(e,t,!1).fold(()=>{e.selection.isEditable()&&(eg(e),tg(e))},vr)},b8=(e,t)=>{Ek(e,t,!0).fold(()=>{e.selection.isEditable()&&RH(e)},vr)},y8=(e,t)=>{e.addCommand("delete",()=>{h8(e,t)}),e.addCommand("forwardDelete",()=>{b8(e,t)})},wk=5,v8=400,_k=e=>e.touches===void 0||e.touches.length!==1?v.none():v.some(e.touches[0]),C8=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>wk||s>wk},E8=e=>{const t=jo(),n=en(!1),s=zp(o=>{e.dispatch("longpress",yt(Oe({},o),{type:"longpress"})),n.set(!0)},v8);e.on("touchstart",o=>{_k(o).each(r=>{s.cancel();const a={x:r.clientX,y:r.clientY,target:o.target};s.throttle(o),n.set(!1),t.set(a)})},!0),e.on("touchmove",o=>{s.cancel(),_k(o).each(r=>{t.on(a=>{C8(r,a)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",o=>{s.cancel(),o.type!=="touchcancel"&&t.get().filter(r=>r.target.isEqualNode(o.target)).each(()=>{n.get()?o.preventDefault():e.dispatch("tap",yt(Oe({},o),{type:"tap"}))})},!0)},Eh=(e,t)=>je(e,t.nodeName),w8=(e,t)=>ne(t)?!0:Se(t)?!Eh(e.getBlockElements(),t)&&!ts(t)&&!Dr(e,t)&&!_p(t):!1,_8=(e,t,n)=>Z(k_(k.fromDom(n),k.fromDom(t)),s=>Eh(e,s.dom)),S8=(e,t)=>{if(ne(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Eh(e,t.nextSibling)||_p(t.nextSibling)}return!1},Sk=e=>e.dom.create(bn(e),pc(e)),x8=e=>{const t=e.dom,n=e.selection,s=e.schema,o=s.getBlockElements(),r=n.getStart(),a=e.getBody();let l,u,d=!1;const m=bn(e);if(!r||!Se(r))return;const g=a.nodeName.toLowerCase();if(!s.isValidChild(g,m.toLowerCase())||_8(o,a,r))return;const y=n.getRng(),{startContainer:w,startOffset:_,endContainer:E,endOffset:S}=y,T=qr(e);let O=a.firstChild;for(;O;)if(Se(O)&&q1(s,O),w8(s,O)){if(S8(o,O)){u=O,O=O.nextSibling,t.remove(u);continue}l||(l=Sk(e),a.insertBefore(l,O),d=!0),u=O,O=O.nextSibling,l.appendChild(u)}else l=null,O=O.nextSibling;d&&T&&(y.setStart(w,_),y.setEnd(E,S),n.setRng(y),e.nodeChanged())},xk=(e,t,n)=>{const s=k.fromDom(Sk(e)),o=Ja();Kt(s,o),n(t,s);const r=document.createRange();return r.setStartBefore(o.dom),r.setEndBefore(o.dom),r},k8=e=>{e.on("NodeChange",ye(x8,e))},kk=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,N8=(e,t,n)=>function(s){const o=arguments,r=o[o.length-2],a=r>0?t.charAt(r-1):"";if(a==='"')return s;if(a===">"){const l=t.lastIndexOf("<",r);if(l!==-1&&t.substring(l,r).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode(typeof o[1]=="string"?o[1]:o[0])+"</span>"},T8=(e,t,n)=>{let s=t.length,o=n.content;if(n.format!=="raw"){for(;s--;)o=o.replace(t[s],N8(e,o,xE(e)));n.content=o}},A8=e=>{const t="contenteditable",n=" "+ie.trim(q$(e))+" ",s=" "+ie.trim(xE(e))+" ",o=kk(n),r=kk(s),a=G$(e);a.length>0&&e.on("BeforeSetContent",l=>{T8(e,a,l)}),e.parser.addAttributeFilter("class",l=>{let u=l.length;for(;u--;){const d=l[u];o(d)?d.attr(t,"true"):r(d)&&d.attr(t,"false")}}),e.serializer.addAttributeFilter(t,l=>{let u=l.length;for(;u--;){const d=l[u];!o(d)&&!r(d)||(a.length>0&&d.attr("data-mce-content")?(d.name="#text",d.type=3,d.raw=!0,d.value=d.attr("data-mce-content")):d.attr(t,null))}})},R8=e=>Wa(k.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Nk=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Ep(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},P8=(e,t)=>{const n=R8(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Nk(e,n);return}Gv(n)&&(Nk(e,n),e.undoManager.add())}},O8=e=>{e.on("keyup compositionstart",ye(P8,e))},Tk=At,D8=(e,t,n)=>ek(t,e,n,Zo,Jo,Tk),B8=(e,t,n)=>tk(t,e,n,r=>Zo(r)||S_(r),r=>Jo(r)||x_(r),Tk),I8=e=>{const t=e.dom.create(bn(e));return t.innerHTML='<br data-mce-bogus="1">',t},Ak=(e,t,n)=>{const s=Zs(e.getBody()),o=ye(am,t===1?s.next:s.prev);if(n.collapsed){const r=e.dom.getParent(n.startContainer,"PRE");if(!r)return;if(!o(z.fromRangeStart(n))){const l=k.fromDom(I8(e));t===1?bo(k.fromDom(r),l):$n(k.fromDom(r),l),e.selection.select(l.dom,!0),e.selection.collapse()}}},$8=(e,t)=>{const n=t?tn.Forwards:tn.Backwards,s=e.selection.getRng();return D8(n,e,s).orThunk(()=>(Ak(e,n,s),v.none()))},F8=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return B8(n,e,s).orThunk(()=>(Ak(e,n,s),v.none()))},L8=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return W_(n)?!t:t},Rk=(e,t)=>$8(e,L8(e.selection,t)).exists(n=>(xo(e,n),!0)),Pk=(e,t)=>F8(e,t).exists(n=>(xo(e,n),!0)),Ok=(e,t)=>nk(e,t,t?Jo:Zo),uf=(e,t)=>rh(e,!t).map(n=>{const s=n.toRange(),o=e.selection.getRng();return t?s.setStart(o.startContainer,o.startOffset):s.setEnd(o.endContainer,o.endOffset),s}).exists(n=>(xo(e,n),!0)),M8=e=>I(["figcaption"],it(e)),U8=(e,t,n)=>{const s=ye(ft,t);return xr(k.fromDom(e.container()),o=>n.isBlock(it(o)),s).filter(M8)},H8=(e,t,n)=>t?Kx(e.dom,n):Wx(e.dom,n),z8=(e,t)=>{const n=k.fromDom(e.getBody()),s=z.fromRangeStart(e.selection.getRng());return U8(s,n,e.schema).exists(()=>{if(H8(n,t,s)){const r=xk(e,n,t?Kt:lp);return e.selection.setRng(r),!0}else return!1})},Dk=(e,t)=>e.selection.isCollapsed()?z8(e,t):!1,V8=(e,t,n)=>{const s=e.selection.getRng(),o=z.fromRangeStart(s);return e.getBody().firstChild===t&&Wx(n,o)?(e.execCommand("InsertNewBlockBefore"),!0):!1},j8=(e,t)=>{const n=e.selection.getRng(),s=z.fromRangeStart(n);return e.getBody().lastChild===t&&Kx(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},W8=(e,t)=>t?v.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>j8(e,n)).getOr(!1):v.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>v.from(e.dom.getParent(n,"details")).map(s=>V8(e,s,n))).getOr(!1),Bk=(e,t)=>W8(e,t),Ik={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},K8=e=>Q(e,t=>Oe(Oe({},Ik),t)),q8=e=>Q(e,t=>Oe(Oe({},Ik),t)),$k=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,G8=(e,t)=>nt(K8(e),n=>$k(n,t)?[n]:[]),Y8=(e,t)=>nt(q8(e),n=>$k(n,t)?[n]:[]),Me=(e,...t)=>()=>e.apply(null,t),Wc=(e,t)=>Pe(G8(e,t),n=>n.action()),Fk=(e,t)=>En(Y8(e,t),n=>n.action()),Lk=(e,t)=>{const n=t?tn.Forwards:tn.Backwards,s=e.selection.getRng();return ek(e,n,s,Nc,Tc,qs).exists(o=>(xo(e,o),!0))},Mk=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return tk(e,n,s,Nc,Tc,qs).exists(o=>(xo(e,o),!0))},Uk=(e,t)=>nk(e,t,t?Tc:Nc),Hk=Gs.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),X8=e=>Hk.none(e),Kc=yt(Oe({},Hk),{none:X8}),Z8=(e,t)=>zk(e,t,Et),zk=(e,t,n)=>nt(cn(e),s=>Ns(s,t)?n(s)?[s]:[]:zk(s,t,n)),J8=(e,t,n=Ot)=>{if(n(t))return v.none();if(I(e,it(t)))return v.some(t);const s=o=>Ns(o,"table")||n(o);return ja(t,e.join(","),s)},Q8=(e,t)=>J8(["td","th"],e,t),eq=e=>Z8(e,"th,td"),Vk=(e,t)=>kr(e,"table",t),wh=(e,t,n,s,o=Et)=>{const r=s===1;if(!r&&n<=0)return Kc.first(e[0]);if(r&&n>=e.length-1)return Kc.last(e[e.length-1]);{const a=n+s,l=e[a];return o(l)?Kc.middle(t,l):wh(e,t,a,s,o)}},jk=(e,t)=>Vk(e,t).bind(n=>{const s=eq(n);return Ke(s,r=>ft(e,r)).map(r=>({index:r,all:s}))}),tq=(e,t,n)=>jk(e,n).fold(()=>Kc.none(e),o=>wh(o.all,e,o.index,1,t)),nq=(e,t,n)=>jk(e,n).fold(()=>Kc.none(),o=>wh(o.all,e,o.index,-1,t)),sq=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),oq=(e,t)=>nt(t,n=>{const s=sq(Mr(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),rq=(e,t,n)=>le(e,(s,o)=>s.fold(()=>v.some(o),r=>{const a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n)),l=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return v.some(l<a?o:r)}),v.none()),Wk=(e,t,n,s,o)=>{const r=hn(k.fromDom(n),"td,th,caption").map(l=>l.dom),a=J(oq(e,r),l=>t(l,o));return rq(a,s,o).map(l=>l.cell)},iq=e=>e.bottom,aq=e=>e.top,cq=(e,t)=>e.y<t,lq=(e,t)=>e.y>t,uq=ye(Wk,iq,cq),fq=ye(Wk,aq,lq),dq=(e,t)=>Jt(t.getClientRects()).bind(n=>uq(e,n.left,n.top)).bind(n=>af(yK(n),t)),pq=(e,t)=>Hs(t.getClientRects()).bind(n=>fq(e,n.left,n.top)).bind(n=>af(bK(n),t)),mq=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),gq=e=>e.breakType===no.Wrap&&e.positions.length===0,hq=e=>e.breakType===no.Br&&e.positions.length===1,Kk=(e,t,n)=>{const s=e(t,n);return gq(s)||!Mt(n.getNode())&&hq(s)?!mq(e,t,s):s.breakAt.isNone()},bq=ye(Kk,Hc),yq=ye(Kk,zc),vq=(e,t,n)=>{const s=z.fromRangeStart(t);return Gi(!e,n).exists(o=>o.isEqual(s))},Cq=(e,t,n,s)=>{const o=e.selection.getRng(),r=t?1:-1;return DE()&&vq(t,o,n)?(So(r,e,n,!t,!1).each(a=>{xo(e,a)}),!0):!1},Eq=(e,t,n)=>dq(t,n).orThunk(()=>Jt(n.getClientRects()).bind(s=>dh(Vx(e,z.before(t)),s.left))).getOr(z.before(t)),wq=(e,t,n)=>pq(t,n).orThunk(()=>Jt(n.getClientRects()).bind(s=>dh(jx(e,z.after(t)),s.left))).getOr(z.after(t)),qk=(e,t)=>{const n=t.getNode(e);return Co(n)?v.some(n):v.none()},_q=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?bo:$n,o=xk(t,k.fromDom(n),s);xo(t,o)})},Gk=(e,t,n)=>{const s=qk(!!t,n),o=t===!1;s.fold(()=>xo(e,n.toRange()),r=>Gi(o,e.getBody()).filter(a=>a.isEqual(n)).fold(()=>xo(e,n.toRange()),a=>_q(t,e,r)))},Sq=(e,t,n,s)=>{const o=e.selection.getRng(),r=z.fromRangeStart(o),a=e.getBody();if(!t&&bq(s,r)){const l=Eq(a,n,r);return Gk(e,t,l),!0}else if(t&&yq(s,r)){const l=wq(a,n,r);return Gk(e,t,l),!0}else return!1},Yk=(e,t,n)=>v.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>v.from(e.dom.getParent(s,"table")).map(o=>n(e,t,o,s))).getOr(!1),Xk=(e,t)=>Yk(e,t,Cq),_h=(e,t)=>Yk(e,t,Sq),xq=e=>{const t=Qi.exact(e,0,e,0);return lM(t)},Zk=(e,t,n)=>n.fold(v.none,v.none,(s,o)=>gU(o).map(r=>xq(r)),s=>(e.execCommand("mceTableInsertRowAfter"),Jk(e,t,s))),Jk=(e,t,n)=>Zk(e,t,tq(n,Nr)),kq=(e,t,n)=>Zk(e,t,nq(n,Nr)),Qk=(e,t)=>{const n=["table","li","dl"],s=k.fromDom(e.getBody()),o=l=>{const u=it(l);return ft(l,s)||I(n,u)},r=e.selection.getRng(),a=k.fromDom(t?r.endContainer:r.startContainer);return Q8(a,o).map(l=>(Vk(l,o).each(m=>{e.model.table.clearSelectedCells(m.dom)}),e.selection.collapse(!t),(t?Jk:kq)(e,o,l).each(m=>{e.selection.setRng(m)}),!0)).getOr(!1)},Nq=(e,t,n)=>{const s=at.os.isMacOS()||at.os.isiOS();Wc([{keyCode:me.RIGHT,action:Me(Rk,e,!0)},{keyCode:me.LEFT,action:Me(Rk,e,!1)},{keyCode:me.UP,action:Me(Pk,e,!1)},{keyCode:me.DOWN,action:Me(Pk,e,!0)},...s?[{keyCode:me.UP,action:Me(uf,e,!1),metaKey:!0,shiftKey:!0},{keyCode:me.DOWN,action:Me(uf,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:me.RIGHT,action:Me(Xk,e,!0)},{keyCode:me.LEFT,action:Me(Xk,e,!1)},{keyCode:me.UP,action:Me(_h,e,!1)},{keyCode:me.DOWN,action:Me(_h,e,!0)},{keyCode:me.UP,action:Me(_h,e,!1)},{keyCode:me.UP,action:Me(Bk,e,!1)},{keyCode:me.DOWN,action:Me(Bk,e,!0)},{keyCode:me.RIGHT,action:Me(Lk,e,!0)},{keyCode:me.LEFT,action:Me(Lk,e,!1)},{keyCode:me.UP,action:Me(Mk,e,!1)},{keyCode:me.DOWN,action:Me(Mk,e,!0)},{keyCode:me.RIGHT,action:Me(rk,e,t,!0)},{keyCode:me.LEFT,action:Me(rk,e,t,!1)},{keyCode:me.RIGHT,ctrlKey:!s,altKey:s,action:Me($K,e,t)},{keyCode:me.LEFT,ctrlKey:!s,altKey:s,action:Me(FK,e,t)},{keyCode:me.UP,action:Me(Dk,e,!1)},{keyCode:me.DOWN,action:Me(Dk,e,!0)}],n).each(o=>{n.preventDefault()})},Tq=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Nq(e,t,n)})},Bs=(e,t)=>({container:e,offset:t}),ff=_t.DOM,df=e=>t=>e===t?-1:0,Aq=e=>t=>e.isBlock(t)||I(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Sh=(e,t,n)=>{if(ne(e)&&t>=0)return v.some(Bs(e,t));{const s=Lr(ff);return v.from(s.backwards(e,t,df(e),n)).map(o=>Bs(o.container,o.container.data.length))}},Rq=(e,t,n)=>{if(ne(e)&&t>=e.length)return v.some(Bs(e,t));{const s=Lr(ff);return v.from(s.forwards(e,t,df(e),n)).map(o=>Bs(o.container,0))}},xh=(e,t,n)=>{if(!ne(e))return v.none();const s=e.data;if(t>=0&&t<=s.length)return v.some(Bs(e,t));{const o=Lr(ff);return v.from(o.backwards(e,t,df(e),n)).bind(r=>{const a=r.container.data;return xh(r.container,t+a.length,n)})}},eN=(e,t,n)=>{if(!ne(e))return v.none();const s=e.data;if(t<=s.length)return v.some(Bs(e,t));{const o=Lr(ff);return v.from(o.forwards(e,t,df(e),n)).bind(r=>eN(r.container,t-s.length,n))}},kh=(e,t,n,s,o)=>{const r=Lr(e,Aq(e));return v.from(r.backwards(t,n,s,o))},Pq=e=>e.collapsed&&ne(e.startContainer),tN=e=>jn(e.toString().replace(/\u00A0/g," ")),nN=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Nh=(e,t)=>e.substring(t.length),Oq=(e,t,n)=>{let s;const o=n.charAt(0);for(s=t-1;s>=0;s--){const r=e.charAt(s);if(nN(r))return v.none();if(o===r&&mn(e,n,s,t))break}return v.some(s)},Dq=(e,t,n,s=0)=>{if(!Pq(t))return v.none();const o={text:"",offset:0},r=(l,u,d)=>(o.text=d+o.text,o.offset+=u,Oq(o.text,o.offset,n).getOr(u)),a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return kh(e,t.startContainer,t.startOffset,r,a).bind(l=>{const u=t.cloneRange();if(u.setStart(l.container,l.offset),u.setEnd(t.endContainer,t.endOffset),u.collapsed)return v.none();const d=tN(u);return d.lastIndexOf(n)!==0||Nh(d,n).length<s?v.none():v.some({text:Nh(d,n),range:u,trigger:n})})},sN=(e,t,n,s=0)=>vU(k.fromDom(t.startContainer)).fold(()=>Dq(e,t,n,s),o=>{const r=e.createRng();r.selectNode(o.dom);const a=tN(r);return v.some({range:r,text:Nh(a,n),trigger:n})}),Bq=e=>e.nodeType===dv,Iq=e=>e.nodeType===Fa,oN=e=>{if(Bq(e))return Bs(e,e.data.length);{const t=e.childNodes;return t.length>0?oN(t[t.length-1]):Bs(e,t.length)}},rN=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?rN(n[t],0):n.length>0&&Iq(e)&&n.length===t?oN(n[n.length-1]):Bs(e,t)},$q=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return kh(e,t.container,t.offset,(o,r)=>r===0?-1:r,s).filter(o=>{const r=o.container.data.charAt(o.offset-1);return!nN(r)}).isSome()},Fq=e=>t=>{const n=rN(t.startContainer,t.startOffset);return!$q(e,n)},Lq=(e,t,n)=>En(n.triggers,s=>sN(e,t,s)),Mq=(e,t)=>{const n=t(),s=e.selection.getRng();return Lq(e.dom,s,n).bind(o=>iN(e,t,o))},iN=(e,t,n,s={})=>{var o;const r=t(),l=(o=e.selection.getRng().startContainer.nodeValue)!==null&&o!==void 0?o:"",u=J(r.lookupByTrigger(n.trigger),m=>n.text.length>=m.minChars&&m.matches.getOrThunk(()=>Fq(e.dom))(n.range,l,n.text));if(u.length===0)return v.none();const d=Promise.all(Q(u,m=>m.fetch(n.text,m.maxResults,s).then(y=>({matchText:n.text,items:y,columns:m.columns,onAction:m.onAction,highlightOn:m.highlightOn}))));return v.some({lookupData:d,context:n})};var Is;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Is||(Is={}));const Th=(e,t,n)=>e.stype===Is.Error?t(e.serror):n(e.svalue),Uq=e=>{const t=[],n=[];return R(e,s=>{Th(s,o=>n.push(o),o=>t.push(o))}),{values:t,errors:n}},Hq=(e,t)=>e.stype===Is.Error?{stype:Is.Error,serror:t(e.serror)}:e,zq=(e,t)=>e.stype===Is.Value?{stype:Is.Value,svalue:t(e.svalue)}:e,Vq=(e,t)=>e.stype===Is.Value?t(e.svalue):e,jq=(e,t)=>e.stype===Is.Error?t(e.serror):e,aN=e=>({stype:Is.Value,svalue:e}),cN=e=>({stype:Is.Error,serror:e}),ln={fromResult:e=>e.fold(cN,aN),toResult:e=>Th(e,Tn.error,Tn.value),svalue:aN,partition:Uq,serror:cN,bind:Vq,bindError:jq,map:zq,mapError:Hq,fold:Th},Ah=e=>V(e)&&In(e).length>100?" removed due to size":JSON.stringify(e,null,2),Wq=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):e;return Q(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},pf=(e,t)=>ln.serror([{path:e,getErrorInfo:t}]),Kq=(e,t,n)=>pf(e,()=>'Could not find valid *required* value for "'+t+'" in '+Ah(n)),qq=(e,t)=>pf(e,()=>'Choice schema did not contain choice key: "'+t+'"'),Gq=(e,t,n)=>pf(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+Ah(t)),Yq=(e,t)=>pf(e,G(t)),Xq=(e,t,n,s)=>Nt(n,s).fold(()=>Gq(e,n,s),r=>r.extract(e.concat(["branch: "+s]),t)),Zq=(e,t)=>({extract:(o,r)=>Nt(r,e).fold(()=>qq(o,e),l=>Xq(o,r,t,l)),toString:()=>"chooseOn("+e+"). Possible values: "+In(t)}),Jq=(e,t)=>t,Qq=(e,t)=>ee(e)&&ee(t)?mf(e,t):t,lN=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const r in o)je(o,r)&&(n[r]=e(n[r],o[r]))}return n},mf=lN(Qq),e4=lN(Jq),uN=()=>({tag:"required",process:{}}),t4=e=>({tag:"defaultedThunk",process:e}),fN=e=>t4(G(e)),n4=()=>({tag:"option",process:{}}),s4=(e,t)=>e.length>0?ln.svalue(mf(t,e4.apply(void 0,e))):ln.svalue(t),dN=e=>He(ln.serror,rt)(e),o4={consolidateObj:(e,t)=>{const n=ln.partition(e);return n.errors.length>0?dN(n.errors):s4(n.values,t)},consolidateArr:e=>{const t=ln.partition(e);return t.errors.length>0?dN(t.errors):ln.svalue(t.values)}},r4=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),i4=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),pN=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Rh=e=>{const t=(s,o)=>ln.bindError(e(o),r=>Yq(s,r)),n=G("val");return{extract:t,toString:n}},a4=Rh(ln.svalue),c4=(e,t,n,s)=>Nt(t,n).fold(()=>Kq(e,n,t),s),mN=(e,t,n,s)=>{const o=Nt(e,t).getOrThunk(()=>n(e));return s(o)},l4=(e,t,n)=>n(Nt(e,t)),u4=(e,t,n,s)=>{const o=Nt(e,t).map(r=>r===!0?n(e):r);return s(o)},f4=(e,t,n,s,o)=>{const r=l=>o.extract(t.concat([s]),l),a=l=>l.fold(()=>ln.svalue(v.none()),u=>{const d=o.extract(t.concat([s]),u);return ln.map(d,v.some)});switch(e.tag){case"required":return c4(t,n,s,r);case"defaultedThunk":return mN(n,s,e.process,r);case"option":return l4(n,s,a);case"defaultedOptionThunk":return u4(n,s,e.process,a);case"mergeWithThunk":return mN(n,s,G({}),l=>{const u=mf(e.process(n),l);return r(u)})}},d4=(e,t,n)=>{const s={},o=[];for(const r of n)pN(r,(a,l,u,d)=>{const m=f4(u,e,t,a,d);ln.fold(m,g=>{o.push(...g)},g=>{s[l]=g})},(a,l)=>{s[a]=l(t)});return o.length>0?ln.serror(o):ln.svalue(s)},Ph=e=>({extract:(s,o)=>d4(s,o,e),toString:()=>`obj{
`+Q(e,o=>pN(o,(r,a,l,u)=>r+" -> "+u.toString(),(r,a)=>"state("+r+")")).join(`
`)+"}"}),gN=e=>({extract:(s,o)=>{const r=Q(o,(a,l)=>e.extract(s.concat(["["+l+"]"]),a));return o4.consolidateArr(r)},toString:()=>"array("+e.toString()+")"}),p4=e=>Rh(t=>e(t).fold(ln.serror,ln.svalue)),m4=(e,t,n)=>{const s=t.extract([e],n);return ln.mapError(s,o=>({input:n,errors:o}))},g4=(e,t,n)=>ln.toResult(m4(e,t,n)),h4=e=>`Errors: 
`+Wq(e.errors).join(`
`)+`

Input object: `+Ah(e.input),hN=(e,t)=>Zq(e,Fl(t,Ph)),b4=G(a4),gf=(e,t)=>Rh(n=>{const s=typeof n;return e(n)?ln.svalue(n):ln.serror(`Expected type: ${t} but got: ${s}`)}),y4=gf(Ge,"number"),hf=gf(A,"string"),v4=gf(ve,"boolean"),Oh=gf(ce,"function"),qc=r4,bN=i4,C4=e=>p4(t=>I(e,t)?Tn.value(t):Tn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),yN=(e,t)=>qc(e,e,uN(),t),vN=e=>yN(e,hf),CN=e=>yN(e,Oh),E4=(e,t)=>qc(e,e,uN(),gN(t)),Dh=(e,t)=>qc(e,e,n4(),t),bf=e=>Dh(e,hf),w4=e=>Dh(e,Oh),_4=(e,t)=>qc(e,e,fN(t),b4()),aa=(e,t,n)=>qc(e,e,fN(t),n),EN=(e,t)=>aa(e,t,y4),S4=(e,t)=>aa(e,t,hf),wN=(e,t,n)=>aa(e,t,C4(n)),Bh=(e,t)=>aa(e,t,v4),Ih=(e,t)=>aa(e,t,Oh),x4=(e,t,n)=>aa(e,t,gN(n)),k4=vN("type"),N4=CN("fetch"),$h=CN("onAction"),T4=Ih("onSetup",()=>Be),A4=bf("text"),R4=bf("icon"),P4=bf("tooltip"),O4=bf("label"),D4=Bh("active",!1),B4=Bh("enabled",!0),_N=Bh("primary",!1),I4=e=>_4("columns",e),Gc=e=>S4("type",e),$4=Ph([k4,vN("trigger"),EN("minChars",1),I4(1),EN("maxResults",10),w4("matches"),N4,$h,x4("highlightOn",[],hf)]),F4=e=>g4("Autocompleter",$4,Oe({trigger:e.ch},e)),Fh=[B4,P4,R4,A4,T4],SN=[D4].concat(Fh),L4=[Ih("predicate",Ot),wN("scope","node",["node","editor"]),wN("position","selection",["node","selection","line"])],M4=Fh.concat([Gc("contextformbutton"),_N,$h,bN("original",Lt)]),U4=SN.concat([Gc("contextformbutton"),_N,$h,bN("original",Lt)]),H4=Fh.concat([Gc("contextformbutton")]),z4=SN.concat([Gc("contextformtogglebutton")]),V4=hN("type",{contextformbutton:M4,contextformtogglebutton:U4});Ph([Gc("contextform"),Ih("initValue",G("")),O4,E4("commands",V4),Dh("launch",hN("type",{contextformbutton:H4,contextformtogglebutton:z4}))].concat(L4));const j4=e=>{const t=e.ui.registry.getAll().popups,n=Fl(t,a=>F4(a).fold(l=>{throw new Error(h4(l))},Lt)),s=Oy(Ll(n,a=>a.trigger)),o=qd(n);return{dataset:n,triggers:s,lookupByTrigger:a=>J(o,l=>l.trigger===a)}},W4=(e,t)=>{const n=zp(t.load,50);e.on("keypress compositionend",s=>{s.which!==27&&n.throttle()}),e.on("keydown",s=>{const o=s.which;o===8?n.throttle():o===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},K4=e=>{const t=jo(),n=en(!1),s=t.isSet,o=()=>{s()&&(xW(e),BL(e),n.set(!1),t.clear())},r=d=>{s()||(SW(e,d.range),t.set({trigger:d.trigger,matchLength:d.text.length}))},a=wr(()=>j4(e)),l=d=>t.get().map(m=>sN(e.dom,e.selection.getRng(),m.trigger).bind(g=>iN(e,a,g,d))).getOrThunk(()=>Mq(e,a)),u=d=>{l(d).fold(o,m=>{r(m.context),m.lookupData.then(g=>{t.get().map(y=>{const w=m.context;y.trigger===w.trigger&&(w.text.length-y.matchLength>=10?o():(t.set(yt(Oe({},y),{matchLength:w.text.length})),n.get()?DL(e,{lookupData:g}):(n.set(!0),OL(e,{lookupData:g}))))})})})};e.addCommand("mceAutocompleterReload",(d,m)=>{const g=V(m)?m.fetchOptions:{};u(g)}),e.addCommand("mceAutocompleterClose",o),W4(e,{cancelIfNecessary:o,load:u})},q4=Vs().browser.isSafari(),xN=e=>Mo(k.fromDom(e)),kN=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},yf=(e,t)=>v.from(e.getParent(t.container(),"details")),NN=(e,t)=>yf(e,t).isSome(),G4=(e,t)=>{const n=v.from(e.getParent(t.startContainer,"details")),s=v.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const o=n.bind(r=>v.from(e.select("summary",r)[0]));return v.some({startSummary:o,startDetails:n,endDetails:s})}else return v.none()},Y4=(e,t)=>yn(t).exists(n=>n.isEqual(e)),X4=(e,t)=>hs(t).exists(n=>Mt(n.getNode())&&Fn(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),Z4=(e,t)=>t.startSummary.exists(n=>Y4(e,n)),J4=(e,t)=>t.startSummary.exists(n=>X4(e,n)),Q4=(e,t)=>t.startDetails.exists(n=>Fn(n,e).forall(s=>t.startSummary.exists(o=>!o.contains(e.container())&&o.contains(s.container())))),e5=(e,t,n)=>n.startDetails.exists(s=>An(e,t).forall(o=>!s.contains(o.container()))),TN=(e,t)=>{const n=t.getNode();Ee(n)||e.selection.setCursorLocation(n,t.offset())},AN=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const o=e.dom.select("summary",s)[0];o&&(n?yn(o):hs(o)).each(a=>TN(e,a))}else TN(e,t)},t5=(e,t)=>{const n=u=>u.contains(e.startContainer),s=u=>u.contains(e.endContainer),o=t.startSummary.exists(n),r=t.startSummary.exists(s),a=t.startDetails.forall(u=>t.endDetails.forall(d=>u!==d));return(o||r)&&!(o&&r)||a},RN=(e,t,n)=>{const{dom:s,selection:o}=e,r=e.getBody();if(n==="character"){const a=z.fromRangeStart(o.getRng()),l=s.getParent(a.container(),s.isBlock),u=yf(s,a),d=l&&s.isEmpty(l),m=ke(l==null?void 0:l.previousSibling),g=ke(l==null?void 0:l.nextSibling);return d&&(t?g:m)&&qi(!t,r,a).exists(_=>NN(s,_)&&!av(u,yf(s,_)))?!0:qi(t,r,a).fold(Ot,y=>{const w=yf(s,y);if(NN(s,y)&&!av(u,w)){if(t||AN(e,y,!1),l&&d){if(t&&m)return!0;if(!t&&g)return!0;AN(e,y,t),e.dom.remove(l)}return!0}else return!1})}else return!1},n5=(e,t,n,s)=>{const r=e.selection.getRng(),a=z.fromRangeStart(r),l=e.getBody();return s==="selection"?t5(r,t):n?J4(a,t)||e5(l,a,t):Z4(a,t)||Q4(a,t)},s5=(e,t,n)=>G4(e.dom,e.selection.getRng()).fold(()=>RN(e,t,n),s=>n5(e,s,t,n)||RN(e,t,n)),o5=(e,t,n)=>{const s=e.selection,o=s.getNode(),r=s.getRng(),a=z.fromRangeStart(r);return e1(o)?(n==="selection"&&kN(r,o)||Y_(t,a,o)?xN(o):e.undoManager.transact(()=>{const l=s.getSel();let{anchorNode:u,anchorOffset:d,focusNode:m,focusOffset:g}=l!=null?l:{};const y=()=>{q(u)&&q(d)&&q(m)&&q(g)&&(l==null||l.setBaseAndExtent(u,d,m,g))},w=()=>{u=l==null?void 0:l.anchorNode,d=l==null?void 0:l.anchorOffset,m=l==null?void 0:l.focusNode,g=l==null?void 0:l.focusOffset},_=(S,T)=>{R(S.childNodes,O=>{wc(O)&&T.appendChild(O)})},E=e.dom.create("span",{"data-mce-bogus":"1"});_(o,E),o.appendChild(E),y(),(n==="word"||n==="line")&&(l==null||l.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&kN(s.getRng(),E)?xN(o):(e.execCommand(t?"ForwardDelete":"Delete"),w(),_(E,o),y()),e.dom.remove(E)}),!0):!1},Qr=(e,t,n)=>s5(e,t,n)||q4&&o5(e,t,n)?v.some(Be):v.none(),PN=e=>(t,n,s={})=>{const o=t.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:Be,inputType:n},a=EC(new InputEvent(e));return t.dispatch(e,Oe(Oe(Oe({},a),r),s))},Yc=PN("input"),vf=PN("beforeinput"),ON=Vs(),DN=ON.os,BN=DN.isMacOS()||DN.isiOS(),r5=ON.browser.isFirefox(),i5=(e,t,n)=>{const s=n.keyCode===me.BACKSPACE?"deleteContentBackward":"deleteContentForward",o=e.selection.isCollapsed(),r=o?"character":"selection",a=l=>o?l?"word":"line":"selection";Fk([{keyCode:me.BACKSPACE,action:Me(Ck,e)},{keyCode:me.BACKSPACE,action:Me(ah,e,!1)},{keyCode:me.DELETE,action:Me(ah,e,!0)},{keyCode:me.BACKSPACE,action:Me(oh,e,!1)},{keyCode:me.DELETE,action:Me(oh,e,!0)},{keyCode:me.BACKSPACE,action:Me(hh,e,t,!1)},{keyCode:me.DELETE,action:Me(hh,e,t,!0)},{keyCode:me.BACKSPACE,action:Me(lg,e,!1)},{keyCode:me.DELETE,action:Me(lg,e,!0)},{keyCode:me.BACKSPACE,action:Me(Qr,e,!1,r)},{keyCode:me.DELETE,action:Me(Qr,e,!0,r)},...BN?[{keyCode:me.BACKSPACE,altKey:!0,action:Me(Qr,e,!1,a(!0))},{keyCode:me.DELETE,altKey:!0,action:Me(Qr,e,!0,a(!0))},{keyCode:me.BACKSPACE,metaKey:!0,action:Me(Qr,e,!1,a(!1))}]:[{keyCode:me.BACKSPACE,ctrlKey:!0,action:Me(Qr,e,!1,a(!0))},{keyCode:me.DELETE,ctrlKey:!0,action:Me(Qr,e,!0,a(!0))}],{keyCode:me.BACKSPACE,action:Me(ch,e,!1)},{keyCode:me.DELETE,action:Me(ch,e,!0)},{keyCode:me.BACKSPACE,action:Me(vh,e,!1)},{keyCode:me.DELETE,action:Me(vh,e,!0)},{keyCode:me.BACKSPACE,action:Me(nh,e,!1)},{keyCode:me.DELETE,action:Me(nh,e,!0)},{keyCode:me.BACKSPACE,action:Me(th,e,!1)},{keyCode:me.DELETE,action:Me(th,e,!0)},{keyCode:me.BACKSPACE,action:Me(bh,e,!1)},{keyCode:me.DELETE,action:Me(bh,e,!0)}],n).filter(l=>e.selection.isEditable()).each(l=>{n.preventDefault(),vf(e,s).isDefaultPrevented()||(l(),Yc(e,s))})},a5=(e,t,n)=>Wc([{keyCode:me.BACKSPACE,action:Me(Ax,e)},{keyCode:me.DELETE,action:Me(Ax,e)},...BN?[{keyCode:me.BACKSPACE,altKey:!0,action:Me(jc,e)},{keyCode:me.DELETE,altKey:!0,action:Me(jc,e)},...n?[{keyCode:r5?224:91,action:Me(jc,e)}]:[]]:[{keyCode:me.BACKSPACE,ctrlKey:!0,action:Me(jc,e)},{keyCode:me.DELETE,ctrlKey:!0,action:Me(jc,e)}]],t),c5=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===me.BACKSPACE,s.isDefaultPrevented()||i5(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||a5(e,s,n),n=!1})},l5=e=>{for(;e;){if(Se(e)||ne(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},ca=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const r=l5(t.firstChild);r&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(n.doc.createTextNode(Qt),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const r=new Yt(t,t);let a=t,l;for(;l=r.current();){if(ne(l)){o.setStart(l,0),o.setEnd(l,0);break}if(s[l.nodeName.toLowerCase()]){o.setStartBefore(l),o.setEndBefore(l);break}a=l,l=r.next()}l||(o.setStart(a,0),o.setEnd(a,0))}else Mt(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),kc(e,o)},Xc=(e,t)=>{const n=e.getRoot();let s,o=t;for(;o!==n&&o&&e.getContentEditable(o)!=="false";){if(e.getContentEditable(o)==="true"){s=o;break}o=o.parentNode}return o!==n?s:n},Lh=e=>v.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),u5=e=>Lh(e).fold(G(""),t=>t.nodeName.toUpperCase()),f5=e=>Lh(e).filter(t=>Xa(k.fromDom(t))).isSome(),Mh=e=>{e.innerHTML='<br data-mce-bogus="1">'},d5=(e,t,n)=>{const s=e.dom;v.from(n.style).map(s.parseStyle).each(u=>{const d=cp(k.fromDom(t)),m=Oe(Oe({},d),u);s.setStyles(t,m)});const o=v.from(n.class).map(u=>u.split(/\s+/)),r=v.from(t.className).map(u=>J(u.split(/\s+/),d=>d!==""));gn(o,r,(u,d)=>{const m=J(d,y=>!I(u,y)),g=[...u,...m];s.setAttrib(t,"class",g.join(" "))});const a=["style","class"],l=Da(n,(u,d)=>!I(a,d));s.setAttribs(t,l)},Zc=(e,t)=>{if(bn(e).toLowerCase()===t.tagName.toLowerCase()){const s=pc(e);d5(e,t,s)}},IN=(e,t,n,s,o=!0,r,a)=>{const l=e.dom,u=e.schema,d=bn(e),m=n?n.nodeName.toUpperCase():"";let g=t;const y=u.getTextInlineElements();let w;r||m==="TABLE"||m==="HR"?w=l.create(r||d,a||{}):w=n.cloneNode(!1);let _=w;if(!o)l.setAttrib(w,"style",null),l.setAttrib(w,"class",null);else do if(y[g.nodeName]){if(es(g)||ts(g))continue;const E=g.cloneNode(!1);l.setAttrib(E,"id",""),w.hasChildNodes()?(E.appendChild(w.firstChild),w.appendChild(E)):(_=E,w.appendChild(E))}while((g=g.parentNode)&&g!==s);return Zc(e,w),Mh(_),w},p5=(e,t)=>e.dom.getParent(t,gp),m5=(e,t,n)=>{let s=t;for(;s&&s!==e&&ke(s.nextSibling);){const o=s.parentElement;if(!o||!n(o))return gp(o);s=o}return!1},g5=(e,t,n)=>!t&&n.nodeName.toLowerCase()===bn(e)&&e.dom.isEmpty(n)&&m5(e.getBody(),n,s=>je(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),h5=(e,t,n)=>{var s,o,r;const a=t(bn(e)),l=p5(e,n);l&&(e.dom.insertAfter(a,l),ca(e,a),((r=(o=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0)>1&&e.dom.remove(n))},b5=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,y5=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},$N=(e,t)=>{const n=e==null?void 0:e.parentNode;return q(n)&&n.nodeName===t},FN=e=>q(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Uh=e=>q(e)&&/^(LI|DT|DD)$/.test(e.nodeName),v5=e=>FN(e)&&FN(e.parentNode),Cf=e=>{const t=e.parentNode;return Uh(t)?t:e},Ef=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!Se(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},LN=e=>le(Ll(cp(k.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),C5=(e,t,n,s,o)=>{const r=e.dom,a=e.selection.getRng(),l=n.parentNode;if(n===e.getBody()||!l)return;v5(n)&&(o="LI");const u=Uh(s)?LN(s):void 0;let d=Uh(s)&&u?t(o,{style:LN(s)}):t(o);if(Ef(n,s,!0)&&Ef(n,s,!1))if($N(n,"LI")){const m=Cf(n);r.insertAfter(d,m),y5(n)?r.remove(m):r.remove(n)}else r.replace(d,n);else if(Ef(n,s,!0))$N(n,"LI")?(r.insertAfter(d,Cf(n)),d.appendChild(r.doc.createTextNode(" ")),d.appendChild(n)):l.insertBefore(d,n),r.remove(s);else if(Ef(n,s,!1))r.insertAfter(d,Cf(n)),r.remove(s);else{n=Cf(n);const m=a.cloneRange();m.setStartAfter(s),m.setEndAfter(n);const g=m.extractContents();if(o==="LI"&&b5(g,"LI")){const y=J(Q(d.children,k.fromDom),ds(jl("br")));d=g.firstChild,r.insertAfter(g,n),R(y,w=>lp(k.fromDom(d),w)),u&&d.setAttribute("style",u)}else r.insertAfter(g,n),r.insertAfter(d,n);r.remove(s)}ca(e,d)},E5=e=>{R(Hv(k.fromDom(e),Zn),t=>{const n=t.dom;n.nodeValue=jn(n.data)})},w5=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},_5=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Hh=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,zh=(e,t)=>q(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",S5=(e,t,n)=>{var s;const o=[];if(!n)return;let r=n;for(;r=r.firstChild;){if(e.isBlock(r))return;Se(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}let a=o.length;for(;a--;)r=o[a],(!r.hasChildNodes()||r.firstChild===r.lastChild&&((s=r.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||_5(e,r))&&e.remove(r)},Vh=(e,t,n)=>ne(t)?e?n===1&&t.data.charAt(n-1)===Xt?0:n:n===t.data.length-1&&t.data.charAt(n)===Xt?t.data.length:n:n,x5=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,Vh(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Vh(!1,e.endContainer,e.endOffset)),t},k5=e=>{let t=e;do ne(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},N5=(e,t,n,s,o)=>{var r,a;const l=e.dom,u=(r=Xc(l,s))!==null&&r!==void 0?r:l.getRoot();let d=l.getParent(s,l.isBlock);if(!d||!zh(l,d)){if(d=d||u,!d.hasChildNodes()){const w=l.create(t);return Zc(e,w),d.appendChild(w),n.setStart(w,0),n.setEnd(w,0),w}let m=s;for(;m&&m.parentNode!==d;)m=m.parentNode;let g;for(;m&&!l.isBlock(m);)g=m,m=m.previousSibling;const y=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.nodeName;if(g&&y&&e.schema.isValidChild(y,t.toLowerCase())){const w=g.parentNode,_=l.create(t);for(Zc(e,_),w.insertBefore(_,g),m=g;m&&!l.isBlock(m);){const E=m.nextSibling;_.appendChild(m),m=E}n.setStart(s,o),n.setEnd(s,o)}}return s},T5=(e,t)=>{t.normalize();const n=t.lastChild;(!n||Se(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},A5=(e,t)=>{const n=KI(e);return be(t)?!1:A(n)?I(ie.explode(n),t.nodeName.toLowerCase()):n},MN={insert:(e,t)=>{let n,s,o,r,a=!1;const l=e.dom,u=e.schema,d=u.getNonEmptyElements(),m=e.selection.getRng(),g=bn(e),y=k.fromDom(m.startContainer),w=Bi(y,m.startOffset),_=w.exists(Y=>Vl(Y)&&!Nr(Y)),E=m.collapsed&&_,S=(Y,he)=>IN(e,n,se,X,WI(e),Y,he),T=Y=>{const he=Vh(Y,n,s);if(ne(n)&&(Y?he>0:he<n.data.length))return!1;if(n.parentNode===se&&a&&!Y||Y&&Se(n)&&n===se.firstChild)return!0;if(Hh(n,"TABLE")||Hh(n,"HR"))return a&&!Y||!a&&Y;const Ae=new Yt(n,se);ne(n)&&(Y&&he===0?Ae.prev():!Y&&he===n.data.length&&Ae.next());let We;for(;We=Ae.current();){if(Se(We)){if(!We.getAttribute("data-mce-bogus")){const Ye=We.nodeName.toLowerCase();if(d[Ye]&&Ye!=="br")return!1}}else if(ne(We)&&!Ho(We.data))return!1;Y?Ae.prev():Ae.next()}return!0},O=()=>{let Y;return/^(H[1-6]|PRE|FIGURE)$/.test(o)&&fe!=="HGROUP"?Y=S(g):Y=S(),A5(e,r)&&zh(l,r)&&l.isEmpty(se,void 0,{includeZwsp:!0})?Y=l.split(r,se):l.insertAfter(Y,se),ca(e,Y),Y};Pu(l,m).each(Y=>{m.setStart(Y.startContainer,Y.startOffset),m.setEnd(Y.endContainer,Y.endOffset)}),n=m.startContainer,s=m.startOffset;const P=!!(t&&t.shiftKey),F=!!(t&&t.ctrlKey);Se(n)&&n.hasChildNodes()&&!E&&(a=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,a&&ne(n)?s=n.data.length:s=0);const X=Xc(l,n);if(!X||w5(e,n))return;P||(n=N5(e,g,m,n,s));let se=l.getParent(n,l.isBlock)||l.getRoot();r=q(se==null?void 0:se.parentNode)?l.getParent(se.parentNode,l.isBlock):null,o=se?se.nodeName.toUpperCase():"";const fe=r?r.nodeName.toUpperCase():"";if(fe==="LI"&&!F){const Y=r;se=Y,r=Y.parentNode,o=fe}if(Se(r)&&g5(e,P,se))return h5(e,S,se);if(/^(LI|DT|DD)$/.test(o)&&Se(r)&&l.isEmpty(se)){C5(e,S,r,se,g);return}if(!E&&(se===e.getBody()||!zh(l,se)))return;const j=se.parentNode;let U;if(E)U=S(g),w.fold(()=>{Kt(y,k.fromDom(U))},Y=>{$n(Y,k.fromDom(U))}),e.selection.setCursorLocation(U,0);else if(Ui(se))U=Ep(se),l.isEmpty(se)&&Mh(se),Zc(e,U),ca(e,U);else if(T(!1))U=O();else if(T(!0)&&j){U=j.insertBefore(S(),se);const Y=ED(k.fromDom(m.startContainer))&&m.collapsed;ca(e,Hh(se,"HR")||Y?U:se)}else{const Y=x5(m).cloneRange();Y.setEndAfter(se);const he=Y.extractContents();E5(he),k5(he),U=he.firstChild,l.insertAfter(he,se),S5(l,d,U),T5(l,se),l.isEmpty(se)&&Mh(se),U.normalize(),l.isEmpty(U)?(l.remove(U),O()):(Zc(e,U),ca(e,U))}l.setAttrib(U,"id",""),e.dispatch("NewBlock",{newBlock:U})},fakeEventName:"insertParagraph"},R5=(e,t,n)=>{const s=new Yt(t,n);let o;const r=e.getNonEmptyElements();for(;o=s.next();)if(r[o.nodeName.toLowerCase()]||ne(o)&&o.length>0)return!0;return!1},UN=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),kc(e,s)},P5=(e,t)=>{const n=e.selection,s=e.dom,o=n.getRng();let r,a=!1;Pu(s,o).each(w=>{o.setStart(w.startContainer,w.startOffset),o.setEnd(w.endContainer,w.endOffset)});let l=o.startOffset,u=o.startContainer;if(Se(u)&&u.hasChildNodes()){const w=l>u.childNodes.length-1;u=u.childNodes[Math.min(l,u.childNodes.length-1)]||u,w&&ne(u)?l=u.data.length:l=0}let d=s.getParent(u,s.isBlock);const m=d&&d.parentNode?s.getParent(d.parentNode,s.isBlock):null,g=m?m.nodeName.toUpperCase():"",y=!!(t&&t.ctrlKey);g==="LI"&&!y&&(d=m),ne(u)&&l>=u.data.length&&(R5(e.schema,u,d||s.getRoot())||(r=s.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),a=!0)),r=s.create("br"),qp(s,o,r),UN(e,r,a),e.undoManager.add()},O5=(e,t)=>{const n=k.fromTag("br");$n(k.fromDom(t),n),e.undoManager.add()},D5=(e,t)=>{I5(e.getBody(),t)||bo(k.fromDom(t),k.fromTag("br"));const n=k.fromTag("br");bo(k.fromDom(t),n),UN(e,n.dom,!1),e.undoManager.add()},B5=e=>Mt(e.getNode()),I5=(e,t)=>B5(z.after(t))?!0:An(e,z.after(t)).map(n=>Mt(n.getNode())).getOr(!1),HN=e=>e&&e.nodeName==="A"&&"href"in e,$5=e=>e.fold(Ot,HN,HN,Ot),F5=e=>{const t=ye(Yr,e),n=z.fromRangeStart(e.selection.getRng());return to(t,e.getBody(),n).filter($5)},L5=(e,t)=>{t.fold(Be,ye(O5,e),ye(D5,e),Be)},zN={insert:(e,t)=>{const n=F5(e);n.isSome()?n.each(ye(L5,e)):P5(e,t)},fakeEventName:"insertLineBreak"},VN=(e,t)=>Lh(e).filter(n=>t.length>0&&Ns(k.fromDom(n),t)).isSome(),M5=e=>VN(e,VI(e)),U5=e=>VN(e,jI(e)),Kn=Gs.generate([{br:[]},{block:[]},{none:[]}]),H5=(e,t)=>U5(e),jN=e=>(t,n)=>f5(t)===e,WN=(e,t)=>(n,s)=>u5(n)===e.toUpperCase()===t,z5=e=>{const t=Xc(e.dom,e.selection.getStart());return be(t)},Jc=e=>WN("pre",e),V5=()=>WN("summary",!0),wf=e=>(t,n)=>HI(t)===e,j5=(e,t)=>M5(e),_f=(e,t)=>t,W5=e=>{const t=bn(e),n=Xc(e.dom,e.selection.getStart());return q(n)&&e.schema.isValidChild(n.nodeName,t)},K5=e=>{const t=e.selection.getRng(),n=k.fromDom(t.startContainer),o=Bi(n,t.startOffset).map(r=>Vl(r)&&!Nr(r));return t.collapsed&&o.getOr(!0)},as=(e,t)=>(n,s)=>le(e,(r,a)=>r&&a(n,s),!0)?v.some(t):v.none(),q5=(e,t)=>Ix([as([H5],Kn.none()),as([Jc(!0),z5],Kn.none()),as([V5()],Kn.br()),as([Jc(!0),wf(!1),_f],Kn.br()),as([Jc(!0),wf(!1)],Kn.block()),as([Jc(!0),wf(!0),_f],Kn.block()),as([Jc(!0),wf(!0)],Kn.br()),as([jN(!0),_f],Kn.br()),as([jN(!0)],Kn.block()),as([j5],Kn.br()),as([_f],Kn.br()),as([W5],Kn.block()),as([K5],Kn.block())],[e,!!(t&&t.shiftKey)]).getOr(Kn.none()),Sf=(e,t,n)=>{t.selection.isCollapsed()||AH(t),!(q(n)&&vf(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),q(n)&&Yc(t,e.fakeEventName))},KN=(e,t)=>{const n=()=>Sf(zN,e,t),s=()=>Sf(MN,e,t),o=q5(e,t);switch(zI(e)){case"linebreak":o.fold(n,n,Be);break;case"block":o.fold(s,s,Be);break;case"invert":o.fold(s,n,Be);break;default:o.fold(n,s,Be);break}},qN=Vs(),G5=qN.os.isiOS()&&qN.browser.isSafari(),GN=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),$2(e.undoManager),e.undoManager.transact(()=>{KN(e,t)}))},Y5=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ne(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},X5=e=>{let t=v.none();const n=o=>{t=v.some(o.selection.getBookmark()),o.undoManager.add()},s=(o,r)=>{o.undoManager.undo(),t.fold(Be,a=>o.selection.moveToBookmark(a)),GN(o,r),t=v.none()};e.on("keydown",o=>{o.keyCode===me.ENTER&&(G5&&Y5(e.selection.getRng())?n(e):GN(e,o))}),e.on("keyup",o=>{o.keyCode===me.ENTER&&t.each(()=>s(e,o))})},Z5=(e,t,n)=>{const s=at.os.isMacOS()||at.os.isiOS();Wc([{keyCode:me.END,action:Me(Ok,e,!0)},{keyCode:me.HOME,action:Me(Ok,e,!1)},...s?[]:[{keyCode:me.HOME,action:Me(uf,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:me.END,action:Me(uf,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:me.END,action:Me(Uk,e,!0)},{keyCode:me.HOME,action:Me(Uk,e,!1)},{keyCode:me.END,action:Me(lf,e,!0,t)},{keyCode:me.HOME,action:Me(lf,e,!1,t)}],n).each(o=>{n.preventDefault()})},J5=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Z5(e,t,n)})},Q5=e=>{e.on("input",t=>{t.isComposing||cH(e)})},e9=Vs(),t9=(e,t,n)=>{Wc([{keyCode:me.PAGE_UP,action:Me(lf,e,!1,t)},{keyCode:me.PAGE_DOWN,action:Me(lf,e,!0,t)}],n)},YN=e=>e.stopImmediatePropagation(),XN=e=>e.keyCode===me.PAGE_UP||e.keyCode===me.PAGE_DOWN,ZN=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",YN,!0):!n&&e.get()&&t.off("NodeChange",YN),e.set(n)},n9=(e,t)=>{if(e9.os.isMacOS())return;const n=en(!1);e.on("keydown",s=>{XN(s)&&ZN(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||t9(e,t,s),XN(s)&&n.get()&&(ZN(n,e,!1),e.nodeChanged())})},s9=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Z(t.getTargetRanges(),n=>!e_(e.dom,n)))&&t.preventDefault()})},JN=(e,t)=>{const n=t.container(),s=t.offset();return ne(n)?(n.insertData(s,e),v.some(z(n,s+e.length))):vu(t).map(o=>{const r=k.fromText(e);return t.isAtEnd()?bo(o,r):$n(o,r),z(r.dom,e.length)})},QN=ye(JN,Qt),eT=ye(JN," "),o9=(e,t,n)=>$_(e,t,n)?QN(t):eT(t),r9=e=>t=>t.fold(n=>Fn(e.dom,z.before(n)),n=>yn(n),n=>hs(n),n=>An(e.dom,z.after(n))),i9=(e,t,n)=>s=>$_(e,s,n)?QN(t):eT(t),tT=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},a9=(e,t)=>e.isEditable(e.getParent(t,"summary")),c9=e=>{const t=z.fromRangeStart(e.selection.getRng()),n=k.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=ye(Yr,e),o=z.fromRangeStart(e.selection.getRng());return to(s,e.getBody(),o).bind(r9(n)).map(r=>()=>i9(n,t,e.schema)(r).each(tT(e)))}else return v.none()},l9=e=>{const t=()=>{const n=k.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=z.fromRangeStart(e.selection.getRng());o9(n,s,e.schema).each(tT(e))};return Oi(at.browser.isFirefox()&&e.selection.isEditable()&&a9(e.dom,e.selection.getRng().startContainer),t)},u9=(e,t)=>{Fk([{keyCode:me.SPACEBAR,action:Me(c9,e)},{keyCode:me.SPACEBAR,action:Me(l9,e)}],t).each(n=>{t.preventDefault(),vf(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),Yc(e,"insertText",{data:" "}))})},f9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||u9(e,t)})},d9=e=>nF(e)?[{keyCode:me.TAB,action:Me(Qk,e,!0)},{keyCode:me.TAB,shiftKey:!0,action:Me(Qk,e,!1)}]:[],p9=(e,t)=>{Wc([...d9(e)],t).each(n=>{t.preventDefault()})},m9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||p9(e,t)})},g9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),K4(e),eo(e))return en(null);{const t=IK(e);return s9(e),O8(e),Tq(e,t),c5(e,t),X5(e),f9(e),Q5(e),m9(e),J5(e,t),n9(e,t),t}};class h9{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",o=>{const r=t.selection.getRng(),a={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};(o.type==="nodechange"||!Rm(a,n))&&t.dispatch("SelectionChange"),n=a}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const o=t.selection.getStart(!0);o&&Su(t)&&!s.isSameElementPath(o)&&t.dom.isChildOf(o,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",o=>{!o.isDefaultPrevented()&&Su(t)&&(t.selection.getNode().nodeName==="IMG"?ss.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!E$(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();s=n.getStart(!0)||o,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,o))&&(s=o);const r=[];this.editor.dom.getParent(s,a=>a===o?!0:(r.push(a),!1)),this.editor.dispatch("NodeChange",yt(Oe({},t),{element:s,parents:r}))}}isSameElementPath(t){let n;const s=this.editor,o=wt(s.dom.getParents(t,Et,s.getBody()));if(o.length===this.lastPath.length){for(n=o.length;n>=0&&o[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=o,!0}return this.lastPath=o,!1}}const nT=cc("image"),b9=e=>{const t=e;return v.from(t[nT])},y9=(e,t)=>{const n=e;n[nT]=t},jh=cc("event"),v9=e=>{const t=e;return v.from(t[jh])},xf=e=>t=>{const n=t;n[jh]=e},C9=(e,t)=>xf(t)(e),sT=xf(0),E9=xf(2),w9=xf(1),_9=(e=>t=>{const n=t;return v.from(n[jh]).exists(s=>s===e)})(0),S9=()=>Object.freeze({length:0,item:e=>null}),Wh=cc("mode"),x9=e=>{const t=e;return v.from(t[Wh])},kf=e=>t=>{const n=t;n[Wh]=e},oT=(e,t)=>kf(t)(e),rT=kf(0),Kh=kf(2),k9=kf(1),iT=e=>t=>{const n=t;return v.from(n[Wh]).exists(s=>s===e)},la=iT(0),aT=iT(1),N9=(e,t)=>yt(Oe({},t),{get length(){return t.length},add:(n,s)=>{if(la(e))if(A(n)){if(!Ee(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{la(e)&&t.remove(n)},clear:()=>{la(e)&&t.clear()}}),T9=["none","copy","link","move"],A9=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],qh=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(o){I(T9,o)&&(t=o)},get effectAllowed(){return n},set effectAllowed(o){_9(s)&&I(A9,o)&&(n=o)},get items(){return N9(s,e.items)},get files(){return aT(s)?S9():e.files},get types(){return e.types},setDragImage:(o,r,a)=>{la(s)&&(y9(s,{image:o,x:r,y:a}),e.setDragImage(o,r,a))},getData:o=>aT(s)?"":e.getData(o),setData:(o,r)=>{la(s)&&e.setData(o,r)},clearData:o=>{la(s)&&e.clearData(o)}};return rT(s),s},R9=e=>{const t=qh(),n=x9(e);return Kh(e),sT(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,b9(e).each(s=>t.setDragImage(s.image,s.x,s.y)),R(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),R(e.files,s=>t.items.add(s)),v9(e).each(s=>{C9(t,s)}),n.each(s=>{oT(e,s),oT(t,s)}),t},P9=e=>{const t=e.getData("text/html");return t===""?v.none():v.some(t)},cT=(e,t)=>e.setData("text/html",t),lT="x-tinymce/html",Nf=G(lT),Gh="<!-- "+lT+" -->",O9=e=>Gh+e,D9=e=>e.replace(Gh,""),uT=e=>e.indexOf(Gh)!==-1,B9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),I9=(e,t)=>{let n="<"+e;const s=Ll(t,(o,r)=>r+'="'+zo.encodeAllRaw(o)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},$9=(e,t,n)=>{const s=e.split(/\n\n/),o=I9(t,n),r="</"+t+">",a=Q(s,u=>u.split(/\n/).join("<br />")),l=u=>o+u+r;return a.length===1?a[0]:Q(a,l).join("")},fT="%MCEPASTEBIN%",F9=(e,t)=>{const{dom:n,selection:s}=e,o=e.getBody();t.set(s.getRng());const r=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},fT);at.browser.isFirefox()&&n.setStyle(r,"left",n.getStyle(o,"direction",!0)==="rtl"?65535:-65535),n.bind(r,"beforedeactivate focusin focusout",a=>{a.stopPropagation()}),r.focus(),s.select(r,!0)},L9=(e,t)=>{const n=e.dom;if(Yh(e)){let s;const o=t.get();for(;s=Yh(e);)n.remove(s),n.unbind(s);o&&e.selection.setRng(o)}t.set(null)},Yh=e=>e.dom.get("mcepastebin"),M9=e=>q(e)&&e.id==="mcepastebin",U9=e=>{const t=e.dom,n=(a,l)=>{a.appendChild(l),t.remove(l,!0)},[s,...o]=J(e.getBody().childNodes,M9);R(o,a=>{n(s,a)});const r=t.select("div[id=mcepastebin]",s);for(let a=r.length-1;a>=0;a--){const l=t.create("div");s.insertBefore(l,r[a]),n(l,r[a])}return s?s.innerHTML:""},dT=e=>e===fT,H9=e=>{const t=en(null);return{create:()=>F9(e,t),remove:()=>L9(e,t),getEl:()=>Yh(e),getHtml:()=>U9(e),getLastRng:t.get}},pT=(e,t)=>(ie.each(t,n=>{de(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),z9=e=>{const t=Vo(),n=na({},t);let s="";const o=t.getVoidElements(),r=ie.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),l=u=>{const d=u.name,m=u;if(d==="br"){s+=`
`;return}if(d!=="wbr"){if(o[d]&&(s+=" "),r[d]){s+=" ";return}if(u.type===3&&(s+=u.value),!(u.name in t.getVoidElements())){let g=u.firstChild;if(g)do l(g);while(g=g.next)}a[d]&&m.next&&(s+=`
`,d==="p"&&(s+=`
`))}};return e=pT(e,[/<!\[[^\]]+\]>/g]),l(n.parse(e)),s},mT=e=>(e=pT(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,o)=>!s&&!o?" ":Qt],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),V9=e=>{let t=0;return()=>e+t++},j9=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ie.hasOwn(n,t)?"image/"+n[t]:"image/"+t},W9=(e,t)=>{const n=na({sanitize:nm(e),sandbox_iframes:sm(e)},e.schema);n.addNodeFilter("meta",o=>{ie.each(o,r=>{r.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Yo({validate:!0},e.schema).serialize(s)},gT=(e,t)=>({content:e,cancelled:t}),K9=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),o=$L(e,s,n);return gT(o.node.innerHTML,o.isDefaultPrevented())},q9=(e,t,n)=>{const s=IL(e,t,n),o=W9(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?K9(e,o,n):gT(o,s.isDefaultPrevented())},G9=(e,t,n)=>q9(e,t,n),Xh=(e,t)=>(e.insertContent(t,{merge:U$(e),paste:!0}),!0),Zh=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Y9=(e,t)=>Zh(t)&&Z(kE(e),n=>Zd(t.toLowerCase(),`.${n.toLowerCase()}`)),X9=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),Z9=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),J9=(e,t,n)=>!e.selection.isCollapsed()&&Zh(t)?Z9(e,t,n):!1,Q9=(e,t,n)=>Y9(e,t)?X9(e,t,n):!1,e7=(e,t)=>{ie.each([J9,Q9,Xh],n=>!n(e,t,Xh))},t7=(e,t,n)=>{n||!H$(e)?Xh(e,t):e7(e,t)},n7=V9("mceclip"),s7=e=>{const t=qh();return cT(t,e),Kh(t),t},hT=(e,t,n,s,o)=>{const r=G9(e,t,n);if(!r.cancelled){const a=r.content,l=()=>t7(e,a,s);o?vf(e,"insertFromPaste",{dataTransfer:s7(a)}).isDefaultPrevented()||(l(),Yc(e,"insertFromPaste")):l()}},Tf=(e,t,n,s)=>{const o=n||uT(t);hT(e,D9(t),o,!1,s)},Jh=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),o=eC(s,V$(e)),r=$9(o,bn(e),pc(e));hT(e,r,!1,!0,n)},bT=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch(o){t[s]=""}}return t},er=(e,t)=>t in e&&e[t].length>0,yT=e=>er(e,"text/html")||er(e,"text/plain"),o7=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return q(n)?e.dom.encode(n[1]):void 0},r7=(e,t,n,s)=>{const o=n7(),r=gE(e)&&q(n.name),a=r?o7(e,n.name):o,l=r?n.name:void 0,u=t.create(o,n,s,a,l);return t.add(u),u},i7=(e,t)=>{Pg(t.uri).each(({data:n,type:s,base64Encoded:o})=>{const r=o?n:btoa(n),a=t.file,l=e.editorUpload.blobCache,u=l.getByData(r,s),d=u!=null?u:r7(e,l,a,r);Tf(e,`<img src="${d.blobUri()}">`,!1,!0)})},a7=e=>e.type==="paste",c7=e=>Promise.all(Q(e,t=>rS(t).then(n=>({file:t,uri:n})))),l7=e=>{const t=kE(e);return n=>on(n.type,"image/")&&Z(t,s=>j9(s)===n.type)},u7=(e,t)=>{const n=t.items?nt($t(t.items),o=>o.kind==="file"?[o.getAsFile()]:[]):[],s=t.files?$t(t.files):[];return J(n.length>0?n:s,l7(e))},vT=(e,t,n)=>{const s=a7(t)?t.clipboardData:t.dataTransfer;if(bu(e)&&s){const o=u7(e,s);if(o.length>0)return t.preventDefault(),c7(o).then(r=>{n&&e.selection.setRng(n),R(r,a=>{i7(e,a)})}),!0}return!1},f7=e=>{var t,n;return at.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},d7=e=>me.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Qh=(e,t,n,s,o)=>{let r=mT(n);const a=er(t,Nf())||uT(n),l=!a&&B9(r),u=Zh(r);(dT(r)||!r.length||l&&!u)&&(s=!0),(s||u)&&(er(t,"text/plain")&&l?r=t["text/plain"]:r=z9(r)),!dT(r)&&(s?Jh(e,r,o):Tf(e,r,a,o))},p7=(e,t,n)=>{let s;const o=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",r=>{d7(r)&&!r.isDefaultPrevented()&&(s=r.shiftKey&&r.keyCode===86)}),e.on("paste",r=>{if(r.isDefaultPrevented()||f7(r))return;const a=n.get()==="text"||s;s=!1;const l=bT(r.clipboardData);!yT(l)&&vT(e,r,o())||(er(l,"text/html")?(r.preventDefault(),Qh(e,l,l["text/html"],a,!0)):er(l,"text/plain")&&er(l,"text/uri-list")?(r.preventDefault(),Qh(e,l,l["text/plain"],a,!0)):(t.create(),ss.setEditorTimeout(e,()=>{const u=t.getHtml();t.remove(),Qh(e,l,u,a,!1)},0)))})},m7=e=>{const t=o=>on(o,"webkit-fake-url"),n=o=>on(o,"data:"),s=o=>{var r;return((r=o.data)===null||r===void 0?void 0:r.paste)===!0};e.parser.addNodeFilter("img",(o,r,a)=>{if(!bu(e)&&s(a))for(const l of o){const u=l.attr("src");A(u)&&!l.attr("data-mce-object")&&u!==at.transparentSrc&&(t(u)||!j$(e)&&n(u))&&l.remove()}})},g7=(e,t,n)=>{p7(e,t,n),m7(e)},h7=(e,t)=>{t.get()==="text"?(t.set("html"),kw(e,!1)):(t.set("text"),kw(e,!0)),e.focus()},b7=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{h7(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&Tf(e,s.html,s.internal,!1),s.text&&Jh(e,s.text,!1)})},y7=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(Nf(),t),!0}catch(s){return!1}else return!1},CT=(e,t,n,s)=>{y7(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},ET=e=>(t,n)=>{const{dom:s,selection:o}=e,r=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=s.create("div",{contenteditable:"true"},t);s.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(a),s.add(e.getBody(),r);const l=o.getRng();a.focus();const u=s.createRng();u.selectNodeContents(a),o.setRng(u),ss.setEditorTimeout(e,()=>{o.setRng(l),s.remove(r),n()},0)},wT=e=>({html:O9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),v7=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),_T=e=>!e.selection.isCollapsed()||v7(e),C7=e=>t=>{!t.isDefaultPrevented()&&_T(e)&&e.selection.isEditable()&&CT(t,wT(e),ET(e),()=>{if(at.browser.isChromium()||at.browser.isFirefox()){const n=e.selection.getRng();ss.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},E7=e=>t=>{!t.isDefaultPrevented()&&_T(e)&&CT(t,wT(e),ET(e),Be)},w7=e=>{e.on("cut",C7(e)),e.on("copy",E7(e))},ST=(e,t)=>{var n,s;return Kr.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},_7=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},xT=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},S7=e=>Z(e.files,t=>/^image\//.test(t.type)),x7=(e,t,n,s)=>{const o=e.getParent(n,a=>Dr(t,a));if(!ke(e.getParent(n,"summary")))return!0;if(o&&je(s,"text/html")){const a=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!ke(a.querySelector(o.nodeName.toLowerCase()))}else return!1},k7=e=>{e.on("input",t=>{const n=s=>ke(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=J(e.dom.select("details"),n);R(s,o=>{Mt(o.firstChild)&&o.firstChild.remove();const r=e.dom.create("summary");r.appendChild(Ja().dom),o.prepend(r)})}})},N7=(e,t)=>{B$(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),bu(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&S7(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=ST(e,n);if(be(s))return;const o=bT(n.dataTransfer),r=er(o,Nf());if((!yT(o)||_7(o))&&vT(e,n,s))return;const a=o[Nf()],l=a||o["text/html"]||o["text/plain"],u=x7(e.dom,e.schema,s.startContainer,o),d=t.get();d&&!u||l&&(n.preventDefault(),ss.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(a||d&&u)&&e.execCommand("Delete"),xT(e,s);const m=mT(l);o["text/html"]?Tf(e,m,r,!0):Jh(e,m,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{bu(e)&&!t.get()&&(n.preventDefault(),xT(e,ST(e,n))),n.type==="dragend"&&t.set(!1)}),k7(e)},T7=e=>{const t=o=>r=>{o(e,r)},n=I$(e);ce(n)&&e.on("PastePreProcess",t(n));const s=$$(e);ce(s)&&e.on("PastePostProcess",t(s))},A7=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},R7=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,kT=e=>ie.trim(e).replace(R7,ec).toLowerCase(),P7=(e,t,n)=>{const s=L$(e);if(n||s==="all"||!M$(e))return t;const o=s?s.split(/[, ]/):[];if(o&&s!=="none"){const r=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(l,u,d,m)=>{const g=r.parseStyle(r.decode(d)),y={};for(let _=0;_<o.length;_++){const E=g[o[_]];let S=E,T=r.getStyle(a,o[_],!0);/color/.test(o[_])&&(S=kT(S),T=kT(T)),T!==S&&(y[o[_]]=E)}const w=r.serializeStyle(y,"span");return w?u+' style="'+w+'"'+m:u+m})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(r,a,l,u)=>a+' style="'+l+'"'+u),t},O7=e=>{(at.browser.isChromium()||at.browser.isSafari())&&A7(e,P7)},D7=e=>{const t=en(!1),n=en(z$(e)?"text":"html"),s=H9(e);O7(e),b7(e,n),T7(e),e.on("PreInit",()=>{w7(e),N7(e,t),g7(e,s,n)})},B7=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},I7=e=>{e.parser.addNodeFilter("details",t=>{const n=sF(e);R(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=oF(e);R(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},$7=e=>{B7(e),I7(e)},F7=Mt,NT=ne,L7=e=>At(e.dom),M7=e=>ms(e.dom),TT=e=>t=>ft(k.fromDom(e),t),U7=(e,t,n)=>xr(k.fromDom(e),s=>M7(s)||n.isBlock(it(s)),TT(t)).getOr(k.fromDom(t)).dom,AT=(e,t)=>xr(k.fromDom(e),L7,TT(t)),RT=(e,t,n)=>{const s=new Yt(e,t),o=n?s.next.bind(s):s.prev.bind(s);let r=e;for(let a=n?e:o();a&&!F7(a);a=o())gs(a)&&(r=a);return r},H7=(e,t,n)=>{const o=z.fromRangeStart(e).getNode(),r=U7(o,t,n),a=RT(o,r,!1),l=RT(o,r,!0),u=document.createRange();return AT(a,r).fold(()=>{NT(a)?u.setStart(a,0):u.setStartBefore(a)},d=>u.setStartBefore(d.dom)),AT(l,r).fold(()=>{NT(l)?u.setEnd(l,l.data.length):u.setEndAfter(l)},d=>u.setEndAfter(d.dom)),u},z7=e=>{const t=H7(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(gg(t))},V7=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),z7(e))})};var ua;(function(e){e.Before="before",e.After="after"})(ua||(ua={}));const j7=(e,t)=>Math.abs(e.left-t),W7=(e,t)=>Math.abs(e.right-t),K7=(e,t)=>e>=t.top&&e<=t.bottom,q7=(e,t)=>e.top<t.bottom&&e.bottom>t.top,G7=(e,t)=>{const n=nI(e,t)/Math.min(e.height,t.height);return q7(e,t)&&n>.5},Y7=(e,t)=>{const n=J(e,s=>K7(t,s));return tI(n).fold(()=>[[],e],s=>{const{pass:o,fail:r}=Ie(e,a=>G7(a,s));return[o,r]})},X7=(e,t)=>({node:e.node,position:j7(e,t)<W7(e,t)?ua.Before:ua.After}),Z7=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),eb=(e,t,n,s)=>{const o=g=>gs(g.node)?v.some(g):Se(g.node)?eb($t(g.node.childNodes),t,n,!1):v.none(),r=(g,y,w)=>o(y).filter(_=>Math.abs(w(g,t,n)-w(_,t,n))<2&&ne(_.node)),a=(g,y)=>{const w=Hn(g,(_,E)=>y(_,t,n)-y(E,t,n));return En(w,o).map(_=>s&&!ne(_.node)&&w.length>1?r(_,w[1],y).getOr(_):_)},[l,u]=Y7(Xx(e),n),{pass:d,fail:m}=Ie(u,g=>g.top<n);return a(l,Z7).orThunk(()=>a(m,LC)).orThunk(()=>a(d,LC))},J7=(e,t,n,s)=>{const o=(r,a)=>{const l=d=>Se(d)&&d.classList.contains("mce-drag-container"),u=J(r.dom.childNodes,ds(l));return a.fold(()=>eb(u,n,s,!0),d=>{const m=J(u,g=>g!==d.dom);return eb(m,n,s,!0)}).orThunk(()=>(ft(r,e)?v.none():Wl(r)).bind(m=>o(m,v.some(r))))};return o(t,v.none())},Q7=(e,t,n)=>{const s=k.fromDom(e),o=go(s),a=k.fromPoint(o,t,n).filter(l=>mo(s,l)).getOr(s);return J7(s,a,t,n)},PT=(e,t,n)=>Q7(e,t,n).filter(s=>hc(s.node)).map(s=>X7(s,t)),OT=e=>{var t,n;const s=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,a=o.defaultView;return{top:s.top+((t=a==null?void 0:a.scrollY)!==null&&t!==void 0?t:0)-r.clientTop,left:s.left+((n=a==null?void 0:a.scrollX)!==null&&n!==void 0?n:0)-r.clientLeft}},eG=e=>e.inline?OT(e.getBody()):{left:0,top:0},tG=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},nG=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:o},sG=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=OT(e.getContentAreaContainer()),s=nG(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},oG=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),rG=(e,t)=>oG(eG(e),tG(e),sG(e,t)),DT=e=>({target:e,srcElement:e}),iG=(e,t,n,s)=>Oe(yt(Oe({},t),{dataTransfer:s,type:e}),DT(n)),aG=(e,t,n)=>{const s=ks("Function not supported on simulated event.");return Oe({bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Be,stopImmediatePropagation:Be,stopPropagation:Be,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n},DT(t))},cG=(e,t)=>{const n=R9(e);return t==="dragstart"?(sT(n),rT(n)):t==="drop"?(E9(n),Kh(n)):(w9(n),k9(n)),n},lG=(e,t,n,s)=>{const o=cG(n,e);return Ee(s)?aG(e,t,o):iG(e,s,t,o)},Af=32,uG=100,Rf=8,Pf=16,BT=At,fG=iI(BT,ms),dG=(e,t,n)=>BT(n)&&n!==t&&e.isEditable(n.parentElement),pG=(e,t,n)=>be(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),mG=(e,t,n,s)=>{const o=e.dom,r=t.cloneNode(!0);o.setStyles(r,{width:n,height:s}),o.setAttrib(r,"data-mce-selected",null);const a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),o.setStyles(r,{margin:0,boxSizing:"border-box"}),a.appendChild(r),a},gG=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Of=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},IT=Of("left",-Af),$T=Of("left",Af),FT=Of("top",-Af),LT=Of("top",Af),hG=(e,t,n,s,o,r,a,l,u,d,m,g)=>{let y=0,w=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(y=t.pageX+n-o),t.pageY+s>r&&(w=t.pageY+s-r),e.style.width=n-y+"px",e.style.height=s-w+"px";const _=u.clientHeight,E=u.clientWidth,S=a+u.getBoundingClientRect().top,T=l+u.getBoundingClientRect().left;m.on(O=>{O.intervalId.clear(),O.dragging&&g&&(a+Rf>=_?O.intervalId.set(LT(d)):a-Rf<=0?O.intervalId.set(FT(d)):l+Rf>=E?O.intervalId.set($T(d)):l-Rf<=0?O.intervalId.set(IT(d)):S+Pf>=window.innerHeight?O.intervalId.set(LT(window)):S-Pf<=0?O.intervalId.set(FT(window)):T+Pf>=window.innerWidth?O.intervalId.set($T(window)):T-Pf<=0&&O.intervalId.set(IT(window)))})},MT=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},bG=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);MT(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Mo(k.fromDom(n))},yG=e=>e.button===0,vG=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),CG=(e,t)=>n=>{if(yG(n)){const s=Pe(t.dom.getParents(n.target),fG).getOr(null);if(q(s)&&dG(t.dom,t.getBody(),s)){const o=t.dom.getPos(s),r=t.getBody(),a=t.getDoc().documentElement;e.set({element:s,dataTransfer:qh(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?r.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:s.offsetWidth,height:s.offsetHeight,ghost:mG(t,s,s.offsetWidth,s.offsetHeight),intervalId:jB(uG)})}}},EG=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),PT(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const o=e._selectionOverrides.showCaret(1,s.node,s.position===ua.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,n)})},Qc=(e,t,n,s,o)=>{t==="dragstart"&&cT(s,e.dom.getOuterHTML(n));const r=lG(t,n,s,o);return e.dispatch(t,r)},wG=(e,t)=>{const n=fu((o,r)=>EG(t,o,r),0);t.on("remove",n.cancel);const s=e;return o=>e.on(r=>{const a=Math.max(Math.abs(o.screenX-r.screenX),Math.abs(o.screenY-r.screenY));if(!r.dragging&&a>10){const l=Qc(t,"dragstart",r.element,r.dataTransfer,o);if(q(l.dataTransfer)&&(r.dataTransfer=l.dataTransfer),l.isDefaultPrevented())return;r.dragging=!0,t.focus()}if(r.dragging){const l=o.currentTarget===t.getDoc().documentElement,u=vG(r,rG(t,o));gG(r.ghost,t.getBody()),hG(r.ghost,u,r.width,r.height,r.maxX,r.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),s,l),n.throttle(o.clientX,o.clientY)}})},_G=e=>{const t=e.getSel();if(q(t)){const s=t.getRangeAt(0).startContainer;return ne(s)?s.parentNode:s}else return null},SG=(e,t)=>n=>{e.on(s=>{var o;if(s.intervalId.clear(),s.dragging){if(pG(t,_G(t.selection),s.element)){const r=(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&o!==void 0?o:t.getBody();Qc(t,"drop",r,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{bG(t.dom,s.element),P9(s.dataTransfer).each(l=>t.insertContent(l)),t._selectionOverrides.hideFakeCaret()})}Qc(t,"dragend",t.getBody(),s.dataTransfer,n)}}),HT(e)},UT=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>Qc(t,"dragend",s.element,s.dataTransfer),o=>Qc(t,"dragend",s.element,s.dataTransfer,o))}),HT(e)},xG=(e,t)=>n=>UT(e,t,v.some(n)),HT=e=>{e.on(t=>{t.intervalId.clear(),MT(t.ghost)}),e.clear()},kG=e=>{const t=jo(),n=_t.DOM,s=document,o=CG(t,e),r=wG(t,e),a=SG(t,e),l=xG(t,e);e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",a),n.bind(s,"mousemove",r),n.bind(s,"mouseup",l),e.on("remove",()=>{n.unbind(s,"mousemove",r),n.unbind(s,"mouseup",l)}),e.on("keydown",u=>{u.keyCode===me.ESC&&UT(t,e,v.none())})},NG=e=>{const t=o=>{if(!o.isDefaultPrevented()){const r=o.dataTransfer;r&&(I(r.types,"Files")||r.files.length>0)&&(o.preventDefault(),o.type==="drop"&&ef(e,"Dropped file type is not supported"))}},n=o=>{Bu(e,o.target)&&t(o)},s=()=>{const o=_t.DOM,r=e.dom,a=document,l=e.inline?e.getBody():e.getDoc(),u=["drop","dragover"];R(u,d=>{o.bind(a,d,n),r.bind(l,d,t)}),e.on("remove",()=>{R(u,d=>{o.unbind(a,d,n),r.unbind(l,d,t)})})};e.on("init",()=>{ss.setEditorTimeout(e,s,0)})},TG=e=>{kG(e),S$(e)&&NG(e)},AG=e=>{const t=fu(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=sh(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},RG=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(qs(n)){const s=Xr(e.getBody(),n),o=At(s)?s:n;e.selection.getNode()!==o&&Uc(e,o).each(r=>e.selection.setRng(r))}})})},el=At,zT=(e,t)=>Xr(e.getBody(),t),PG=e=>{const t=e.selection,n=e.dom,s=e.getBody(),o=bF(e,s,n.isBlock,()=>qr(e)),r="sel-"+n.uniqueId(),a="data-mce-selected";let l;const u=fe=>q(fe)&&n.hasClass(fe,"mce-offscreen-selection"),d=fe=>fe!==s&&(el(fe)||qs(fe))&&n.isChildOf(fe,s)&&n.isEditable(fe.parentNode),m=fe=>{fe&&t.setRng(fe)},g=(fe,j,U,Y=!0)=>e.dispatch("ShowCaret",{target:j,direction:fe,before:U}).isDefaultPrevented()?null:(Y&&t.scrollIntoView(j,fe===-1),o.show(U,j)),y=fe=>{fe.hasAttribute("data-mce-caret")&&(Ep(fe),t.scrollIntoView(fe))},w=()=>{e.on("click",j=>{n.isEditable(j.target)||(j.preventDefault(),e.focus())}),e.on("blur NewBlock",F),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",j=>{const U=j.target,Y=zT(e,U);el(Y)?(j.preventDefault(),Uc(e,Y).each(P)):d(U)&&Uc(e,U).each(P)},!0),e.on("mousedown",j=>{const U=j.target;if(U!==s&&U.nodeName!=="HTML"&&!n.isChildOf(U,s)||!w3(e,j.clientX,j.clientY))return;F(),se();const Y=zT(e,U);el(Y)?(j.preventDefault(),Uc(e,Y).each(P)):PT(s,j.clientX,j.clientY).each(he=>{j.preventDefault();const Ae=g(1,he.node,he.position===ua.Before,!1);m(Ae),vo(Y)?Y.focus():e.getBody().focus()})}),e.on("keypress",j=>{me.modifierPressed(j)||el(t.getNode())&&j.preventDefault()}),e.on("GetSelectionRange",j=>{let U=j.range;if(l){if(!l.parentNode){l=null;return}U=U.cloneRange(),U.selectNode(l),j.range=U}}),e.on("SetSelectionRange",j=>{j.range=S(j.range);const U=P(j.range,j.forward);U&&(j.range=U)});const fe=j=>Se(j)&&j.id==="mcepastebin";e.on("AfterSetSelectionRange",j=>{const U=j.range,Y=U.startContainer.parentElement;!E(U)&&!fe(Y)&&se(),u(Y)||F()}),TG(e),AG(e),RG(e)},_=fe=>Jn(fe)||nu(fe)||su(fe),E=fe=>_(fe.startContainer)||_(fe.endContainer),S=fe=>{const j=e.schema.getVoidElements(),U=n.createRng(),Y=fe.startContainer,he=fe.startOffset,Ae=fe.endContainer,We=fe.endOffset;return je(j,Y.nodeName.toLowerCase())?he===0?U.setStartBefore(Y):U.setStartAfter(Y):U.setStart(Y,he),je(j,Ae.nodeName.toLowerCase())?We===0?U.setEndBefore(Ae):U.setEndAfter(Ae):U.setEnd(Ae,We),U},T=(fe,j)=>{const U=k.fromDom(e.getBody()),Y=e.getDoc(),he=Wa(U,"#"+r).getOrThunk(()=>{const Ye=k.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Y);return rn(Ye,"id",r),Kt(U,Ye),Ye}),Ae=n.createRng();$i(he),Tr(he,[k.fromText(Qt,Y),k.fromDom(j),k.fromText(Qt,Y)]),Ae.setStart(he.dom.firstChild,1),Ae.setEnd(he.dom.lastChild,0),Kl(he,{top:n.getPos(fe,e.getBody()).y+"px"}),Kw(he);const We=t.getSel();return We&&(We.removeAllRanges(),We.addRange(Ae)),Ae},O=fe=>{const j=fe.cloneNode(!0),U=e.dispatch("ObjectSelected",{target:fe,targetClone:j});if(U.isDefaultPrevented())return null;const Y=T(fe,U.targetClone),he=k.fromDom(fe);return R(hn(k.fromDom(e.getBody()),`*[${a}]`),Ae=>{ft(he,Ae)||an(Ae,a)}),n.getAttrib(fe,a)||fe.setAttribute(a,"1"),l=fe,se(),Y},P=(fe,j)=>{if(!fe)return null;if(fe.collapsed){if(!E(fe)){const Ae=j?1:-1,We=Cc(Ae,s,fe),Ye=We.getNode(!j);if(q(Ye)){if(hc(Ye))return g(Ae,Ye,j?!We.isAtEnd():!1,!1);if(Uo(Ye)&&At(Ye.nextSibling)){const ht=n.createRng();return ht.setStart(Ye,0),ht.setEnd(Ye,0),ht}}const ct=We.getNode(j);if(q(ct)){if(hc(ct))return g(Ae,ct,j?!1:!We.isAtEnd(),!1);if(Uo(ct)&&At(ct.previousSibling)){const ht=n.createRng();return ht.setStart(ct,1),ht.setEnd(ct,1),ht}}}return null}let U=fe.startContainer,Y=fe.startOffset;const he=fe.endOffset;if(ne(U)&&Y===0&&el(U.parentNode)&&(U=U.parentNode,Y=n.nodeIndex(U),U=U.parentNode),!Se(U))return null;if(he===Y+1&&U===fe.endContainer){const Ae=U.childNodes[Y];if(d(Ae))return O(Ae)}return null},F=()=>{l&&l.removeAttribute(a),Wa(k.fromDom(e.getBody()),"#"+r).each(Tt),l=null},X=()=>{o.destroy(),l=null},se=()=>{o.hide()};return eo(e)||w(),{showCaret:g,showBlockCaretContainer:y,hideFakeCaret:se,destroy:X}},OG=(e,t)=>{let n=t;for(let s=e.previousSibling;ne(s);s=s.previousSibling)n+=s.data.length;return n},VT=(e,t,n,s,o)=>{if(ne(n)&&(s<0||s>n.data.length))return[];const r=o&&ne(n)?[OG(n,s)]:[s];let a=n;for(;a!==t&&a.parentNode;)r.push(e.nodeIndex(a,o)),a=a.parentNode;return a===t?r.reverse():[]},tb=(e,t,n,s,o,r,a=!1)=>{const l=VT(e,t,n,s,a),u=VT(e,t,o,r,a);return{start:l,end:u}},jT=(e,t)=>{const n=t.slice(),s=n.pop();return Ge(s)?le(n,(r,a)=>r.bind(l=>v.from(l.childNodes[a])),v.some(e)).bind(r=>ne(r)&&(s<0||s>r.data.length)?v.none():v.some({node:r,offset:s})):v.none()},WT=(e,t)=>jT(e,t.start).bind(({node:n,offset:s})=>jT(e,t.end).map(({node:o,offset:r})=>{const a=document.createRange();return a.setStart(n,s),a.setEnd(o,r),a})),DG=(e,t,n,s=!1)=>tb(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),fa=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,ne(t.firstChild)&&Ho(t.firstChild.data)),fa(e,s,n)}},Df=(e,t,n,s=!0)=>{const o=t.startContainer.parentNode,r=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(ne(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),ne(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),fa(e,o,n),o!==r&&fa(e,r,n))},nb=(e,t)=>v.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),KT=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return yt(Oe({},e),{blockPatterns:aE(s).concat(e.blockPatterns),inlinePatterns:cE(s).concat(e.inlinePatterns)})},qT=(e,t,n,s)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,s),o.toString()},BG=e=>/^\s[^\s]/.test(e),GT=(e,t,n)=>{Rq(t,0,t).each(o=>{const r=o.container;eN(r,n.start.length,t).each(u=>{const d=e.createRng();d.setStart(r,0),d.setEnd(u.container,u.offset),Df(e,d,m=>m===t)});const a=k.fromDom(r),l=Ql(a);BG(l)&&n1(a,l.slice(1))})},IG=(e,t)=>{const n=e.dom,s=t.pattern,o=WT(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),r=(a,l)=>{const u=l.get(a);return we(u)&&Jt(u).exists(d=>je(d,"block"))};return nb(e,o).each(a=>{s.type==="block-format"?r(s.format,e.formatter)&&e.undoManager.transact(()=>{GT(e.dom,a,s),e.formatter.apply(s.format)}):s.type==="block-command"&&e.undoManager.transact(()=>{GT(e.dom,a,s),e.execCommand(s.cmd,!1,s.value)})}),!0},$G=e=>Hn(e,(t,n)=>n.start.length-t.start.length),FG=(e,t)=>{const n=$G(e),s=t.replace(Qt," ");return Pe(n,o=>t.indexOf(o.start)===0||s.indexOf(o.start)===0)},LG=(e,t,n,s)=>{var o;const r=e.dom,a=bn(e);if(!r.is(t,a))return[];const l=(o=t.textContent)!==null&&o!==void 0?o:"";return FG(n.blockPatterns,l).map(u=>ie.trim(l).length===u.start.length?[]:[{pattern:u,range:tb(r,r.getRoot(),t,0,t,0,s)}]).getOr([])},MG=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();R(t,s=>IG(e,s)),e.selection.moveToBookmark(n)},YT=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Bf=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},XT=(e,t,n)=>{const s=WT(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=s.startContainer,r=s.endContainer,a=s.endOffset===0?r:r.splitText(s.endOffset),l=s.startOffset===0?o:o.splitText(s.startOffset),u=l.parentNode,d=a.parentNode;return{prefix:t,end:d.insertBefore(YT(e,t+"-end"),a),start:u.insertBefore(YT(e,t+"-start"),l)}},ZT=(e,t,n)=>{fa(e,e.get(t.prefix+"-end"),n),fa(e,e.get(t.prefix+"-start"),n)},sb=e=>e.start.length===0,UG=e=>(t,n)=>{const o=t.data.substring(0,n),r=o.lastIndexOf(e.charAt(e.length-1)),a=o.lastIndexOf(e);return a!==-1?a+e.length:r!==-1?r+1:-1},JT=(e,t,n,s)=>{const o=t.start;return kh(e,s.container,s.offset,UG(o),n).bind(a=>{var l,u;const d=(u=(l=n.textContent)===null||l===void 0?void 0:l.indexOf(o))!==null&&u!==void 0?u:-1;if(d!==-1&&a.offset>=d+o.length){const g=e.createRng();return g.setStart(a.container,a.offset-o.length),g.setEnd(a.container,a.offset),v.some(g)}else{const g=a.offset-o.length;return xh(a.container,g,n).map(y=>{const w=e.createRng();return w.setStart(y.container,y.offset),w.setEnd(a.container,a.offset),w}).filter(y=>y.toString()===o).orThunk(()=>JT(e,t,n,Bs(a.container,0)))}})},HG=(e,t,n,s,o,r=!1)=>{if(t.start.length===0&&!r){const a=e.createRng();return a.setStart(n,s),a.setEnd(n,s),v.some(a)}return Sh(n,s,o).bind(a=>JT(e,t,o,a).bind(u=>{var d;if(r){if(u.endContainer===a.container&&u.endOffset===a.offset)return v.none();if(a.offset===0&&((d=u.endContainer.textContent)===null||d===void 0?void 0:d.length)===u.endOffset)return v.none()}return v.some(u)}))},zG=(e,t,n,s)=>{const o=e.dom,r=o.getRoot(),a=n.pattern,l=n.position.container,u=n.position.offset;return xh(l,u-n.pattern.end.length,t).bind(d=>{const m=tb(o,r,d.container,d.offset,l,u,s);if(sb(a))return v.some({matches:[{pattern:a,startRng:m,endRng:m}],position:d});{const g=If(e,n.remainingPatterns,d.container,d.offset,t,s),y=g.getOr({matches:[],position:d}),w=y.position;return HG(o,a,w.container,w.offset,t,g.isNone()).map(E=>{const S=DG(o,r,E,s);return{matches:y.matches.concat([{pattern:a,startRng:S,endRng:m}]),position:Bs(E.startContainer,E.startOffset)}})}})},If=(e,t,n,s,o,r)=>{const a=e.dom;return Sh(n,s,a.getRoot()).bind(l=>{const u=qT(a,o,n,s);for(let d=0;d<t.length;d++){const m=t[d];if(!Zd(u,m.end))continue;const g=t.slice();g.splice(d,1);const y=zG(e,o,{pattern:m,remainingPatterns:g,position:l},r);if(y.isNone()&&s>0)return If(e,t,n,s-1,o,r);if(y.isSome())return y}return v.none()})},QT=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?R(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},VG=(e,t,n,s)=>{const o=Bf(e.dom,n);Df(e.dom,o,s),QT(e,t,o)},jG=(e,t,n,s,o)=>{const r=e.dom,a=Bf(r,s),l=Bf(r,n);Df(r,l,o),Df(r,a,o);const u={prefix:n.prefix,start:n.end,end:s.start},d=Bf(r,u);QT(e,t,d)},WG=(e,t)=>{const n=cc("mce_textpattern"),s=Re(t,(o,r)=>{const a=XT(e,n+`_end${o.length}`,r.endRng);return o.concat([yt(Oe({},r),{endMarker:a})])},[]);return Re(s,(o,r)=>{const a=s.length-o.length-1,l=sb(r.pattern)?r.endMarker:XT(e,n+`_start${a}`,r.startRng);return o.concat([yt(Oe({},r),{startMarker:l})])},[])},KG=e=>Hn(e,(t,n)=>n.end.length-t.end.length),qG=(e,t)=>{const n=Ct(e,s=>Z(t,o=>s.pattern.start===o.pattern.start&&s.pattern.end===o.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},eA=(e,t,n,s,o,r)=>{const a=If(e,o.inlinePatterns,n,s,t,r).fold(()=>[],u=>u.matches),l=If(e,KG(o.inlinePatterns),n,s,t,r).fold(()=>[],u=>u.matches);return qG(a,l)},tA=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),o=WG(n,t);R(o,r=>{const a=n.getParent(r.startMarker.start,n.isBlock),l=u=>u===a;sb(r.pattern)?VG(e,r.pattern,r.endMarker,l):jG(e,r.pattern,r.startMarker,r.endMarker,l),ZT(n,r.endMarker,l),ZT(n,r.startMarker,l)}),e.selection.moveToBookmark(s)},GG=(e,t)=>{const n=e.selection.getRng();return nb(e,n).map(s=>{var o;const r=Math.max(0,n.startOffset),a=KT(t,s,(o=s.textContent)!==null&&o!==void 0?o:""),l=eA(e,s,n.startContainer,r,a,!0),u=LG(e,s,a,!0);return u.length>0||l.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{m1(e),tA(e,l),MG(e,u);const d=e.selection.getRng(),m=Sh(d.startContainer,d.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(g=>{const y=g.container;y.data.charAt(g.offset-1)===Ya&&(y.deleteData(g.offset-1,1),fa(e.dom,y.parentNode,w=>w===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},YG=(e,t)=>{const n=e.selection.getRng();nb(e,n).map(s=>{const o=Math.max(0,n.startOffset-1),r=qT(e.dom,s,n.startContainer,o),a=KT(t,s,r),l=eA(e,s,n.startContainer,o,a,!1);l.length>0&&e.undoManager.transact(()=>{tA(e,l)})})},nA=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},XG=(e,t)=>nA(e,t,(n,s)=>n===s.keyCode&&!me.modifierPressed(s)),ZG=(e,t)=>nA(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),JG=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>PI(W$(e),K$(e)),o=()=>J$(e);e.on("keydown",a=>{if(a.keyCode===13&&!me.modifierPressed(a)&&e.selection.isCollapsed()){const l=s();(l.inlinePatterns.length>0||l.blockPatterns.length>0||o())&&GG(e,l)&&a.preventDefault()}},!0);const r=()=>{if(e.selection.isCollapsed()){const a=s();(a.inlinePatterns.length>0||o())&&YG(e,a)}};e.on("keyup",a=>{XG(n,a)&&r()}),e.on("keypress",a=>{ZG(t,a)&&ss.setEditorTimeout(e,r)})},QG=e=>{JG(e)},eY=e=>{const t=ie.each,n=me.BACKSPACE,s=me.DELETE,o=e.dom,r=e.selection,a=e.parser,l=at.browser,u=l.isFirefox(),d=l.isChromium()||l.isSafari(),m=at.deviceType.isiPhone()||at.deviceType.isiPad(),g=at.os.isMacOS()||at.os.isiOS(),y=(Ce,Fe)=>{try{e.getDoc().execCommand(Ce,!1,String(Fe))}catch(oe){}},w=Ce=>Ce.isDefaultPrevented(),_=()=>{const Ce=oe=>{const Le=o.create("body"),Qe=oe.cloneContents();return Le.appendChild(Qe),r.serializer.serialize(Le,{format:"html"})},Fe=oe=>{const Le=Ce(oe),Qe=o.createRng();Qe.selectNode(e.getBody());const gt=Ce(Qe);return Le===gt};e.on("keydown",oe=>{const Le=oe.keyCode;if(!w(oe)&&(Le===s||Le===n)&&e.selection.isEditable()){const Qe=e.selection.isCollapsed(),gt=e.getBody();if(Qe&&!Ht(k.fromDom(gt))||!Qe&&!Fe(e.selection.getRng()))return;oe.preventDefault(),e.setContent(""),gt.firstChild&&o.isBlock(gt.firstChild)?e.selection.setCursorLocation(gt.firstChild,0):e.selection.setCursorLocation(gt,0),e.nodeChanged()}})},E=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},S=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",Ce=>{let Fe;if(Ce.target===e.getDoc().documentElement)if(Fe=r.getRng(),e.getBody().focus(),Ce.type==="mousedown"){if(Jn(Fe.startContainer))return;r.placeCaretAt(Ce.clientX,Ce.clientY)}else r.setRng(Fe)})},T=()=>{e.on("keydown",Ce=>{if(!w(Ce)&&Ce.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(r.isCollapsed()&&r.getRng().startOffset===0){const Fe=r.getNode(),oe=Fe.previousSibling;if(Fe.nodeName==="HR"){o.remove(Fe),Ce.preventDefault();return}oe&&oe.nodeName&&oe.nodeName.toLowerCase()==="hr"&&(o.remove(oe),Ce.preventDefault())}}})},O=()=>{Range.prototype.getClientRects||e.on("mousedown",Ce=>{if(!w(Ce)&&Ce.target.nodeName==="HTML"){const Fe=e.getBody();Fe.blur(),ss.setEditorTimeout(e,()=>{Fe.focus()})}})},P=()=>{const Ce=SE(e);e.on("click",Fe=>{const oe=Fe.target;/^(IMG|HR)$/.test(oe.nodeName)&&o.isEditable(oe)&&(Fe.preventDefault(),e.selection.select(oe),e.nodeChanged()),oe.nodeName==="A"&&o.hasClass(oe,Ce)&&oe.childNodes.length===0&&o.isEditable(oe.parentNode)&&(Fe.preventDefault(),r.select(oe))})},F=()=>{const Ce=()=>{const oe=o.getAttribs(r.getStart().cloneNode(!1));return()=>{const Le=r.getStart();Le!==e.getBody()&&(o.setAttrib(Le,"style",null),t(oe,Qe=>{Le.setAttributeNode(Qe.cloneNode(!0))}))}},Fe=()=>!r.isCollapsed()&&o.getParent(r.getStart(),o.isBlock)!==o.getParent(r.getEnd(),o.isBlock);e.on("keypress",oe=>{let Le;return!w(oe)&&(oe.keyCode===8||oe.keyCode===46)&&Fe()?(Le=Ce(),e.getDoc().execCommand("delete",!1),Le(),oe.preventDefault(),!1):!0}),o.bind(e.getDoc(),"cut",oe=>{if(!w(oe)&&Fe()){const Le=Ce();ss.setEditorTimeout(e,()=>{Le()})}})},X=()=>{e.on("keydown",Ce=>{if(!w(Ce)&&Ce.keyCode===n&&r.isCollapsed()&&r.getRng().startOffset===0){const Fe=r.getNode().previousSibling;if(Fe&&Fe.nodeName&&Fe.nodeName.toLowerCase()==="table")return Ce.preventDefault(),!1}return!0})},se=()=>{e.on("keydown",Ce=>{if(w(Ce)||Ce.keyCode!==me.BACKSPACE)return;let Fe=r.getRng();const oe=Fe.startContainer,Le=Fe.startOffset,Qe=o.getRoot();let gt=oe;if(!(!Fe.collapsed||Le!==0)){for(;gt.parentNode&&gt.parentNode.firstChild===gt&&gt.parentNode!==Qe;)gt=gt.parentNode;gt.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,gt),Fe=o.createRng(),Fe.setStart(oe,0),Fe.setEnd(oe,0),r.setRng(Fe))}})},fe=()=>{const Ce=()=>{y("StyleWithCSS",!1),y("enableInlineTableEditing",!1),CE(e)||y("enableObjectResizing",!1)};wE(e)||e.on("BeforeExecCommand mousedown",Ce)},j=()=>{const Ce=()=>{t(o.select("a:not([data-mce-block])"),Fe=>{var oe;let Le=Fe.parentNode;const Qe=o.getRoot();if((Le==null?void 0:Le.lastChild)===Fe){for(;Le&&!o.isBlock(Le);){if(((oe=Le.parentNode)===null||oe===void 0?void 0:oe.lastChild)!==Le||Le===Qe)return;Le=Le.parentNode}o.add(Le,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Fe=>{(Fe.type==="setcontent"||Fe.command==="mceInsertLink")&&Ce()})},U=()=>{e.on("init",()=>{y("DefaultParagraphSeparator",bn(e))})},Y=Ce=>{const Fe=Ce.getBody(),oe=Ce.selection.getRng();return oe.startContainer===oe.endContainer&&oe.startContainer===Fe&&oe.startOffset===0&&oe.endOffset===Fe.childNodes.length},he=()=>{e.on("keyup focusin mouseup",Ce=>{!me.modifierPressed(Ce)&&!Y(e)&&r.normalize()},!0)},Ae=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},We=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ye=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Ce=>{let Fe;Ce.target.nodeName==="HTML"&&(Fe=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Fe),e.selection.normalize(),e.nodeChanged())}))},ct=()=>{g&&e.on("keydown",Ce=>{me.metaKeyPressed(Ce)&&!Ce.shiftKey&&(Ce.keyCode===37||Ce.keyCode===39)&&(Ce.preventDefault(),e.selection.getSel().modify("move",Ce.keyCode===37?"backward":"forward","lineboundary"))})},ht=()=>{e.on("click",Ce=>{let Fe=Ce.target;do if(Fe.tagName==="A"){Ce.preventDefault();return}while(Fe=Fe.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Dt=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Ce=>{Ce.preventDefault()})})},nn=()=>{a.addNodeFilter("br",Ce=>{let Fe=Ce.length;for(;Fe--;)Ce[Fe].attr("class")==="Apple-interchange-newline"&&Ce[Fe].remove()})},lt=Be,ae=()=>{if(!u||e.removed)return!1;const Ce=e.selection.getSel();return!Ce||!Ce.rangeCount||Ce.rangeCount===0},xe=()=>{d&&(S(),P(),Dt(),E(),m&&(We(),Ye(),ht())),u&&(O(),fe(),Ae(),ct())},st=()=>{e.on("drop",Ce=>{var Fe;const oe=(Fe=Ce.dataTransfer)===null||Fe===void 0?void 0:Fe.getData("text/html");A(oe)&&/^<img[^>]*>$/.test(oe)&&e.dispatch("dragend",new window.DragEvent("dragend",Ce))})},Ze=()=>{se(),_(),at.windowsPhone||he(),d&&(S(),P(),U(),Dt(),X(),nn(),m?(We(),Ye(),ht()):E()),u&&(T(),O(),F(),fe(),j(),Ae(),ct(),X(),st())};return eo(e)?xe():Ze(),{refreshContentEditable:lt,isHidden:ae}},ob=_t.DOM,tY=(e,t)=>{const n=k.fromDom(e.getBody()),s=ap(Fo(n)),o=k.fromTag("style");rn(o,"type","text/css"),Kt(o,k.fromText(t)),Kt(s,o),e.on("remove",()=>{Tt(o)})},nY=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,rb=e=>Da(e,t=>Ee(t)===!1),sA=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return rb({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:nY(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},oA=e=>{const t=e.options.get;return rb({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},sY=e=>{const t=e.options.get;return Oe(Oe(Oe({},sA(e)),oA(e)),rb({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")}))},oY=e=>{const t=na(sA(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const o=e.dom,r="data-mce-"+s;let a=n.length;for(;a--;){const l=n[a];let u=l.attr(s);if(u&&!l.attr(r)){if(u.indexOf("data:")===0||u.indexOf("blob:")===0)continue;s==="style"?(u=o.serializeStyle(o.parseStyle(u),l.name),u.length||(u=null),l.attr(r,u),l.attr(s,u)):s==="tabindex"?(l.attr(r,u),l.attr(s,null)):l.attr(r,e.convertURL(u,s,l.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const o=n[s],r=o.attr("type")||"no/type";r.indexOf("mce-")!==0&&o.attr("type","mce-"+r)}}),Y$(e)&&t.addNodeFilter("#cdata",n=>{var s;let o=n.length;for(;o--;){const r=n[o];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode((s=r.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const o=e.schema.getNonEmptyElements();for(;s--;){const r=n[s];r.isEmpty(o)&&r.getAll("br").length===0&&r.append(new _n("br",1))}}),t},rY=e=>{const t=P$(e);t&&ss.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},iY=e=>{const t=e.dom.getRoot();!e.inline&&(!Su(e)||e.selection.getStart(!0)===t)&&yn(t).each(n=>{const s=n.getNode(),o=Co(s)?yn(s).getOr(n):n;e.selection.setRng(o.toRange())})},aY=e=>{e.bindPendingEventDelegates(),e.initialized=!0,TL(e),e.focus(!0),iY(e),e.nodeChanged({initial:!0});const t=A$(e);ce(t)&&t.call(e,e),rY(e)},ib=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,cY=(e,t,n)=>{const{pass:s,fail:o}=Ie(t,l=>tinymce.Resource.has(Jg(l))),a=[...s.map(l=>{const u=tinymce.Resource.get(Jg(l));return A(u)?Promise.resolve(ib(e).loadRawCss(l,u)):Promise.resolve()}),ib(e).loadAll(o)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(n)])},rA=e=>{const t=ib(e),n=vE(e),s=e.contentCSS,o=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},r=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let u="";ie.each(e.contentStyles,d=>{u+=d+`\r
`}),e.dom.addStyle(u)}const a=Promise.all(cY(e,s,n)).then(r).catch(r),l=s$(e);return l&&tY(e,l),a},lY=e=>{const t=e.getDoc(),n=e.getBody();kL(e),O$(e)||(t.body.spellcheck=!1,ob.setAttrib(n,"spellcheck","false")),e.quirks=eY(e),NL(e);const s=o$(e);s!==void 0&&(n.dir=s);const o=D$(e);o&&e.on("BeforeSetContent",r=>{ie.each(o,a=>{r.content=r.content.replace(a,l=>"<!--mce:protected "+escape(l)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",r=>{e.composing=r.type==="compositionstart"})},uY=e=>{eo(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},ab=e=>{e.removed!==!0&&(uY(e),aY(e))},fY=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},iA=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(ob.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=wE(e),e._editableRoot=w$(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&ob.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=Y3(e),e.schema=Vo(oA(e)),e.dom=_t(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:QI(e),referrerPolicy:Qp(e),onSetAttrib:a=>{e.dispatch("SetAttrib",a)},force_hex_color:rF(e)}),e.parser=oY(e),e.serializer=ZS(sY(e),e),e.selection=XS(e.dom,e.getWin(),e.serializer,e),e.annotator=vw(e),e.formatter=dx(e),e.undoManager=mx(e),e._nodeChangeDispatcher=new h9(e),e._selectionOverrides=PG(e),E8(e),$7(e),A8(e),eo(e)||(V7(e),QG(e));const o=g9(e);y8(e,o),k8(e),u6(e),D7(e);const r=J2(e);lY(e),r.fold(()=>{const a=fY(e);rA(e).then(()=>{ab(e),a()})},a=>{e.setProgressState(!0),rA(e).then(()=>{a().then(l=>{e.setProgressState(!1),ab(e),WS(e)},l=>{e.notificationManager.open({type:"error",text:String(l)}),ab(e),WS(e)})})})},dY=Et,pY=(e,t,n)=>HD(e,t,dY,n),cb=_t.DOM,mY=(e,t,n,s)=>{const o=k.fromTag("iframe");return s.each(r=>rn(o,"tabindex",r)),fo(o,n),fo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Di(o,"tox-edit-area__iframe"),o},gY=e=>{let t=LI(e)+"<html><head>";dE(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=MI(e),s=UI(e),o=e.translate(N$(e));return pE(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+pE(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t},hY=(e,t)=>{const n=e.translate("Rich Text Area"),s=po(k.fromDom(e.getElement()),"tabindex").bind(Hl),o=mY(e.id,n,FI(e),s).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=gY(e),cb.add(t.iframeContainer,o)},bY=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,iA(e)};if(Z$(e)||at.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=pY(k.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},yY=(e,t)=>{hY(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=cb.isHidden(t.editorContainer)),e.getElement().style.display="none",cb.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,bY(e)},aA=_t.DOM,vY=(e,t,n)=>{const s=oa.get(n),o=oa.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=ie.trim(n),s&&ie.inArray(t,n)===-1){if(e.plugins[n])return;try{const r=s(e,o)||{};e.plugins[n]=r,ce(r.init)&&(r.init(e,o),t.push(n))}catch(r){D3(e,n,r)}}},CY=e=>e.replace(/^\-/,""),EY=e=>{const t=[];R(hu(e),n=>{vY(e,t,CY(n))})},wY=e=>{const t=ie.trim(hE(e)),n=e.ui.registry.getAll().icons,s=Oe(Oe({},Qu.get("default").icons),Qu.get(t).icons);xt(s,(o,r)=>{je(n,r)||e.ui.registry.addIcon(r,o)})},_Y=e=>{const t=ji(e);if(A(t)){const n=Jr.get(t);e.theme=n(e,Jr.urls[t])||{},ce(e.theme.init)&&e.theme.init(e,Jr.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},SY=e=>{const t=em(e),n=sa.get(t);e.model=n(e,sa.urls[t])},xY=e=>{const t=e.theme.renderUI;return t?t():lA(e)},kY=e=>{const t=e.getElement(),s=ji(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},cA=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),NY=e=>{const t=aA.create("div");return aA.insertAfter(t,e),cA(t,t)},lA=e=>{const t=e.getElement();return e.inline?cA(null):NY(t)},TY=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,A(ji(e))?xY(e):ce(ji(e))?kY(e):lA(e)},AY=(e,t)=>{const n={show:v.from(t.show).getOr(Be),hide:v.from(t.hide).getOr(Be),isEnabled:v.from(t.isEnabled).getOr(Et),setEnabled:s=>{e.mode.isReadOnly()||v.from(t.setEnabled).each(o=>o(s))}};e.ui=Oe(Oe({},e.ui),n)},RY=e=>jA(this,null,function*(){e.dispatch("ScriptsLoaded"),wY(e),_Y(e),SY(e),EY(e);const t=yield TY(e);AY(e,v.from(t.api).getOr({})),e.editorContainer=t.editorContainer,L3(e),e.inline?iA(e):yY(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})}),ei=_t.DOM,uA=e=>e.charAt(0)==="-",PY=(e,t)=>{const n=bE(t),s=e$(t);if(!Rs.hasCode(n)&&n!=="en"){const o=zs(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch(()=>{R3(t,o,n)})}},OY=(e,t)=>{const n=ji(e);if(A(n)&&!uA(n)&&!je(Jr.urls,n)){const s=l$(e),o=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;Jr.load(n,o).catch(()=>{P3(e,o,n)})}},DY=(e,t)=>{const n=em(e);if(n!=="plugin"&&!je(sa.urls,n)){const s=u$(e),o=A(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;sa.load(n,o).catch(()=>{O3(e,o,n)})}},BY=e=>v.from(GI(e)).filter(zs).map(t=>({url:t,name:v.none()})),fA=(e,t,n)=>v.from(t).filter(s=>zs(s)&&!Qu.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:v.some(s)})),IY=(e,t,n)=>{const s=fA(t,"default",n),o=BY(t).orThunk(()=>fA(t,hE(t),""));R(ZO([s,o]),r=>{e.add(r.url).catch(()=>{A3(t,r.url,r.name.getOrUndefined())})})},$Y=(e,t)=>{const n=(s,o)=>{oa.load(s,o).catch(()=>{T3(e,o,s)})};xt(_$(e),(s,o)=>{n(o,s),e.options.set("plugins",hu(e).concat(o))}),R(hu(e),s=>{s=ie.trim(s),s&&!oa.urls[s]&&!uA(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},FY=e=>{const t=ji(e);return!A(t)||q(Jr.get(t))},LY=e=>{const t=em(e);return q(sa.get(t))},MY=(e,t)=>{const n=Eo.ScriptLoader,s=()=>{!e.removed&&FY(e)&&LY(e)&&RY(e)};OY(e,t),DY(e,t),PY(n,e),IY(n,e,t),$Y(e,t),n.loadQueue().then(s,s)},UY=(e,t)=>cC.forElement(e,{contentCssCors:_E(t),referrerPolicy:Qp(t)}),HY=e=>{const t=e.id;Rs.setCode(bE(e));const n=()=>{ei.unbind(window,"ready",n),e.render()};if(!Ir.Event.domLoaded){ei.bind(window,"ready",n);return}if(!e.getElement())return;const s=k.fromDom(e.getElement()),o=gv(s);e.on("remove",()=>{Te(s.dom.attributes,a=>an(s,a.name)),fo(s,o)}),e.ui.styleSheetLoader=UY(s,e),tm(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const r=e.getElement().form||ei.getParent(t,"form");r&&(e.formElement=r,h$(e)&&!pp(e.getElement())&&(ei.insertAfter(ei.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=a=>{e.dispatch(a.type,a)},ei.bind(r,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),b$(e)&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit&&(r._mceOldSubmit=r.submit,r.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)))),e.windowManager=ox(e),e.notificationManager=sx(e),tF(e)&&e.on("GetContent",a=>{a.save&&(a.content=ei.encode(a.content))}),y$(e)&&e.on("submit",()=>{e.initialized&&e.save()}),v$(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),MY(e,e.suffix)},zY=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),FL(e,t))},VY=e=>e._editableRoot,jY=(e,t)=>({sections:G(e),options:G(t)}),dA=Vs().deviceType,pA=dA.isPhone(),WY=dA.isTablet(),tl=e=>{if(be(e))return[];{const t=we(e)?e:e.split(/[ ,]/),n=Q(t,Ri);return J(n,zs)}},KY=(e,t)=>{const n=_O(t,(s,o)=>I(e,o));return jY(n.t,n.f)},qY=(e,t,n={})=>{const s=e.sections(),o=Nt(s,t).getOr({});return ie.extend({},n,o)},lb=(e,t)=>je(e.sections(),t),GY=(e,t)=>lb(e,t)?e.sections()[t]:{},YY=(e,t)=>{const n={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Nt(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},s={menubar:!1};return Oe(Oe({},n),t?s:{})},XY=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?ie.extend({},e.external_plugins,s):s},ZY=(e,t)=>[...tl(e),...tl(t)],JY=(e,t,n,s)=>e&&lb(t,"mobile")?s:n,QY=(e,t,n,s)=>{const o=tl(n.forced_plugins),r=tl(s.plugins),a=GY(t,"mobile"),l=a.plugins?tl(a.plugins):r,u=JY(e,t,r,l),d=ZY(o,u);return ie.extend(s,{forced_plugins:o,plugins:d})},eX=(e,t)=>e&&lb(t,"mobile"),tX=(e,t,n,s,o)=>{var r;const a=e?{mobile:YY((r=o.mobile)!==null&&r!==void 0?r:{},t)}:{},l=KY(["mobile"],mf(a,o)),u=ie.extend(n,s,l.options(),eX(e,l)?qY(l,"mobile"):{},{external_plugins:XY(s,l.options())});return QY(e,l,s,u)},nX=(e,t)=>tX(pA||WY,pA,t,e,t),sX=(e,t)=>_W(e,t),oX=e=>{const t=(s,o)=>{e.formatter.toggle(s,o),e.nodeChanged()},n=s=>()=>{R("left,center,right,justify".split(","),o=>{s!==o&&e.formatter.remove("align"+o)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},rX=e=>{const t=n=>()=>{const s=e.selection,o=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Z(o,r=>q(e.formatter.matchNode(r,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},iX=e=>{oX(e),rX(e)},aX=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch(o){s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(at.os.isMacOS()||at.os.isiOS())&&(o=o.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:o,type:"error"})}}})},cX=(e,t,n,s)=>{const o=k.fromDom(e.getRoot());return Ac(o,z.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Rc(o,z.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},lX=e=>{if(typeof e!="string"){const t=ie.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},uX=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?cX(s,n.getRng(),t,e.schema):t},$f=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=lX(t);Hg(e,yt(Oe({},s),{content:uX(e,n),format:"html",set:!1,selection:!0})).each(o=>{const r=EW(e,o.content,s);zg(e,r,o),e.addVisual()})}},fX=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{$f(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{$f(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{$f(e,s)},mceInsertContent:(t,n,s)=>{$f(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(F$(e))}})},dX={"font-size":"size","font-family":"face"},pX=jl("font"),mX=(e,t,n)=>{const s=r=>ql(r,e).orThunk(()=>pX(r)?Nt(dX,e).bind(a=>po(r,a)):v.none()),o=r=>ft(k.fromDom(t),r);return vg(k.fromDom(n),r=>s(r),o)},gX=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),hX=(e,t)=>v.from(_t.DOM.getStyle(t,e,!0)),mA=e=>(t,n)=>v.from(n).map(k.fromDom).filter(zn).bind(s=>mX(e,t,s.dom).or(hX(e,s.dom))).getOr(""),bX=mA("font-size"),yX=He(gX,mA("font-family")),vX=e=>yn(e.getBody()).bind(t=>{const n=t.container();return v.from(ne(n)?n.parentNode:n)}),CX=e=>v.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?v.none():v.from(e.selection.getStart(!0))}),EX=(e,t)=>CX(e).orThunk(ye(vX,e)).map(k.fromDom).filter(zn).bind(t),ub=(e,t)=>EX(e,ut(v.some,t)),gA=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Q$(e),o=eF(e);return o.length>0?o[n-1]||t:s[n-1]||t}else return t}else return t},wX=e=>{const t=e.split(/\s*,\s*/);return Q(t,n=>n.indexOf(" ")!==-1&&!(on(n,'"')||on(n,"'"))?`'${n}'`:n).join(",")},_X=(e,t)=>{const n=gA(e,t);e.formatter.toggle("fontname",{value:wX(n)}),e.nodeChanged()},SX=e=>ub(e,t=>yX(e.getBody(),t.dom)).getOr(""),xX=(e,t)=>{e.formatter.toggle("fontsize",{value:gA(e,t)}),e.nodeChanged()},kX=e=>ub(e,t=>bX(e.getBody(),t.dom)).getOr(""),NX=e=>ub(e,t=>{const n=k.fromDom(e.getBody()),s=vg(t,r=>ql(r,"line-height"),ye(ft,n)),o=()=>{const r=parseFloat(Ks(t,"line-height")),a=parseFloat(Ks(t,"font-size"));return String(r/a)};return s.getOrThunk(o)}).getOr(""),TX=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},AX=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,o)=>{t(n,{value:o})},BackColor:(n,s,o)=>{t("hilitecolor",{value:o})},FontName:(n,s,o)=>{_X(e,o)},FontSize:(n,s,o)=>{xX(e,o)},LineHeight:(n,s,o)=>{TX(e,o)},Lang:(n,s,o)=>{var r;t(n,{value:o.code,customValue:(r=o.customCode)!==null&&r!==void 0?r:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,o)=>{t(A(o)?o:"p")},mceToggleFormat:(n,s,o)=>{t(o)}})},RX=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>SX(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>kX(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>NX(e))},PX=e=>{AX(e),RX(e)},OX=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},DX=e=>{e.editorCommands.addCommands({Indent:()=>{g8(e)},Outdent:()=>{vk(e)}}),e.editorCommands.addCommands({Outdent:()=>gk(e)},"state")},BX=e=>{const t=(n,s,o)=>{const r=A(o)?{href:o}:o,a=e.dom.getParent(e.selection.getNode(),"a");V(r)&&A(r.href)&&(r.href=r.href.replace(/ /g,"%20"),(!a||!r.href)&&e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},IX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const s=n.parentNode;if(s&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(s.nodeName)){const o=e.selection.getBookmark();e.dom.split(s,n),e.selection.moveToBookmark(o)}}}})},$X=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},FX=e=>{IX(e),$X(e)},LX=(e,t,n,s)=>{const o=e.dom,r=l=>o.isBlock(l)&&l.parentElement===n,a=r(t)?t:o.getParent(s,r,n);return v.from(a).map(k.fromDom)},hA=(e,t)=>{const n=e.dom,s=e.selection.getRng(),o=t?e.selection.getStart():e.selection.getEnd(),r=t?s.startContainer:s.endContainer,a=Xc(n,r);if(!a||!a.isContentEditable)return;const l=t?$n:bo,u=bn(e);LX(e,o,a,r).each(d=>{const m=IN(e,r,d.dom,a,!1,u);l(d,k.fromDom(m)),e.selection.setCursorLocation(m,0),e.dispatch("NewBlock",{newBlock:m}),Yc(e,"insertParagraph")})},MX=e=>hA(e,!0),UX=e=>hA(e,!1),HX=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{MX(e)},InsertNewBlockAfter:()=>{UX(e)}})},zX=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Sf(MN,e)},mceInsertNewLine:(t,n,s)=>{KN(e,s)},InsertLineBreak:(t,n,s)=>{Sf(zN,e)}})},VX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let o=0;e.dom.getParent(e.selection.getNode(),r=>Se(r)&&o++===s?(e.selection.select(r),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ms);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},jX=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const o=s!=null?s:e.selection.getNode();if(o!==e.getBody()){const r=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(r)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{aU(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},WX=e=>{iX(e),aX(e),OX(e),VX(e),fX(e),BX(e),DX(e),HX(e),zX(e),FX(e),PX(e),jX(e)},KX=["toggleview"],bA=e=>I(KX,e.toLowerCase());class yA{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,o){const r=this.editor,a=t.toLowerCase(),l=o==null?void 0:o.skip_focus;if(r.removed||(a!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)&&!l?r.focus():HM(r)),r.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const d=this.commands.exec[a];return ce(d)?(d(a,n,s),r.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!bA(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return ce(s)?s(n):!1}queryCommandValue(t){if(!bA(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return ce(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;xt(t,(o,r)=>{R(r.toLowerCase().split(","),a=>{s[n][a]=o})})}addCommand(t,n,s){const o=t.toLowerCase();this.commands.exec[o]=(r,a,l)=>n.call(s!=null?s:this.editor,a,l)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s!=null?s:this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s!=null?s:this.editor)}}const ti="data-mce-contenteditable",qX=(e,t,n)=>{np(e,t)&&!n?Ua(e,t):n&&Di(e,t)},fb=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(s){}},Ff=(e,t)=>{e.dom.contentEditable=t?"true":"false"},GX=e=>{R(hn(e,'*[contenteditable="true"]'),t=>{rn(t,ti,"true"),Ff(t,!1)})},YX=e=>{R(hn(e,`*[${ti}="true"]`),t=>{an(t,ti),Ff(t,!0)})},XX=e=>{v.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},ZX=e=>{e.selection.setRng(e.selection.getRng())},JX=(e,t)=>{const n=k.fromDom(e.getBody());qX(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),XX(e),e.readonly=!0,Ff(n,!1),GX(n)):(e.readonly=!1,e.hasEditableRoot()&&Ff(n,!0),YX(n),fb(e,"StyleWithCSS",!1),fb(e,"enableInlineTableEditing",!1),fb(e,"enableObjectResizing",!1),Qw(e)&&e.focus(),ZX(e),e.nodeChanged())},ni=e=>e.readonly,vA=e=>{e.parser.addAttributeFilter("contenteditable",t=>{ni(e)&&R(t,n=>{n.attr(ti,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ti,t=>{ni(e)&&R(t,n=>{n.attr("contenteditable",n.attr(ti))})}),e.serializer.addTempAttr(ti)},QX=e=>{e.serializer?vA(e):e.on("PreInit",()=>{vA(e)})},eZ=e=>e.type==="click",tZ=["copy"],nZ=e=>I(tZ,e.type),sZ=(e,t)=>kr(t,"a",s=>ft(s,k.fromDom(e.getBody()))).bind(s=>po(s,"href")),oZ=(e,t)=>{if(eZ(t)&&!me.metaKeyPressed(t)){const n=k.fromDom(t.target);sZ(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const o=e.dom.select(`${s},[name="${Ly(s,"#")}"]`);o.length&&e.selection.scrollIntoView(o[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else nZ(t)&&e.dispatch(t.type,t)},rZ=e=>{e.on("ShowCaret",t=>{ni(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{ni(e)&&t.preventDefault()})},iZ=ie.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class db{static isNative(t){return!!iZ[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ot}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),o=Fp(s,n!=null?n:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[s];if(r)for(let a=0,l=r.length;a<l;a++){const u=r[a];if(!u.removed){if(u.once&&this.off(s,u.func),o.isImmediatePropagationStopped())return o;if(u.func.call(this.scope,o)===!1)return o.preventDefault(),o}}return o}on(t,n,s,o){if(n===!1&&(n=Ot),n){const r={func:n,removed:!1};o&&ie.extend(r,o);const a=t.toLowerCase().split(" ");let l=a.length;for(;l--;){const u=a[l];let d=this.bindings[u];d||(d=[],this.toggleEvent(u,!0)),s?d=[r,...d]:d=[...d,r],this.bindings[u]=d}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let o=s.length;for(;o--;){const r=s[o];let a=this.bindings[r];if(!r)return xt(this.bindings,(l,u)=>{this.toggleEvent(u,!1),delete this.bindings[u]}),this;if(a){if(!n)a.length=0;else{const l=Ie(a,u=>u.func===n);a=l.fail,this.bindings[r]=a,R(l.pass,u=>{u.removed=!0})}a.length||(this.toggleEvent(t,!1),delete this.bindings[r])}}}else xt(this.bindings,(s,o)=>{this.toggleEvent(o,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const nl=e=>(e._eventDispatcher||(e._eventDispatcher=new db({scope:e,toggleEvent:(t,n)=>{db.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),pb={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Fp(e.toLowerCase(),t!=null?t:{},s);const o=nl(s).dispatch(e,t);if(n!==!1&&s.parent){let r=s.parent();for(;r&&!o.isPropagationStopped();)r.dispatch(e,o,!1),r=r.parent?r.parent():void 0}return o},on(e,t,n){return nl(this).on(e,t,n)},off(e,t){return nl(this).off(e,t)},once(e,t){return nl(this).once(e,t)},hasEventListeners(e){return nl(this).has(e)}},Lf=_t.DOM;let si;const Mf=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=EE(e);return n?(e.eventRoot||(e.eventRoot=Lf.select(n)[0]),e.eventRoot):e.getBody()},aZ=e=>!e.hidden&&!ni(e),CA=(e,t,n)=>{aZ(e)?e.dispatch(t,n):ni(e)&&oZ(e,n)},EA=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=Mf(e,t);if(EE(e)){if(si||(si={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||si&&(xt(si,(o,r)=>{e.dom.unbind(Mf(e,r))}),si=null)})),si[t])return;const s=o=>{const r=o.target,a=e.editorManager.get();let l=a.length;for(;l--;){const u=a[l].getBody();(u===r||Lf.isChildOf(r,u))&&CA(a[l],t,o)}};si[t]=s,Lf.bind(n,t,s)}else{const s=o=>{CA(e,t,o)};Lf.bind(n,t,s),e.delegates[t]=s}},wA=yt(Oe({},pb),{bindPendingEventDelegates(){const e=this;ie.each(e._pendingNativeEvents,t=>{EA(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?EA(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(Mf(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(xt(e.delegates,(s,o)=>{e.dom.unbind(Mf(e,o),o,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),cZ=e=>A(e)?{value:e.split(/[ ,]/),valid:!0}:vt(e,A)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},lZ=e=>{const t=(()=>{switch(e){case"array":return we;case"boolean":return ve;case"function":return ce;case"number":return Ge;case"object":return V;case"string":return A;case"string[]":return cZ;case"object[]":return n=>vt(n,V);case"regexp":return n=>de(n,RegExp);default:return Et}})();return n=>mb(n,t,`The value must be a ${e}.`)},uZ=e=>A(e.processor),gne=(e,t)=>{const n=$a(t.message)?"":`. ${t.message}`;return e+n},_A=e=>e.valid,mb=(e,t,n="")=>{const s=t(e);return ve(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},fZ=(e,t,n)=>{if(!Ee(t)){const s=mb(t,n);if(_A(s))return s.value}},dZ=(e,t)=>{const n={},s={},o=(g,y,w)=>{const _=mb(y,w);return _A(_)?(s[g]=_.value,!0):!1},r=(g,y)=>{const w=uZ(y)?lZ(y.processor):y.processor,_=fZ(g,y.default,w);n[g]=yt(Oe({},y),{default:_,processor:w}),Nt(s,g).orThunk(()=>Nt(t,g)).each(S=>o(g,S,w))},a=g=>je(n,g);return{register:r,isRegistered:a,get:g=>Nt(s,g).orThunk(()=>Nt(n,g).map(y=>y.default)).getOrUndefined(),set:(g,y)=>{if(a(g)){const w=n[g];return w.immutable?!1:o(g,y,w.processor)}else return!1},unset:g=>{const y=a(g);return y&&delete s[g],y},isSet:g=>je(s,g)}},pZ=["design","readonly"],SA=(e,t,n,s)=>{const o=n[t.get()],r=n[s];try{r.activate()}catch(a){return}o.deactivate(),o.editorReadOnly!==r.editorReadOnly&&JX(e,r.editorReadOnly),t.set(s),_L(e,s)},mZ=(e,t,n,s)=>{if(s!==n.get()){if(!je(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?SA(e,n,t,s):e.on("init",()=>SA(e,n,t,s))}},gZ=(e,t,n)=>{if(I(pZ,t))throw new Error(`Cannot override default mode ${t}`);return yt(Oe({},e),{[t]:yt(Oe({},n),{deactivate:()=>{try{n.deactivate()}catch(s){}}})})},hZ=e=>{const t=en("design"),n=en({design:{activate:Be,deactivate:Be,editorReadOnly:!1},readonly:{activate:Be,deactivate:Be,editorReadOnly:!0}});return QX(e),rZ(e),{isReadOnly:()=>ni(e),set:s=>mZ(e,n.get(),t,s),get:()=>t.get(),register:(s,o)=>{n.set(gZ(n.get(),s,o))}}},gb=ie.each,hb=ie.explode,bZ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},xA=ie.makeMap("alt,ctrl,shift,meta,access"),yZ=e=>e in xA,vZ=e=>{const t={},n=at.os.isMacOS()||at.os.isiOS();gb(hb(e.toLowerCase(),"+"),r=>{yZ(r)?t[r]=!0:/^[0-9]{2,}$/.test(r)?t.keyCode=parseInt(r,10):(t.charCode=r.charCodeAt(0),t.keyCode=bZ[r]||r.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let o;for(o in xA)t[o]?s.push(o):t[o]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class kA{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(gb(n.shortcuts,o=>{n.matchShortcut(s,o)&&(n.pendingPatterns=o.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(o))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,o){const r=this,a=r.normalizeCommandFunc(s);return gb(hb(ie.trim(t)),l=>{const u=r.createShortcut(l,n,a,o);r.shortcuts[u.id]=u}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:ie.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,o){const r=ie.map(hb(t,">"),vZ);return r[r.length-1]=ie.extend(r[r.length-1],{func:s,scope:o||this.editor}),ie.extend(r[0],{desc:this.editor.translate(n),subpatterns:r.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const CZ=()=>{const e={},t={},n={},s={},o={},r={},a={},l={},u=(m,g)=>(y,w)=>{m[y.toLowerCase()]=yt(Oe({},w),{type:g})},d=(m,g)=>s[m.toLowerCase()]=g;return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(r,"contexttoolbar"),addContextForm:u(r,"contextform"),addSidebar:u(a,"sidebar"),addView:u(l,"views"),addIcon:d,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:o,contextToolbars:r,sidebars:a,views:l})}},EZ=()=>{const e=CZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},oi=_t.DOM,NA=ie.extend,wZ=ie.each;class Uf{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,NA(this,wA);const o=this;this.id=t,this.hidden=!1;const r=nX(s.defaultOptions,n);this.options=dZ(o,r),$I(o);const a=this.options.get;a("deprecation_warnings")&&l3(n,r);const l=a("suffix");l&&(s.suffix=l),this.suffix=s.suffix;const u=a("base_url");u&&s._setBaseUrl(u),this.baseUri=s.baseURI;const d=Qp(o);d&&(Eo.ScriptLoader._setReferrerPolicy(d),_t.DOM.styleSheetLoader._setReferrerPolicy(d));const m=_E(o);q(m)&&_t.DOM.styleSheetLoader._setContentCssCors(m),wn.languageLoad=a("language_load"),wn.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new ys(dE(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=tm(o),this.hasVisual=x$(o),this.shortcuts=new kA(this),this.editorCommands=new yA(this),WX(this);const g=a("cache_suffix");g&&(at.cacheSuffix=g.replace(/^[\?\&]+/,"")),this.ui={registry:EZ(),styleSheetLoader:void 0,show:Be,hide:Be,setEnabled:Be,isEnabled:Et},this.mode=hZ(o),s.dispatch("SetupEditor",{editor:this});const y=T$(o);ce(y)&&y.call(o,o)}render(){HY(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return qr(this)}translate(t){return Rs.translate(t)}getParam(t,n,s){const o=this.options;return o.isRegistered(t)||(q(s)?o.register(t,{processor:s,default:n}):o.register(t,{processor:Et,default:n})),!o.isSet(t)&&!Ee(n)?n:o.get(t)}hasPlugin(t,n){return I(hu(this),t)?n?oa.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,o){this.shortcuts.add(t,n,s,o)}execCommand(t,n,s,o){return this.editorCommands.execCommand(t,n,s,o)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(oi.show(t.getContainer()),oi.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(oi.hide(t.getContainer()),oi.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const o=yt(Oe({},t),{load:!0}),r=pp(s)?s.value:s.innerHTML,a=n.setContent(r,o);return o.no_events||n.dispatch("LoadContent",yt(Oe({},o),{element:s})),a}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const o=yt(Oe({},t),{save:!0,element:s});let r=n.getContent(o);const a=yt(Oe({},o),{content:r});if(a.no_events||n.dispatch("SaveContent",a),a.format==="raw"&&n.dispatch("RawSaveContent",a),r=a.content,pp(s))s.value=r;else{(t.is_removing||!n.inline)&&(s.innerHTML=r);const l=oi.getParent(n.id,"form");l&&wZ(l.elements,u=>u.name===n.id?(u.value=r,!1):!0)}return a.element=o.element=s=null,a.set_dirty!==!1&&n.setDirty(!1),r}setContent(t,n){return Zg(this,t,n)}getContent(t){return XW(this,t)}insertContent(t,n){n&&(t=NA({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Zg(this,this.startContent,{format:"raw"}):Zg(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||oi.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=oi.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const o=this,r=o.options.get,a=R$(o);if(ce(a))return a.call(o,t,s,!0,n);if(!r("convert_urls")||s==="link"||V(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const l=new ys(t);return l.protocol!=="http"&&l.protocol!=="https"&&l.protocol!==""?t:r("relative_urls")?o.documentBaseURI.toRelative(t):(t=o.documentBaseURI.toAbsolute(t,r("remove_script_host")),t)}addVisual(t){sX(this,t)}setEditableRoot(t){zY(this,t)}hasEditableRoot(){return VY(this)}remove(){p3(this)}destroy(t){m3(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const da=_t.DOM,Hf=ie.each;let TA=!1,zf,Rn=[];const Vf=e=>{const t=e.type;Hf(tr.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},AA=e=>{if(e!==TA){const t=_t.DOM;e?(t.bind(window,"resize",Vf),t.bind(window,"scroll",Vf)):(t.unbind(window,"resize",Vf),t.unbind(window,"scroll",Vf)),TA=e}},RA=e=>{const t=Rn;return Rn=J(Rn,n=>e!==n),tr.activeEditor===e&&(tr.activeEditor=Rn.length>0?Rn[0]:null),tr.focusedEditor===e&&(tr.focusedEditor=null),t.length!==Rn.length},_Z=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(RA(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},SZ=document.compatMode!=="CSS1Compat",tr=yt(Oe({},pb),{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.2",releaseDate:"2023-12-11",i18n:Rs,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=ys.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const r=document.getElementsByTagName("script");for(let a=0;a<r.length;a++){const l=r[a].src||"";if(l==="")continue;const u=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){u.indexOf(".min")!==-1&&(n=".min"),t=l.substring(0,l.lastIndexOf("/"));break}}if(!t&&document.currentScript){const a=document.currentScript.src;a.indexOf(".min")!==-1&&(n=".min"),t=a.substring(0,a.lastIndexOf("/"))}}e.baseURL=new ys(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new ys(e.baseURL),e.suffix=n,JM(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&xt(s,(o,r)=>{wn.PluginManager.urls[r]=o})},init(e){const t=this;let n;const s=ie.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=(m,g)=>m.inline&&g.tagName.toLowerCase()in s,r=m=>{let g=m.id;return g||(g=Nt(m,"name").filter(y=>!da.get(y)).getOrThunk(da.uniqueId),m.setAttribute("id",g)),g},a=m=>{const g=e[m];if(g)return g.apply(t,[])},l=m=>at.browser.isIE()||at.browser.isEdge()?(tf("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):SZ?(tf("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):A(m.selector)?da.select(m.selector):q(m.target)?[m.target]:[];let u=m=>{n=m};const d=()=>{let m=0;const g=[];let y;const w=(_,E,S)=>{const T=new Uf(_,E,t);g.push(T),T.on("init",()=>{++m===y.length&&u(g)}),T.targetElm=T.targetElm||S,T.render()};da.unbind(window,"ready",d),a("onpageload"),y=$l(l(e)),ie.each(y,_=>{_Z(t.get(_.id))}),y=ie.grep(y,_=>!t.get(_.id)),y.length===0?u([]):Hf(y,_=>{o(e,_)?tf("Could not initialize inline editor on invalid inline target element",_):w(r(_),e,_)})};return da.bind(window,"ready",d),new Promise(m=>{n?m(n):u=g=>{m(g)}})},get(e){return arguments.length===0?Rn.slice(0):A(e)?Pe(Rn,t=>t.id===e).getOr(null):Ge(e)&&Rn[e]?Rn[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Rn.push(e),AA(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),zf||(zf=s=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return s.preventDefault(),s.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",zf))),e},createEditor(e,t){return this.add(new Uf(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=Rn.length-1;s>=0;s--)t.remove(Rn[s]);return}if(A(e)){Hf(da.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,ke(t.get(n.id))?null:(RA(n)&&t.dispatch("RemoveEditor",{editor:n}),Rn.length===0&&window.removeEventListener("beforeunload",zf),n.remove(),AA(Rn.length>0),n)},execCommand(e,t,n){var s;const o=this,r=V(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!o.get(r)){const a=n.options;new Uf(r,a,o).render()}return!0}case"mceRemoveEditor":{const a=o.get(r);return a&&a.remove(),!0}case"mceToggleEditor":{const a=o.get(r);return a?(a.isHidden()?a.show():a.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return o.activeEditor?o.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{Hf(Rn,e=>{e.save()})},addI18n:(e,t)=>{Rs.add(e,t)},translate:e=>Rs.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ys(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ys(this.baseURL)}});tr.setup();const xZ=(()=>{const e=jo(),t=r=>({items:r,types:In(r),getType:a=>Nt(r,a).getOrUndefined()}),n=r=>{e.set(r)},s=()=>e.get().getOrUndefined(),o=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:o}})(),PA=Math.min,pa=Math.max,jf=Math.round,OA=(e,t,n)=>{let s=t.x,o=t.y;const r=e.w,a=e.h,l=t.w,u=t.h,d=(n||"").split("");return d[0]==="b"&&(o+=u),d[1]==="r"&&(s+=l),d[0]==="c"&&(o+=jf(u/2)),d[1]==="c"&&(s+=jf(l/2)),d[3]==="b"&&(o-=a),d[4]==="r"&&(s-=r),d[3]==="c"&&(o-=jf(a/2)),d[4]==="c"&&(s-=jf(r/2)),ma(s,o,r,a)},kZ=(e,t,n,s)=>{for(let o=0;o<s.length;o++){const r=OA(e,t,s[o]);if(r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return s[o]}return null},NZ=(e,t,n)=>ma(e.x-t,e.y-n,e.w+t*2,e.h+n*2),TZ=(e,t)=>{const n=pa(e.x,t.x),s=pa(e.y,t.y),o=PA(e.x+e.w,t.x+t.w),r=PA(e.y+e.h,t.y+t.h);return o-n<0||r-s<0?null:ma(n,s,o-n,r-s)},AZ=(e,t,n)=>{let s=e.x,o=e.y,r=e.x+e.w,a=e.y+e.h;const l=t.x+t.w,u=t.y+t.h,d=pa(0,t.x-s),m=pa(0,t.y-o),g=pa(0,r-l),y=pa(0,a-u);return s+=d,o+=m,n&&(r+=d,a+=m,s-=g,o-=y),r-=g,a-=y,ma(s,o,r-s,a-o)},ma=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),RZ={inflate:NZ,relativePosition:OA,findBestRelativePosition:kZ,intersect:TZ,clamp:AZ,create:ma,fromClientRect:e=>ma(e.left,e.top,e.width,e.height)},PZ=(e,t,n=1e3)=>{let s=!1,o=null;const r=d=>(...m)=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),d.apply(null,m))},a=r(e),l=r(t);return{start:(...d)=>{!s&&o===null&&(o=setTimeout(()=>l.apply(null,d),n))},resolve:a,reject:l}},OZ=(()=>{const e={},t={},n={};return{load:(u,d)=>{const m=`Script at URL "${d}" failed to load`,g=`Script at URL "${d}" did not call \`tinymce.Resource.add('${u}', data)\` within 1 second`;if(e[u]!==void 0)return e[u];{const y=new Promise((w,_)=>{const E=PZ(w,_);t[u]=E.resolve,Eo.ScriptLoader.loadScript(d).then(()=>E.start(g),()=>E.reject(m))});return e[u]=y,y}},add:(u,d)=>{t[u]!==void 0&&(t[u](d),delete t[u]),e[u]=Promise.resolve(d),n[u]=d},has:u=>u in n,get:u=>n[u],unload:u=>{delete e[u]}}})(),DZ=()=>(()=>{let e={},t=[];const n={getItem:s=>{const o=e[s];return o||null},setItem:(s,o)=>{t.push(s),e[s]=String(o)},key:s=>t[s],removeItem:s=>{t=t.filter(o=>o===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let sl;try{const e="__storage_test__";sl=window.localStorage,sl.setItem(e,e),sl.removeItem(e)}catch(e){sl=DZ()}var BZ=sl;const IZ={geom:{Rect:RZ},util:{Delay:ss,Tools:ie,VK:me,URI:ys,EventDispatcher:db,Observable:pb,I18n:Rs,LocalStorage:BZ,ImageUploader:K3},dom:{EventUtils:Ir,TreeWalker:Yt,TextSeeker:Lr,DOMUtils:_t,ScriptLoader:Eo,RangeUtils:Kr,Serializer:ZS,StyleSheetLoader:aC,ControlSelection:Tw,BookmarkManager:Sc,Selection:XS,Event:Ir.Event},html:{Styles:$p,Entities:zo,Node:_n,Schema:Vo,DomParser:na,Writer:y_,Serializer:Yo},Env:at,AddOnManager:wn,Annotator:vw,Formatter:dx,UndoManager:mx,EditorCommands:yA,WindowManager:ox,NotificationManager:sx,EditorObservable:wA,Shortcuts:kA,Editor:Uf,FocusManager:Zw,EditorManager:tr,DOM:_t.DOM,ScriptLoader:Eo.ScriptLoader,PluginManager:oa,ThemeManager:Jr,ModelManager:sa,IconManager:Qu,Resource:OZ,FakeClipboard:xZ,trim:ie.trim,isArray:ie.isArray,is:ie.is,toArray:ie.toArray,makeMap:ie.makeMap,each:ie.each,map:ie.map,grep:ie.grep,inArray:ie.inArray,extend:ie.extend,walk:ie.walk,resolve:ie.resolve,explode:ie.explode,_addCacheSuffix:ie._addCacheSuffix},DA=ie.extend(tr,IZ),$Z=e=>{try{i.exports=e}catch(t){}};(e=>{window.tinymce=e,window.tinyMCE=e})(DA),$Z(DA)})()})(Ry);var yte=Ry.exports;const Nne=bte(yte);var vte=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Cte=function(i){return vte.map(function(c){return c.toLowerCase()}).indexOf(i.toLowerCase())!==-1},Ete=function(i,c,f){Object.keys(c).filter(Cte).forEach(function(p){var h=c[p];typeof h=="function"&&(p==="onInit"?h(i,f):f.on(p.substring(2),function(b){return h(b,f)}))})},wte=function(i,c,f,p){var h=i.modelEvents?i.modelEvents:null,b=Array.isArray(h)?h.join(" "):h;co(p,function(C,x){f&&typeof C=="string"&&C!==x&&C!==f.getContent({format:i.outputFormat})&&f.setContent(C)}),f.on(b||"change input undo redo",function(){c.emit("update:modelValue",f.getContent({format:i.outputFormat}))})},_te=function(i,c,f,p,h,b){p.setContent(b()),f.attrs["onUpdate:modelValue"]&&wte(c,f,p,h),Ete(i,f.attrs,p)},DR=0,CO=function(i){var c=Date.now(),f=Math.floor(Math.random()*1e9);return DR++,i+"_"+f+DR+String(c)},Ste=function(i){return i!==null&&i.tagName.toLowerCase()==="textarea"},BR=function(i){return typeof i=="undefined"||i===""?[]:Array.isArray(i)?i:i.split(" ")},xte=function(i,c){return BR(i).concat(BR(c))},kte=function(i){return i==null},IR=function(){return{listeners:[],scriptId:CO("tiny-script"),scriptLoaded:!1}},Nte=function(){var i=IR(),c=function(h,b,C,x){var N=b.createElement("script");N.referrerPolicy="origin",N.type="application/javascript",N.id=h,N.src=C;var D=function(){N.removeEventListener("load",D),x()};N.addEventListener("load",D),b.head&&b.head.appendChild(N)},f=function(h,b,C){i.scriptLoaded?C():(i.listeners.push(C),h.getElementById(i.scriptId)||c(i.scriptId,h,b,function(){i.listeners.forEach(function(x){return x()}),i.scriptLoaded=!0}))},p=function(){i=IR()};return{load:f,reinitialize:p}},Tte=Nte(),Ate=function(){return typeof window!="undefined"?window:global},ui=function(){var i=Ate();return i&&i.tinymce?i.tinymce:null},Rte={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(i){return i==="html"||i==="text"}}},pi=globalThis&&globalThis.__assign||function(){return pi=Object.assign||function(i){for(var c,f=1,p=arguments.length;f<p;f++){c=arguments[f];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(i[h]=c[h])}return i},pi.apply(this,arguments)},Pte=function(i,c,f,p){return i(p||"div",{id:c,ref:f})},Ote=function(i,c,f){return i("textarea",{id:c,visibility:"hidden",ref:f})},Tne=Ld({props:Rte,setup:function(i,c){var f=i.init?pi({},i.init):{},p=sP(i),h=p.disabled,b=p.modelValue,C=p.tagName,x=hi(null),N=null,D=i.id||CO("tiny-vue"),W=i.init&&i.init.inline||i.inline,$=!!c.attrs["onUpdate:modelValue"],K=!0,ue=i.initialValue?i.initialValue:"",pe="",De=function(de){return $?function(){return b!=null&&b.value?b.value:""}:function(){return de?ue:pe}},Ve=function(){var de=De(K),A=pi(pi({},f),{readonly:i.disabled,selector:"#"+D,plugins:xte(f.plugins,i.plugins),toolbar:i.toolbar||f.toolbar,inline:W,setup:function(V){N=V,V.on("init",function(ee){return _te(ee,i,c,V,b,de)}),typeof f.setup=="function"&&f.setup(V)}});Ste(x.value)&&(x.value.style.visibility=""),ui().init(A),K=!1};co(h,function(de){var A;N!==null&&(typeof((A=N.mode)===null||A===void 0?void 0:A.set)=="function"?N.mode.set(de?"readonly":"design"):N.setMode(de?"readonly":"design"))}),co(C,function(de){var A;$||(pe=N.getContent()),(A=ui())===null||A===void 0||A.remove(N),wl(function(){return Ve()})}),Pa(function(){if(ui()!==null)Ve();else if(x.value&&x.value.ownerDocument){var de=i.cloudChannel?i.cloudChannel:"5",A=i.apiKey?i.apiKey:"no-api-key",V=kte(i.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+A+"/tinymce/"+de+"/tinymce.min.js":i.tinymceScriptSrc;Tte.load(x.value.ownerDocument,V,Ve)}}),Il(function(){ui()!==null&&ui().remove(N)}),W||(hy(function(){K||Ve()}),by(function(){var de;$||(pe=N.getContent()),(de=ui())===null||de===void 0||de.remove(N)}));var tt=function(de){var A;pe=N.getContent(),(A=ui())===null||A===void 0||A.remove(N),f=pi(pi({},f),de),wl(function(){return Ve()})};return c.expose({rerender:tt}),function(){return W?Pte(Sd,D,x,i.tagName):Ote(Sd,D,x)}}});export{XQ as $,iO as A,vP as B,Dn as C,cee as D,_y as E,Nn as F,sn as G,sP as H,mt as I,qb as J,Sne as K,bte as L,FQ as M,CP as N,zR as O,rJ as P,kQ as Q,tte as R,hy as S,Ci as T,by as U,pte as V,xne as W,_ne as X,rQ as Y,mee as Z,tP as _,Ud as a,sy as a0,oJ as a1,ur as a2,CQ as a3,ZJ as a4,JJ as a5,zd as a6,lee as a7,dte as a8,ly as a9,SQ as aa,Ey as ab,wy as ac,sJ as ad,jP as ae,NQ as af,iQ as ag,eJ as ah,VP as ai,Ol as aj,ty as ak,$J as al,tO as am,Oo as an,Pl as ao,$Q as ap,xQ as aq,Tne as ar,Nne as as,kd as at,bd as au,Qee as av,pee as aw,dl as ax,wQ as ay,Hd as b,gl as c,Ld as d,ZP as e,hi as f,Bo as g,gQ as h,hr as i,Il as j,Vt as k,Sd as l,ky as m,wl as n,Pa as o,AP as p,yQ as q,Pd as r,RJ as s,OJ as t,iy as u,aQ as v,co as w,lo as x,MJ as y,ute as z};
