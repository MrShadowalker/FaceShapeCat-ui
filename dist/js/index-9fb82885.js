var K=(_,D,r)=>new Promise((U,g)=>{var T=d=>{try{y(r.next(d))}catch(m){g(m)}},M=d=>{try{y(r.throw(d))}catch(m){g(m)}},y=d=>d.done?U(d.value):Promise.resolve(d.value).then(T,M);y((r=r.apply(_,D)).next())});import{d as ge,f,e as ve,r as I,w as ye,u as l,Y as s,a6 as S,a7 as $,a8 as be,k as e,a9 as t,F as he,Z as q,ac as R,E as p,ad as Y,ab as xe,aj as Ce,a4 as we,a5 as ke,I as Ie}from"./tinymce-vendor-3c2b3d6e.js";import{u as Se}from"./index-0f0d0317.js";import"./index-64ecc8b2.js";import{g as z,a as Re,_ as De,b as Ue,c as Te,s as Me,d as je,e as Ee}from"./DemoModal-d52fb320.js";import{e as Fe}from"./JImportModal-15f7db6a.js";import{l as A}from"./JDictSelectTag-f0227cc5.js";import{aQ as Ke,_ as $e}from"./jeecg-online-vendor-f57c6456.js";import{az as qe,E as O,m as Be}from"./index-37448b2d.js";import{Q as Ne}from"./index-2ad3f236.js";import Qe from"./BasicTable-400bb95b.js";import"./antd-vue-vendor-05bfa84d.js";import"./BasicModal-9d388b71.js";import"./useWindowSizeFn-e63bb4b0.js";import"./vxe-table-vendor-26792376.js";import"./index-09260ce4.js";import"./useForm-df7d93c5.js";import"./componentMap-e2e33057.js";import"./useFormItem-613b6d5d.js";import"./index-ee632f67.js";import"./index-b5f97370.js";import"./useCountdown-d833a954.js";import"./useFormItemSingle-4fd81116.js";import"./JAddInput-a2153936.js";import"./areaDataUtil-10873080.js";import"./data-9be677e2.js";import"./useSelectBiz-b5c21498.js";import"./props-ea47501e.js";import"./JSelectBiz-b887fca6.js";import"./index-2d7d6454.js";import"./htmlmixed-6ab39e30.js";import"./codemirror-vendor-0a03fef5.js";import"./vue-41a95ea0.js";/* empty css             */import"./anyword-hint-577f8e6e.js";import"./index-d4a67b72.js";import"./bem-a6e46c9e.js";import"./props-3977d3d5.js";import"./useContextMenu-3e9e42e0.js";import"./depart.api-76b2f38a.js";import"./JSelectUser-6efbe652.js";import"./JImageUpload-1b0b2e46.js";import"./JSelectDept-073e3b74.js";import"./useTreeBiz-a3326efb.js";import"./JEditor-75d90eae.js";import"./index-13e7f179.js";import"./JPopup-8248ac78.js";import"./cron-parser-vendor-a4cfb0b0.js";import"./JTreeSelect-73cfd2cd.js";import"./JEllipsis-242e7bd0.js";import"./JUpload-70acb676.js";import"./index-76418551.js";import"./JSearchSelect-4158b9a9.js";import"./index-3dc0c4fd.js";import"./index-aba90786.js";import"./formUtils-09c7de86.js";import"./renderUtils-59564de6.js";import"./CompTypeEnum-5c91fd88.js";import"./download-2caf3e60.js";import"./base64Conver-fa2fe1af.js";import"./injectionKey-69710956.js";const V=_=>(we("data-v-ef347cb7"),_=_(),ke(),_),Ye=V(()=>R("span",null,"~",-1)),ze={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Ae=V(()=>R("span",null,"~",-1)),Oe=ge({__name:"index",setup(_){const D=qe(),r=f([]),[U,{openModal:g}]=O(),[T,{openModal:M}]=O(),{handleExportXls:y,handleImportXls:d}=Ke(),m=f(),j=f(),w=f(!1),[P,{reload:v,setProps:B}]=Se({title:"单表示例",api:Ue,columns:Te,formConfig:{schemas:Me,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"createTime,sex",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),J={type:"checkbox",columnWidth:40,selectedRowKeys:r,onChange:H};function L(){M(!0)}const X=ve(()=>{let a={};return r.value&&r.value.length>0&&(a.selections=r.value.join(",")),Be(a)});function G(a){return[{label:"编辑",onClick:Z.bind(null,a)},{label:"详情",onClick:ee.bind(null,a)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:te.bind(null,a)}}]}function H(a){r.value=a}function W(){w.value=!1,g(!0,{isUpdate:!1})}function Z(a){w.value=!1,g(!0,{record:a,isUpdate:!0})}function ee(a){w.value=!0,g(!0,{record:a,isUpdate:!0})}function te(a){return K(this,null,function*(){yield je({id:a.id},v)})}function oe(){return K(this,null,function*(){yield Ee({ids:r.value},v)})}function N(a,o){a[o]=[l(m),l(j)]}function ae(){D("/comp/jeecg/basic")}const Ve=f(),ne=I({xs:{span:24},sm:{span:7}}),le=I({xs:{span:24},sm:{span:16}}),b=f(!1),c=f(!1),i=I({name:"",age_begin:"",age_end:"",sex:"",id:""});ye(c,()=>{B({useSearchForm:!l(c)})});function E(){B({searchInfo:Ie(i)}),v()}function ie(){Object.assign(i,{name:"",age_begin:"",age_end:"",sex:"",id:""}),v()}const re=I({name:{title:"名称",view:"text",type:"string",order:1},sex:{title:"性别",view:"list",type:"string",dictCode:"sex",order:2}});function se(a){Object.keys(a).map(o=>{i[o]=a[o]}),E()}return(a,o)=>{const h=s("a-input"),k=s("a-form-item"),x=s("a-col"),u=s("a-button"),F=s("Icon"),pe=s("a-row"),ue=s("a-form"),de=s("a-upload"),me=s("super-query"),ce=s("a-menu-item"),fe=s("a-menu"),_e=s("a-dropdown");return S(),$("div",null,[c.value?(S(),$("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:be(E,["enter"])},[e(ue,{ref:"formRef",model:i,"label-col":ne,"wrapper-col":le},{default:t(()=>[e(pe,{gutter:24},{default:t(()=>[e(x,{lg:8},{default:t(()=>[e(k,{label:"用户名"},{default:t(()=>[e(h,{placeholder:"请输入名称模糊查询",value:i.name,"onUpdate:value":o[0]||(o[0]=n=>i.name=n)},null,8,["value"])]),_:1})]),_:1}),e(x,{lg:8},{default:t(()=>[e(k,{label:"年龄"},{default:t(()=>[e(h,{placeholder:"最小年龄",type:"ge",value:i.age_begin,"onUpdate:value":o[1]||(o[1]=n=>i.age_begin=n),style:{width:"calc(50% - 15px)"}},null,8,["value"]),Ye,e(h,{placeholder:"最大年龄",type:"le",value:i.age_end,"onUpdate:value":o[2]||(o[2]=n=>i.age_end=n),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),b.value?(S(),$(he,{key:0},[e(x,{lg:8},{default:t(()=>[e(k,{label:"性别"},{default:t(()=>[e(A,{value:i.sex,"onUpdate:value":o[3]||(o[3]=n=>i.sex=n),placeholder:"请选择性别",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(x,{lg:8},{default:t(()=>[e(k,{label:"选择用户"},{default:t(()=>[e(A,{value:i.id,"onUpdate:value":o[4]||(o[4]=n=>i.id=n),placeholder:"请选择用户",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):q("",!0),R("span",ze,[e(x,{lg:6},{default:t(()=>[e(u,{type:"primary",preIcon:"ant-design:search-outlined",onClick:E},{default:t(()=>[p("查询")]),_:1}),e(u,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ie,style:{"margin-left":"8px"}},{default:t(()=>[p("重置")]),_:1}),R("a",{onClick:o[5]||(o[5]=n=>b.value=!b.value),style:{"margin-left":"8px"}},[p(Y(b.value?"收起":"展开")+" ",1),e(F,{icon:b.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],32)):q("",!0),e(l(Qe),{onRegister:l(P),rowSelection:J,class:Ce({"p-4":c.value})},{"form-age":t(({model:n,field:Q})=>[e(h,{placeholder:"最小年龄",type:"ge",value:m.value,"onUpdate:value":o[6]||(o[6]=C=>m.value=C),style:{width:"calc(50% - 15px)"},onChange:C=>N(n,Q)},null,8,["value","onChange"]),Ae,e(h,{placeholder:"最大年龄",type:"le",value:j.value,"onUpdate:value":o[7]||(o[7]=C=>j.value=C),style:{width:"calc(50% - 15px)"},onChange:C=>N(n,Q)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(u,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:W},{default:t(()=>[p("新增")]),_:1}),e(de,{name:"file",showUploadList:!1,customRequest:n=>l(d)(n,l(z),l(v))},{default:t(()=>[e(u,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[p("导入")]),_:1})]),_:1},8,["customRequest"]),e(u,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=n=>l(y)("单表示例",l(Re),X.value))},{default:t(()=>[p("导出")]),_:1}),e(u,{preIcon:"ant-design:filter",type:"primary",onClick:o[9]||(o[9]=()=>{})},{default:t(()=>[p("高级查询")]),_:1}),e(u,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ae},{default:t(()=>[p("打开Tab页")]),_:1}),e(u,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[10]||(o[10]=n=>c.value=!c.value)},{default:t(()=>[p(Y(c.value?"表单配置查询":"自定义查询"),1)]),_:1}),e(u,{preIcon:"ant-design:import-outlined",type:"primary",onClick:L},{default:t(()=>[p("弹窗导入")]),_:1}),e(me,{config:re,onSearch:se},null,8,["config"]),r.value.length>0?(S(),xe(_e,{key:0},{overlay:t(()=>[e(fe,null,{default:t(()=>[e(ce,{key:"1",onClick:oe},{default:t(()=>[e(F,{icon:"ant-design:delete-outlined"}),p(" 删除 ")]),_:1})]),_:1})]),default:t(()=>[e(u,null,{default:t(()=>[p("批量操作 "),e(F,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):q("",!0)]),action:t(({record:n})=>[e(l(Ne),{actions:G(n)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(De,{onRegister:l(U),onSuccess:l(v),isDisabled:w.value},null,8,["onRegister","onSuccess","isDisabled"]),e(Fe,{onRegister:l(T),url:l(z),online:""},null,8,["onRegister","url"])])}}});const Zt=$e(Oe,[["__scopeId","data-v-ef347cb7"]]);export{Zt as default};
