import P from"./PositionSelectModal-78464b4e.js";import E from"./JSelectBiz-f6a2b32b.js";import{d as J,f as l,r as R,p as i,h as w,w as $,u as v,Y as _,a6 as b,a7 as j,k as h,ae as S}from"./tinymce-vendor-3c2b3d6e.js";import"./index-64ecc8b2.js";import{p as r,E as k}from"./index-37448b2d.js";import{useRuleFormItem as z}from"./useFormItem-613b6d5d.js";import{ar as A,_ as C}from"./jeecg-online-vendor-f57c6456.js";import"./useSelectBiz-b5c21498.js";import"./props-ea47501e.js";import"./antd-vue-vendor-05bfa84d.js";import"./BasicModal-9d388b71.js";import"./useWindowSizeFn-e63bb4b0.js";import"./vxe-table-vendor-26792376.js";const G=J({name:"JSelectPosition",components:{PositionSelectModal:P,JSelectBiz:E},inheritAttrs:!1,props:{value:r.oneOfType([r.string,r.array]),labelKey:{type:String,default:"name"},rowKey:{type:String,default:"id"},params:{type:Object,default:()=>{}}},emits:["options-change","change","update:value"],setup(e,{emit:c,refs:y}){const u=l(),[p,{openModal:d}]=k(),[o]=z(e,"value","change",u),n=l([]);let a=R({value:[],change:!1});const f=l(!1);i("selectOptions",n),i("selectValues",a),i("loadingEcho",f);const m=l(!1),g=A();w(()=>{e.value&&V()}),$(a,()=>{a&&(o.value=a.value)});function O(){m.value=!0,d(!0,{isUpdate:!1})}function V(){let t=e.value?e.value:[];t&&typeof t=="string"&&t!="null"&&t!="undefined"&&(o.value=t.split(","),a.value=t.split(","))}function B(t,s){n.value=t,o.value=s,a.value=s,c("update:value",s.join(","))}const M=Object.assign({},v(e),v(g));return{state:o,getBindValue:M,attrs:g,selectOptions:n,selectValues:a,loadingEcho:f,tag:m,regModal:p,setValue:B,handleOpen:O}}});function H(e,c,y,u,p,d){const o=_("JSelectBiz"),n=_("PositionSelectModal");return b(),j("div",null,[h(o,S({onHandleOpen:e.handleOpen,loading:e.loadingEcho},e.attrs),null,16,["onHandleOpen","loading"]),h(n,S({onRegister:e.regModal,onGetSelectResult:e.setValue},e.getBindValue),null,16,["onRegister","onGetSelectResult"])])}const Z=C(G,[["render",H],["__scopeId","data-v-7119aa3d"]]);export{Z as default};
