import M from"./RoleSelectModal-32681bd6.js";import E from"./JSelectBiz-f6a2b32b.js";import{d as J,f as n,r as w,p as s,h as $,w as b,u as v,Y as g,a6 as k,a7 as z,k as _,ae as h}from"./tinymce-vendor-3c2b3d6e.js";import"./index-64ecc8b2.js";import{p as r,E as j}from"./index-37448b2d.js";import{useRuleFormItem as A}from"./useFormItem-613b6d5d.js";import{ar as C,_ as G}from"./jeecg-online-vendor-f57c6456.js";import"./useSelectBiz-b5c21498.js";import"./props-ea47501e.js";import"./antd-vue-vendor-05bfa84d.js";import"./BasicModal-9d388b71.js";import"./useWindowSizeFn-e63bb4b0.js";import"./vxe-table-vendor-26792376.js";const H=J({name:"JSelectRole",components:{RoleSelectModal:M,JSelectBiz:E},inheritAttrs:!1,props:{value:r.oneOfType([r.string,r.array]),labelKey:{type:String,default:"roleName"},rowKey:{type:String,default:"id"},params:{type:Object,default:()=>{}}},emits:["options-change","change"],setup(e,{emit:S,refs:y}){const i=n(),[c,{openModal:u}]=j(),[l]=A(e,"value","change",i),o=n([]);let t=w({value:[],change:!1});const p=n(!1);s("selectOptions",o),s("selectValues",t),s("loadingEcho",p);const d=n(!1),f=C();$(()=>{e.value&&O(),e.value||(t.value=[])}),b(t,()=>{t&&(l.value=t.value)});function R(){d.value=!0,u(!0,{isUpdate:!1})}function O(){let a=e.value?e.value:[];a&&typeof a=="string"&&a!="null"&&a!="undefined"?(l.value=a.split(","),t.value=a.split(",")):t.value=a}function V(a,m){o.value=a,l.value=m,t.value=m}const B=Object.assign({},v(e),v(f));return{state:l,attrs:f,getBindValue:B,selectOptions:o,selectValues:t,loadingEcho:p,tag:d,regModal:c,setValue:V,handleOpen:R}}});function I(e,S,y,i,c,u){const l=g("JSelectBiz"),o=g("RoleSelectModal");return k(),z("div",null,[_(l,h({onHandleOpen:e.handleOpen,loading:e.loadingEcho},e.attrs),null,16,["onHandleOpen","loading"]),_(o,h({onRegister:e.regModal,onGetSelectResult:e.setValue},e.getBindValue),null,16,["onRegister","onGetSelectResult"])])}const Z=G(H,[["render",I],["__scopeId","data-v-63564240"]]);export{Z as default};
