var y=(s,v,i)=>new Promise((a,p)=>{var u=t=>{try{n(i.next(t))}catch(r){p(r)}},l=t=>{try{n(i.throw(t))}catch(r){p(r)}},n=t=>t.done?a(t.value):Promise.resolve(t.value).then(u,l);n((i=i.apply(s,v)).next())});import{d as V,f as g,e as S,w as T,Y as h,a6 as D,ab as J,a9 as f,ac as _,ad as R,k as d,ae as b,u as m,z as j,n as z}from"./tinymce-vendor-3c2b3d6e.js";import{p as o,k as A,l as w}from"./index-37448b2d.js";import{ar as E}from"./jeecg-online-vendor-f57c6456.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";const M={style:{float:"right"},title:"关闭"},H=V({__name:"JInputPop",props:{value:o.string.def(""),title:o.string.def(""),position:o.string.def("right"),width:o.number.def(300),height:o.number.def(150),disabled:o.bool.def(!1),popContainer:o.oneOfType([o.string,o.func]).def("")},emits:["change","update:value"],setup(s,{emit:v}){const{prefixCls:i}=A("j-input-popup"),a=s,p=E(),u=v,l=g(!1),n=g(""),t=g(),r=S(()=>({height:`${a.height}px`,width:`${a.width}px`}));T(()=>a.value,e=>{e&&e.length>0&&(n.value=e)},{immediate:!0});function C(e){n.value=e.target.value,N(n.value)}function k(){return y(this,null,function*(){var e;l.value=!0,yield z(),(e=t.value)==null||e.focus()})}function I(e){return a.popContainer?typeof a.popContainer=="function"?a.popContainer(e):document.getElementById(a.popContainer):e==null?void 0:e.parentNode}function N(e){u("change",e),u("update:value",e)}return(e,c)=>{const P=h("a-textarea"),$=h("a-input"),B=h("a-popover");return D(),J(B,{trigger:"contextmenu",open:l.value,"onUpdate:open":c[1]||(c[1]=x=>l.value=x),overlayClassName:`${m(i)}-popover`,getPopupContainer:I,placement:s.position},{title:f(()=>[_("span",null,R(s.title),1),_("span",M,[d(w,{icon:"ant-design:close-outlined",onClick:c[0]||(c[0]=x=>l.value=!1)})])]),content:f(()=>[d(P,b({ref_key:"textareaRef",ref:t,value:n.value,disabled:s.disabled,style:r.value},m(p),{onInput:C}),null,16,["value","disabled","style"])]),default:f(()=>[d($,b({class:`${m(i)}-input`,value:n.value,disabled:s.disabled},m(p),{onChange:C}),{suffix:f(()=>[d(w,{icon:"ant-design:fullscreen-outlined",onClick:j(k,["stop"])})]),_:1},16,["class","value","disabled"])]),_:1},8,["open","overlayClassName","placement"])}}});export{H as default};
