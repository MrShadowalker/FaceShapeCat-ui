var F=(o,r,d)=>new Promise((u,c)=>{var b=l=>{try{e(d.next(l))}catch(m){c(m)}},g=l=>{try{e(d.throw(l))}catch(m){c(m)}},e=l=>l.done?u(l.value):Promise.resolve(l.value).then(b,g);e((d=d.apply(o,r)).next())});import{d as V,f as p,r as z,e as H,Y as i,a6 as L,ab as N,a9 as s,k as n,ae as y,u as T,n as Y}from"./tinymce-vendor-3c2b3d6e.js";import{C as P,ap as B,aM as $,_ as q}from"./jeecg-online-vendor-f57c6456.js";import{J as G}from"./JImageUpload-1b0b2e46.js";import{J as K}from"./JEditor-75d90eae.js";import{a5 as Q}from"./antd-vue-vendor-05bfa84d.js";const{createConfirm:W}=P();const se="/evBrand/evBrand/exportXls",de="/evBrand/evBrand/importExcel",pe=o=>B.get({url:"/evBrand/evBrand/list",params:o}),ie=(o,r)=>B.delete({url:"/evBrand/evBrand/delete",params:o},{joinParamsToUrl:!0}).then(()=>{r()}),ue=(o,r)=>{W({iconType:"warning",title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>B.delete({url:"/evBrand/evBrand/deleteBatch",data:o},{joinParamsToUrl:!0}).then(()=>{r()})})},Z=(o,r)=>{let d=r?"/evBrand/evBrand/edit":"/evBrand/evBrand/add";return B.post({url:d,params:o},{isTransformResponse:!1})},A=V({__name:"EvBrandForm",props:{formDisabled:{type:Boolean,default:!1},formData:{type:Object,default:()=>{}},formBpm:{type:Boolean,default:!0}},emits:["register","ok"],setup(o,{expose:r,emit:d}){const u=o,c=p(),b=Q.useForm,g=d,e=z({id:"",remark:"",name:"",code:"",logoPath:"",description:"",status:""}),{createMessage:l}=P(),m=p({xs:{span:24},sm:{span:6}}),k=p({xs:{span:24},sm:{span:3}}),h=p({xs:{span:24},sm:{span:16}}),E=p({xs:{span:24},sm:{span:21}}),C=p(!1),O={},{resetFields:j,validate:D,validateInfos:x}=b(e,O,{immediate:!0}),w=H(()=>u.formBpm===!0?u.formData.disabled!==!1:u.formDisabled);function I(){U({})}function U(v){Y(()=>{j(),Object.assign(e,v)})}function J(){return F(this,null,function*(){yield D(),C.value=!0;const v=p(!1);let a=e;a.id&&(v.value=!0);for(let t in a)a[t]instanceof Array&&$(c.value.getProps,t)==="string"&&(a[t]=a[t].join(","));yield Z(a,v.value).then(t=>{t.success?(l.success(t.message),g("ok")):l.warning(t.message)}).finally(()=>{C.value=!1})})}return r({add:I,edit:U,submitForm:J}),(v,a)=>{const t=i("a-form-item"),_=i("a-col"),M=i("a-input"),R=i("a-row"),X=i("a-form"),S=i("a-spin");return L(),N(S,{spinning:C.value},{default:s(()=>[n(X,{ref_key:"formRef",ref:c,class:"antd-modal-form",labelCol:m.value,wrapperCol:h.value},{default:s(()=>[n(R,null,{default:s(()=>[n(_,{span:24},{default:s(()=>[n(t,y({label:"品牌logo"},T(x).logoPath,{labelCol:k.value,wrapperCol:E.value}),{default:s(()=>[n(G,{value:e.logoPath,"onUpdate:value":a[0]||(a[0]=f=>e.logoPath=f),disabled:w.value},null,8,["value","disabled"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),n(_,{span:12},{default:s(()=>[n(t,y({label:"品牌名称"},T(x).name),{default:s(()=>[n(M,{value:e.name,"onUpdate:value":a[1]||(a[1]=f=>e.name=f),placeholder:"请输入品牌名称",disabled:w.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),n(_,{span:24},{default:s(()=>[n(t,y({label:"品牌描述"},T(x).description,{labelCol:k.value,wrapperCol:E.value}),{default:s(()=>[n(K,{value:e.description,"onUpdate:value":a[2]||(a[2]=f=>e.description=f),disabled:w.value},null,8,["value","disabled"])]),_:1},16,["labelCol","wrapperCol"])]),_:1})]),_:1})]),_:1},8,["labelCol","wrapperCol"])]),_:1},8,["spinning"])}}});const ee=q(A,[["__scopeId","data-v-5c8b2298"]]),ce=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as E,de as a,ue as b,ce as c,ie as d,se as g,pe as l};
