import{b8 as g,e as _,u as f,C as m,B as v,_ as k}from"./jeecg-online-vendor-f57c6456.js";import{a4 as A,a5 as J,aw as h,a6 as S,a7 as y}from"./tinymce-vendor-3c2b3d6e.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";const I={name:"TokenLogin",setup(){const c=g();let d=_();const{createMessage:o,notification:a}=m(),{t}=v(),s=c.query;s||o.warning("参数无效");const r=s.loginToken;r||o.warning("token无效"),f().ThirdLogin({token:r,thirdType:"email",goHome:!1}).then(e=>{e&&e.userInfo?l(e):u(e)});function u(e){a.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4})}function l(e){let p=s.info;if(p){let i=JSON.parse(p),n="";i.isLowApp===1?n="/myapps/personalOffice/myTodo":n="/task/handle/"+i.taskId,d.replace({path:n,query:i}),a.success({message:t("sys.login.loginSuccessTitle"),description:`${t("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else a.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}}},T="/resource/img/logo.png";const E={class:"app-loading"},w=h('<div class="app-loading-wrap" data-v-0d7a6c75><img src="'+T+'" class="app-loading-logo" alt="Logo" data-v-0d7a6c75><div class="app-loading-dots" data-v-0d7a6c75><span class="dot dot-spin" data-v-0d7a6c75><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i></span></div><div class="app-loading-title" data-v-0d7a6c75>JeecgBoot 企业级低代码平台</div></div>',1),L=[w];function $(c,d,o,a,t,s){return S(),y("div",E,L)}const O=k(I,[["render",$],["__scopeId","data-v-0d7a6c75"]]);export{O as default};
