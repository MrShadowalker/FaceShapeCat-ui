import{u as s}from"./tinymce-vendor-3c2b3d6e.js";import{a9 as c}from"./index-37448b2d.js";import{ao as f}from"./jeecg-online-vendor-f57c6456.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";let o;const r=new Map;function g(e){let n=f()||"";if(o=c(e,{autoReconnect:{retries:10,delay:5e3},heartbeat:{message:"ping",interval:55e3},protocols:[n]}),o){o.open=i,o.close=a;const t=s(o.ws);t!=null&&(t.onerror=u,t.onmessage=l)}}function i(){}function a(e){}function u(e){}function l(e){try{const n=JSON.parse(e.data);for(const t of r.keys())try{t(n)}catch(p){}}catch(n){}}function W(e){r.has(e)||typeof e=="function"&&r.set(e,null)}function d(e){r.delete(e)}function h(){return o}export{g as connectWebSocket,d as offWebSocket,W as onWebSocket,h as useMyWebSocket};
