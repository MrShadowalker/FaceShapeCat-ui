var f=(o,l,e)=>new Promise((c,s)=>{var d=r=>{try{t(e.next(r))}catch(i){s(i)}},a=r=>{try{t(e.throw(r))}catch(i){s(i)}},t=r=>r.done?c(r.value):Promise.resolve(r.value).then(d,a);t((e=e.apply(o,l)).next())});import{d as w,e as _,Y as u,a6 as y,ab as $,ae as F,a9 as k,ac as p,aj as n,ad as g,k as h,E as L}from"./tinymce-vendor-3c2b3d6e.js";import{u as M,B as S,_ as I}from"./jeecg-online-vendor-f57c6456.js";import{k as b,C as R}from"./index-37448b2d.js";import{B as N}from"./index-64ecc8b2.js";import{B as P,u as U}from"./useForm-df7d93c5.js";import{u as V}from"./lock-a355fec7.js";import{h as D}from"./header-55b09394.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";import"./BasicModal-9d388b71.js";import"./useWindowSizeFn-e63bb4b0.js";import"./componentMap-e2e33057.js";import"./useFormItem-613b6d5d.js";import"./index-2ad3f236.js";import"./download-2caf3e60.js";import"./base64Conver-fa2fe1af.js";import"./index-ee632f67.js";import"./index-b5f97370.js";import"./useCountdown-d833a954.js";import"./useFormItemSingle-4fd81116.js";import"./JAddInput-a2153936.js";import"./areaDataUtil-10873080.js";import"./data-9be677e2.js";import"./useSelectBiz-b5c21498.js";import"./props-ea47501e.js";import"./JSelectBiz-b887fca6.js";import"./index-2d7d6454.js";import"./htmlmixed-6ab39e30.js";import"./codemirror-vendor-0a03fef5.js";import"./vue-41a95ea0.js";/* empty css             */import"./anyword-hint-577f8e6e.js";import"./index-d4a67b72.js";import"./bem-a6e46c9e.js";import"./props-3977d3d5.js";import"./useContextMenu-3e9e42e0.js";import"./depart.api-76b2f38a.js";import"./JSelectUser-6efbe652.js";import"./JImageUpload-1b0b2e46.js";import"./JDictSelectTag-f0227cc5.js";import"./CompTypeEnum-5c91fd88.js";import"./JSelectDept-073e3b74.js";import"./useTreeBiz-a3326efb.js";import"./JEditor-75d90eae.js";import"./index-13e7f179.js";import"./JPopup-8248ac78.js";import"./cron-parser-vendor-a4cfb0b0.js";import"./JTreeSelect-73cfd2cd.js";import"./JEllipsis-242e7bd0.js";import"./JUpload-70acb676.js";import"./index-76418551.js";import"./JSearchSelect-4158b9a9.js";import"./index-3dc0c4fd.js";import"./index-aba90786.js";import"./formUtils-09c7de86.js";const j=w({name:"LockModal",components:{BasicModal:N,BasicForm:P},setup(){const{t:o}=S(),{prefixCls:l}=b("header-lock-modal"),e=M(),c=V(),s=_(()=>{var m;return(m=e.getUserInfo)==null?void 0:m.realname}),[d,{closeModal:a}]=R(),[t,{validateFields:r,resetFields:i}]=U({labelWidth:100,showActionButtonGroup:!1,schemas:[{field:"password",label:o("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});function B(){return f(this,null,function*(){const v=(yield r()).password;a(),c.setLockInfo({isLock:!0,pwd:v}),yield i()})}const C=_(()=>{const{avatar:m}=e.getUserInfo;return m||D});return{t:o,prefixCls:l,getRealName:s,register:d,registerForm:t,handleLock:B,avatar:C}}});const q=["src"];function z(o,l,e,c,s,d){const a=u("BasicForm"),t=u("a-button"),r=u("BasicModal");return y(),$(r,F({footer:null,title:o.t("layout.header.lockScreen")},o.$attrs,{class:o.prefixCls,onRegister:o.register}),{default:k(()=>[p("div",{class:n(`${o.prefixCls}__entry`)},[p("div",{class:n(`${o.prefixCls}__header`)},[p("img",{src:o.avatar,class:n(`${o.prefixCls}__header-img`)},null,10,q),p("p",{class:n(`${o.prefixCls}__header-name`)},g(o.getRealName),3)],2),h(a,{onRegister:o.registerForm},null,8,["onRegister"]),p("div",{class:n(`${o.prefixCls}__footer`)},[h(t,{type:"primary",block:"",class:"mt-2",onClick:o.handleLock},{default:k(()=>[L(g(o.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}const To=I(j,[["render",z]]);export{To as default};
