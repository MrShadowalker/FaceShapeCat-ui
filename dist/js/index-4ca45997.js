var w=(b,_,u)=>new Promise((p,n)=>{var i=l=>{try{v(u.next(l))}catch(g){n(g)}},m=l=>{try{v(u.throw(l))}catch(g){n(g)}},v=l=>l.done?p(l.value):Promise.resolve(l.value).then(i,m);v((u=u.apply(b,_)).next())});import{d as B,f as C,r as K,Y as f,a6 as T,a7 as U,k as a,a9 as o,E as s,u as h}from"./tinymce-vendor-3c2b3d6e.js";import{ap as $}from"./jeecg-online-vendor-f57c6456.js";import{B as E}from"./Bar-622322af.js";import{P}from"./Pie-82ea30a5.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";import"./useECharts-218e4a8d.js";import"./index-37448b2d.js";import"./echarts-676384e9.js";import"./echarts-vendor-0b842a89.js";const V={class:"p-4"},Q=B({__name:"index",setup(b){const _=C("bar"),u=C("year"),p=C("year"),n=C([]),i=K({getYearCountInfo:"/mock/api/report/getYearCountInfo",getMonthCountInfo:"/mock/api/report/getMonthCountInfo",getCntrNoCountInfo:"/mock/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/mock/api/report/getCabinetCountInfo"});function m(t,e,r){return w(this,null,function*(){const c=yield $.get({url:t,params:r},{isTransformResponse:!1,errorMessageMode:"none"});if(c.success)switch(n.value=[],e){case"year":v(c.result);break;case"month":l(c.result);break;case"category":g(c.result);break;case"cabinet":x(c.result);break;default:break}})}function v(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].year}年`,value:t[e].yearcount})}function l(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].month}`,value:t[e].monthcount})}function g(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].classifyname}`,value:t[e].cntrnocount})}function x(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].cabinetname}`,value:t[e].cabinetcocunt})}function y(t){h(_)==="pie"?m(k(h(p)),h(p),{}):m(k(h(u)),h(u),{})}function k(t){if(t==="year")return i.getYearCountInfo;if(t==="month")return i.getMonthCountInfo;if(t==="category")return i.getCntrNoCountInfo;if(t==="cabinet")return i.getCabinetCountInfo}function D(t){}return m(i.getYearCountInfo,"year",{}),(t,e)=>{const r=f("a-radio-button"),c=f("a-radio-group"),I=f("a-col"),M=f("a-row"),Y=f("a-tab-pane"),N=f("a-tabs"),S=f("a-card");return T(),U("div",V,[a(S,{bordered:!1,style:{height:"100%"}},{default:o(()=>[a(N,{activeKey:_.value,"onUpdate:activeKey":e[2]||(e[2]=d=>_.value=d),animated:"",onChange:D},{default:o(()=>[a(Y,{key:"bar",tab:"柱状图"},{default:o(()=>[a(M,null,{default:o(()=>[a(I,{span:10},{default:o(()=>[a(c,{value:u.value,"onUpdate:value":e[0]||(e[0]=d=>u.value=d),onChange:y},{default:o(()=>[a(r,{value:"year"},{default:o(()=>[s("按年统计")]),_:1}),a(r,{value:"month"},{default:o(()=>[s("按月统计")]),_:1}),a(r,{value:"category"},{default:o(()=>[s("按类别统计")]),_:1}),a(r,{value:"cabinet"},{default:o(()=>[s("按柜号统计")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(E,{chartData:n.value,height:"50vh"},null,8,["chartData"])]),_:1}),a(Y,{key:"pie",tab:"饼状图","force-render":""},{default:o(()=>[a(M,{gutter:24},{default:o(()=>[a(I,{span:10},{default:o(()=>[a(c,{value:p.value,"onUpdate:value":e[1]||(e[1]=d=>p.value=d),onChange:y},{default:o(()=>[a(r,{value:"year"},{default:o(()=>[s("按年统计")]),_:1}),a(r,{value:"month"},{default:o(()=>[s("按月统计")]),_:1}),a(r,{value:"category"},{default:o(()=>[s("按类别统计")]),_:1}),a(r,{value:"cabinet"},{default:o(()=>[s("按柜号统计")]),_:1})]),_:1},8,["value"])]),_:1}),a(P,{chartData:n.value,height:"40vh"},null,8,["chartData"])]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1})])}}});export{Q as default};
