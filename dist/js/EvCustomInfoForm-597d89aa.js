var B=(l,r,d)=>new Promise((C,I)=>{var k=u=>{try{a(d.next(u))}catch(b){I(b)}},U=u=>{try{a(d.throw(u))}catch(b){I(b)}},a=u=>u.done?C(u.value):Promise.resolve(u.value).then(k,U);a((d=d.apply(l,r)).next())});import{d as S,f as y,r as X,e as J,Y as v,a6 as V,ab as z,a9 as t,k as e,ae as c,u as _,n as H}from"./tinymce-vendor-3c2b3d6e.js";import{C as E,ap as x,aM as L,_ as Y}from"./jeecg-online-vendor-f57c6456.js";import{J as $}from"./JSearchSelect-4158b9a9.js";import{a5 as q}from"./antd-vue-vendor-05bfa84d.js";const{createConfirm:G}=E();const te="/evCustomInfo/evCustomInfo/exportXls",se="/evCustomInfo/evCustomInfo/importExcel",le=l=>x.get({url:"/evCustomInfo/evCustomInfo/list",params:l}),ne=(l,r)=>x.delete({url:"/evCustomInfo/evCustomInfo/delete",params:l},{joinParamsToUrl:!0}).then(()=>{r()}),ue=(l,r)=>{G({iconType:"warning",title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>x.delete({url:"/evCustomInfo/evCustomInfo/deleteBatch",data:l},{joinParamsToUrl:!0}).then(()=>{r()})})},K=(l,r)=>{let d=r?"/evCustomInfo/evCustomInfo/edit":"/evCustomInfo/evCustomInfo/add";return x.post({url:d,params:l},{isTransformResponse:!1})},Q=S({__name:"EvCustomInfoForm",props:{formDisabled:{type:Boolean,default:!1},formData:{type:Object,default:()=>{}},formBpm:{type:Boolean,default:!0}},emits:["register","ok"],setup(l,{expose:r,emit:d}){const C=l,I=y(),k=q.useForm,U=d,a=X({id:"",remark:"",name:"",userId:"",phoneNum:"",company:"",address:""}),{createMessage:u}=E(),b=y({xs:{span:24},sm:{span:5}}),F=y({xs:{span:24},sm:{span:16}}),T=y(!1),O={},{resetFields:h,validate:j,validateInfos:f}=k(a,O,{immediate:!0}),p=J(()=>C.formBpm===!0?C.formData.disabled!==!1:C.formDisabled);function D(){w({})}function w(g){H(()=>{h(),Object.assign(a,g)})}function N(){return B(this,null,function*(){yield j(),T.value=!0;const g=y(!1);let o=a;o.id&&(g.value=!0);for(let s in o)o[s]instanceof Array&&L(I.value.getProps,s)==="string"&&(o[s]=o[s].join(","));yield K(o,g.value).then(s=>{s.success?(u.success(s.message),U("ok")):u.warning(s.message)}).finally(()=>{T.value=!1})})}return r({add:D,edit:w,submitForm:N}),(g,o)=>{const s=v("a-input"),m=v("a-form-item"),i=v("a-col"),P=v("a-row"),M=v("a-form"),R=v("a-spin");return V(),z(R,{spinning:T.value},{default:t(()=>[e(M,{ref_key:"formRef",ref:I,class:"antd-modal-form",labelCol:b.value,wrapperCol:F.value},{default:t(()=>[e(P,null,{default:t(()=>[e(i,{span:12},{default:t(()=>[e(m,c({label:"备注"},_(f).remark),{default:t(()=>[e(s,{value:a.remark,"onUpdate:value":o[0]||(o[0]=n=>a.remark=n),placeholder:"请输入备注",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(i,{span:12},{default:t(()=>[e(m,c({label:"客户姓名"},_(f).name),{default:t(()=>[e(s,{value:a.name,"onUpdate:value":o[1]||(o[1]=n=>a.name=n),placeholder:"请输入客户姓名",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(i,{span:12},{default:t(()=>[e(m,c({label:"对接销售"},_(f).userId),{default:t(()=>[e($,{value:a.userId,"onUpdate:value":o[2]||(o[2]=n=>a.userId=n),dict:"",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(i,{span:12},{default:t(()=>[e(m,c({label:"电话"},_(f).phoneNum),{default:t(()=>[e(s,{value:a.phoneNum,"onUpdate:value":o[3]||(o[3]=n=>a.phoneNum=n),placeholder:"请输入电话",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(i,{span:12},{default:t(()=>[e(m,c({label:"客户公司"},_(f).company),{default:t(()=>[e(s,{value:a.company,"onUpdate:value":o[4]||(o[4]=n=>a.company=n),placeholder:"请输入客户公司",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(i,{span:12},{default:t(()=>[e(m,c({label:"客户地址"},_(f).address),{default:t(()=>[e(s,{value:a.address,"onUpdate:value":o[5]||(o[5]=n=>a.address=n),placeholder:"请输入客户地址",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["labelCol","wrapperCol"])]),_:1},8,["spinning"])}}});const W=Y(Q,[["__scopeId","data-v-707690d7"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as E,se as a,ue as b,re as c,ne as d,te as g,le as l};
