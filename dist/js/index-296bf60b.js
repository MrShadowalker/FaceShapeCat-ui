import{e as d,I,u as g,d as C,Y as h,a6 as i,a7 as l,F,aa as M,q as b,ab as p,A as K,Z as _,k as S,a9 as A,ay as B,ag as P,o as N,v as V,aj as D}from"./tinymce-vendor-3c2b3d6e.js";import E from"./index-ba75cbeb.js";import{aJ as $,j as w,b7 as k,k as O}from"./index-37448b2d.js";import{aF as Q}from"./antd-vue-vendor-05bfa84d.js";import{useMultipleTabSetting as R}from"./useMultipleTabSetting-767c36d1.js";import{e as j,_ as L,m as q}from"./jeecg-online-vendor-f57c6456.js";import{a as z}from"./useContentViewHeight-6be29838.js";import"./useWindowSizeFn-e63bb4b0.js";import"./vxe-table-vendor-26792376.js";import"./usePageContext-b7687fba.js";function G(){const e=j(),{currentRoute:s}=e,{getShowMultipleTab:a}=R(),r=$(),c=d(()=>n(I(e.getRoutes()))||[]),u=d(()=>r.getTabList.reduce((o,m)=>(m.meta&&Reflect.has(m.meta,"frameSrc")&&o.push(m.name),o),[]));function n(o){let m=[];for(const v of o){const{meta:{frameSrc:T}={},children:y}=v;T&&m.push(v),y&&y.length&&m.push(...n(y))}return m=Q(m,"name"),m}function t(o){return o.name===g(s).name}function f(o){return g(a)?g(u).includes(o):e.currentRoute.value.name===o}return{hasRenderFrame:f,getFramePages:c,showIframe:t,getAllFramePages:n}}const H=C({name:"FrameLayout",components:{FramePage:E},setup(){const{getFramePages:e,hasRenderFrame:s,showIframe:a}=G(),r=d(()=>g(e).length>0);return{getFramePages:e,hasRenderFrame:s,showIframe:a,showFrame:r}}}),J={key:0};function Y(e,s,a,r,c,u){const n=h("FramePage");return e.showFrame?(i(),l("div",J,[(i(!0),l(F,null,M(e.getFramePages,t=>(i(),l(F,{key:t.path},[t.meta.frameSrc&&e.hasRenderFrame(t.name)?b((i(),p(n,{key:0,frameSrc:t.meta.frameSrc},null,8,["frameSrc"])),[[K,e.showIframe(t)]]):_("",!0)],64))),128))])):_("",!0)}const Z=L(H,[["render",Y]]);function U({route:e,openCache:s,cacheTabs:a,enableTransition:r,def:c}){if(!r)return;const u=a.includes(e.name),n="fade-slide";let t=n;return s&&(t=u&&e.meta.loaded?n:void 0),t||e.meta.transitionName||c}const W=C({name:"PageLayout",components:{FrameLayout:Z},setup(){const{getShowMultipleTab:e}=R(),s=$(),{getOpenKeepAlive:a,getCanEmbedIFramePage:r}=w(),{getBasicTransition:c,getEnableTransition:u}=k(),n=d(()=>g(a)&&g(e)),t=d(()=>g(a)?s.getCachedTabList:[]);return{getTransitionName:U,openCache:n,getEnableTransition:u,getBasicTransition:c,getCaches:t,getCanEmbedIFramePage:r}}});function X(e,s,a,r,c,u){const n=h("RouterView"),t=h("FrameLayout");return i(),l(F,null,[S(n,null,{default:A(({Component:f,route:o})=>[e.openCache?(i(),p(B,{key:0,include:e.getCaches},[(i(),p(P(f),{key:o.fullPath}))],1032,["include"])):(i(),p(P(f),{key:o.fullPath}))]),_:1}),e.getCanEmbedIFramePage?(i(),p(t,{key:0})):_("",!0)],64)}const x=L(W,[["render",X]]),ee=C({name:"LayoutContent",components:{PageLayout:x},setup(){const{prefixCls:e}=O("layout-content"),{getOpenPageLoading:s}=k(),{getLayoutContentMode:a,getPageLoading:r}=w(),u=q().openQianKun;return z(),N(()=>{}),{prefixCls:e,openQianKun:u,getOpenPageLoading:s,getLayoutContentMode:a,getPageLoading:r}}});const te={key:0,id:"content",class:"app-view-box"};function ne(e,s,a,r,c,u){const n=h("PageLayout"),t=V("loading");return b((i(),l("div",{class:D([e.prefixCls,e.getLayoutContentMode])},[S(n),e.openQianKun=="true"?(i(),l("div",te)):_("",!0)],2)),[[t,e.getOpenPageLoading&&e.getPageLoading]])}const pe=L(ee,[["render",ne]]);export{pe as default};
