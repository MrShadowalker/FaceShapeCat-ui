var $=Object.defineProperty;var x=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var N=(a,u,l)=>u in a?$(a,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[u]=l,E=(a,u)=>{for(var l in u||(u={}))F.call(u,l)&&N(a,l,u[l]);if(x)for(var l of x(u))G.call(u,l)&&N(a,l,u[l]);return a};import{c as j,f as c,r as p,e as r,w as S,u as R}from"./tinymce-vendor-3c2b3d6e.js";import{p as I}from"./index-37448b2d.js";var W=(a=>(a.unset="UNSET",a.every="EVERY",a.range="RANGE",a.loop="LOOP",a.work="WORK",a.last="LAST",a.specify="SPECIFY",a))(W||{});function z(a){var l;const u=(l=a==null?void 0:a.defaultValue)!=null?l:"?";return E({value:I.string.def(u),disabled:I.bool.def(!1)},a==null?void 0:a.props)}function B(){return["change","update:value"]}function D(a,u,l){var A,L;const{emit:k}=u,Y=j("prefixCls"),f=c((A=l==null?void 0:l.defaultValue)!=null?A:"?"),t=c((L=l.defaultType)!=null?L:"EVERY"),i=c([]),n=p(l.valueRange),d=p(l.valueLoop),P=p(l.valueWeek),O=c(l.valueWork),v=c(l.maxValue),b=c(l.minValue),h=r(()=>{let e=[];switch(t.value){case"UNSET":e.push("?");break;case"EVERY":e.push("*");break;case"RANGE":e.push(`${n.start}-${n.end}`);break;case"LOOP":e.push(`${d.start}/${d.interval}`);break;case"WORK":e.push(`${O.value}W`);break;case"LAST":e.push("L");break;case"SPECIFY":i.value.length===0&&i.value.push(b.value),e.push(i.value.join(","));break;default:e.push(f.value);break}return e.length>0?e.join(""):f.value}),y=r(()=>{let e=[];if(v.value!=null)for(let s=b.value;s<=v.value;s++)e.push(s);return e});S(()=>a.value,e=>{e!==h.value&&m(e)},{immediate:!0}),S(h,e=>g(e));function g(e){k("change",e),k("update:value",e)}function m(e){if(e!==h.value)try{if(!e||e===f.value)t.value="EVERY";else if(e.indexOf("?")>=0)t.value="UNSET";else if(e.indexOf("-")>=0){t.value="RANGE";const s=e.split("-");s.length>=2&&(n.start=parseInt(s[0]),n.end=parseInt(s[1]))}else if(e.indexOf("/")>=0){t.value="LOOP";const s=e.split("/");s.length>=2&&(d.start=e[0]==="*"?0:parseInt(s[0]),d.interval=parseInt(s[1]))}else if(e.indexOf("W")>=0){t.value="WORK";const s=e.split("W");!s[0]&&!isNaN(s[0])&&(O.value=parseInt(s[0]))}else e.indexOf("L")>=0?t.value="LAST":e.indexOf(",")>=0||!isNaN(e)?(t.value="SPECIFY",i.value=e.split(",").map(s=>parseInt(s))):t.value="EVERY"}catch(s){t.value="EVERY"}}const C=r(()=>({class:["choice"],disabled:a.disabled||R(l.disabled)})),V=r(()=>({class:["w60"],max:v.value,min:b.value,precision:0})),T=r(()=>E({disabled:t.value!=="RANGE"||a.disabled||R(l.disabled)},V.value)),o=r(()=>E({disabled:t.value!=="LOOP"||a.disabled||R(l.disabled)},V.value)),w=r(()=>({disabled:t.value!=="SPECIFY"||a.disabled||R(l.disabled),class:["list-check-item"]}));return{type:t,TypeEnum:W,prefixCls:Y,defaultValue:f,valueRange:n,valueLoop:d,valueWeek:P,valueList:i,valueWork:O,maxValue:v,minValue:b,computeValue:h,specifyRange:y,updateValue:g,parseValue:m,beforeRadioAttrs:C,inputNumberAttrs:V,typeRangeAttrs:T,typeLoopAttrs:o,typeSpecifyAttrs:w}}export{W as T,B as a,D as b,z as u};
