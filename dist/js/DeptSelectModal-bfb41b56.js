var P=Object.defineProperty,U=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var T=(e,t,a)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,b=(e,t)=>{for(var a in t||(t={}))z.call(t,a)&&T(e,a,t[a]);if(D)for(var a of D(t))Q.call(t,a)&&T(e,a,t[a]);return e},$=(e,t)=>U(e,Y(t));import{d as X,f as g,u as L,Y as l,a6 as C,a7 as Z,k as n,ae as _,a9 as o,ab as N,E as i,Z as O}from"./tinymce-vendor-3c2b3d6e.js";import{B as G}from"./index-64ecc8b2.js";import{p as h,C as J,X as W,Y as x}from"./index-37448b2d.js";import{ar as ee,_ as te}from"./jeecg-online-vendor-f57c6456.js";import{t as ae}from"./props-ea47501e.js";import{_ as oe}from"./index-d4a67b72.js";import{u as ne}from"./useTreeBiz-a3326efb.js";import{o as le}from"./antd-vue-vendor-05bfa84d.js";import"./BasicModal-9d388b71.js";import"./useWindowSizeFn-e63bb4b0.js";import"./vxe-table-vendor-26792376.js";import"./bem-a6e46c9e.js";import"./props-3977d3d5.js";import"./useContextMenu-3e9e42e0.js";const re=X({name:"DeptSelectModal",components:{BasicModal:G,BasicTree:oe},props:$(b({},ae),{modalTitle:{type:String,default:"部门选择"},maxHeight:{type:Number,default:500},value:h.oneOfType([h.string,h.array])}),emits:["register","getSelectResult"],setup(e,{emit:t,refs:a}){const[S,{closeModal:v}]=J(),B=ee(),u=g(null);let r=e.value===""?[]:e.value,c=Object.assign({},L(e),L(B),{value:r},{disabled:!1});const m=le(c,"multiple"),d=j(),[{visibleChange:p,checkedKeys:f,getCheckStrictly:s,getSelectTreeData:V,onCheck:A,onLoadData:E,treeData:K,checkALL:M,expandAll:w,onSelect:R}]=ne(u,d,m,e),F=g(e.params),q=g([]),H={key:e.rowKey};function I(){V((y,k)=>{t("getSelectResult",y,k),v()})}function j(){let y=e.sync?W:x;return k=>y(Object.assign({},k,{primaryKey:e.rowKey}))}return{tree:q,handleOk:I,searchInfo:F,treeRef:u,treeData:K,onCheck:A,onSelect:R,checkALL:M,expandAll:w,fieldNames:H,checkedKeys:f,register:S,getBindValue:m,getCheckStrictly:s,visibleChange:p,onLoadData:E}}});function se(e,t,a,S,v,B){const u=l("BasicTree"),r=l("a-menu-item"),c=l("a-menu"),m=l("Icon"),d=l("a-button"),p=l("a-dropdown"),f=l("BasicModal");return C(),Z("div",null,[n(f,_(e.$attrs,{onRegister:e.register,title:e.modalTitle,width:"500px",maxHeight:e.maxHeight,onOk:e.handleOk,destroyOnClose:"",onVisibleChange:e.visibleChange}),{insertFooter:o(()=>[n(p,{placement:"top"},{overlay:o(()=>[n(c,null,{default:o(()=>[e.multiple?(C(),N(r,{key:"1",onClick:t[0]||(t[0]=s=>e.checkALL(!0))},{default:o(()=>[i("全部勾选")]),_:1})):O("",!0),e.multiple?(C(),N(r,{key:"2",onClick:t[1]||(t[1]=s=>e.checkALL(!1))},{default:o(()=>[i("取消全选")]),_:1})):O("",!0),n(r,{key:"3",onClick:t[2]||(t[2]=s=>e.expandAll(!0))},{default:o(()=>[i("展开全部")]),_:1}),n(r,{key:"4",onClick:t[3]||(t[3]=s=>e.expandAll(!1))},{default:o(()=>[i("折叠全部")]),_:1})]),_:1})]),default:o(()=>[n(d,{style:{float:"left"}},{default:o(()=>[i(" 树操作 "),n(m,{icon:"ant-design:up-outlined"})]),_:1})]),_:1})]),default:o(()=>[n(u,_({ref:"treeRef",treeData:e.treeData,"load-data":e.sync==!1?null:e.onLoadData},e.getBindValue,{onSelect:e.onSelect,onCheck:e.onCheck,fieldNames:e.fieldNames,checkedKeys:e.checkedKeys,multiple:e.multiple,checkStrictly:e.getCheckStrictly}),null,16,["treeData","load-data","onSelect","onCheck","fieldNames","checkedKeys","multiple","checkStrictly"])]),_:1},16,["onRegister","title","maxHeight","onOk","onVisibleChange"])])}const De=te(re,[["render",se]]);export{De as default};
