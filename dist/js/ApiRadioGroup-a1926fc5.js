var I=Object.defineProperty;var k=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var G=(e,t,a)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,$=(e,t)=>{for(var a in t||(t={}))L.call(t,a)&&G(e,a,t[a]);if(k)for(var a of k(t))N.call(t,a)&&G(e,a,t[a]);return e};var w=(e,t,a)=>new Promise((u,i)=>{var f=n=>{try{l(a.next(n))}catch(o){i(o)}},d=n=>{try{l(a.throw(n))}catch(o){i(o)}},l=n=>n.done?u(n.value):Promise.resolve(n.value).then(f,d);l((a=a.apply(e,t)).next())});import{d as j,f as v,e as P,u as g,h as U,w as V,Y as b,a6 as c,ab as h,ae as Y,a9 as y,a7 as A,F as S,aa as q,E as T,ad as E}from"./tinymce-vendor-3c2b3d6e.js";import{R as F,o as z,ax as H}from"./antd-vue-vendor-05bfa84d.js";import{ar as J,v as K,B as M,_ as Q}from"./jeecg-online-vendor-f57c6456.js";import{useRuleFormItem as W}from"./useFormItem-613b6d5d.js";import{p}from"./index-37448b2d.js";import"./vxe-table-vendor-26792376.js";const X=j({name:"ApiRadioGroup",components:{RadioGroup:F.Group,RadioButton:F.Button,Radio:F},props:{api:{type:Function,default:null},params:{type:[Object,String],default:()=>({})},value:{type:[String,Number,Boolean]},isBtn:{type:[Boolean],default:!1},numberToString:p.bool,resultField:p.string.def(""),labelField:p.string.def("label"),valueField:p.string.def("value"),immediate:p.bool.def(!0)},emits:["options-change","change"],setup(e,{emit:t}){const a=v([]),u=v(!1),i=v(!0),f=v([]),d=J(),{t:l}=M(),[n]=W(e),o=P(()=>{const{labelField:r,valueField:s,numberToString:D}=e;return g(a).reduce((_,m)=>{if(m){const C=m[s];_.push($({label:m[r],value:D?`${C}`:C},z(m,[r,s])))}return _},[])});U(()=>{e.immediate&&R()}),V(()=>e.params,()=>{!g(i)&&R()},{deep:!0});function R(){return w(this,null,function*(){const r=e.api;if(!(!r||!K(r))){a.value=[];try{u.value=!0;const s=yield r(e.params);if(Array.isArray(s)){a.value=s,B();return}e.resultField&&(a.value=H(s,e.resultField)||[]),B()}catch(s){}finally{u.value=!1}}})}function B(){t("options-change",g(o))}function O(r,...s){f.value=s}return{state:n,getOptions:o,attrs:d,loading:u,t:l,handleChange:O,props:e}}});function Z(e,t,a,u,i,f){const d=b("RadioButton"),l=b("Radio"),n=b("RadioGroup");return c(),h(n,Y(e.attrs,{value:e.state,"onUpdate:value":t[0]||(t[0]=o=>e.state=o),"button-style":"solid",onChange:e.handleChange}),{default:y(()=>[(c(!0),A(S,null,q(e.getOptions,o=>(c(),A(S,{key:`${o.value}`},[e.props.isBtn?(c(),h(d,{key:0,value:o.value,disabled:o.disabled},{default:y(()=>[T(E(o.label),1)]),_:2},1032,["value","disabled"])):(c(),h(l,{key:1,value:o.value,disabled:o.disabled},{default:y(()=>[T(E(o.label),1)]),_:2},1032,["value","disabled"]))],64))),128))]),_:1},16,["value","onChange"])}const le=Q(X,[["render",Z]]);export{le as default};
