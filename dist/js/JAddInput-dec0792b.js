import{aH as b,aI as g}from"./antd-vue-vendor-05bfa84d.js";import{d as O,r as I,h as k,Y as o,a6 as i,a7 as r,F as f,aa as x,k as p,ab as B,Z as E,ac as N,a9 as w,E as F}from"./tinymce-vendor-3c2b3d6e.js";import{p as _}from"./index-37448b2d.js";import{am as h,_ as J}from"./jeecg-online-vendor-f57c6456.js";import"./vxe-table-vendor-26792376.js";const V=O({name:"JAddInput",props:{value:_.string.def(""),min:_.integer.def(1)},emits:["change","update:value"],setup(a,{emit:d}){const t=I({params:[]}),c=e=>{let n=t.params.indexOf(e);n!==-1&&t.params.splice(n,1),l()},m=()=>{t.params.push({label:"",value:""}),l()};k(()=>{v()});function v(){if(t.params=[],a.value&&a.value.indexOf("{")==0){let e=JSON.parse(a.value);Object.keys(e).forEach(n=>{t.params.push({label:n,value:e[n]})})}}function l(){let e={};t.params.length>0&&t.params.forEach(n=>{e[n.label]=n.value}),d("change",h(e)?"":JSON.stringify(e)),d("update:value",h(e)?"":JSON.stringify(e))}return{dynamicInput:t,emitChange:l,remove:c,add:m}},components:{MinusCircleOutlined:b,PlusOutlined:g}});function $(a,d,t,c,m,v){const l=o("a-input"),e=o("MinusCircleOutlined"),n=o("PlusOutlined"),y=o("a-button");return i(),r(f,null,[(i(!0),r(f,null,x(a.dynamicInput.params,(u,C)=>(i(),r("div",{key:C,style:{display:"flex"}},[p(l,{placeholder:"请输入参数key",value:u.label,"onUpdate:value":s=>u.label=s,style:{width:"30%","margin-bottom":"5px"},onInput:a.emitChange},null,8,["value","onUpdate:value","onInput"]),p(l,{placeholder:"请输入参数value",value:u.value,"onUpdate:value":s=>u.value=s,style:{width:"30%",margin:"0 0 5px 5px"},onInput:a.emitChange},null,8,["value","onUpdate:value","onInput"]),a.dynamicInput.params.length>a.min?(i(),B(e,{key:0,class:"dynamic-delete-button",onClick:s=>a.remove(u),style:{width:"50px"}},null,8,["onClick"])):E("",!0)]))),128)),N("div",null,[p(y,{type:"dashed",style:{width:"60%"},onClick:a.add},{default:w(()=>[p(n),F(" 新增 ")]),_:1},8,["onClick"])])],64)}const S=J(V,[["render",$],["__scopeId","data-v-3ae2b45c"]]);export{S as default};
