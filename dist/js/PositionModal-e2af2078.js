var B=Object.defineProperty;var f=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var y=(e,t,s)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,g=(e,t)=>{for(var s in t||(t={}))_.call(t,s)&&y(e,s,t[s]);if(f)for(var s of f(t))b.call(t,s)&&y(e,s,t[s]);return e};var m=(e,t,s)=>new Promise((r,d)=>{var p=i=>{try{l(s.next(i))}catch(n){d(n)}},u=i=>{try{l(s.throw(i))}catch(n){d(n)}},l=i=>i.done?r(i.value):Promise.resolve(i.value).then(p,u);l((s=s.apply(e,t)).next())});import{d as M,f as v,e as w,u as a,a6 as I,ab as U,a9 as F,k,ae as T}from"./tinymce-vendor-3c2b3d6e.js";import{B as E}from"./index-64ecc8b2.js";import"./index-09260ce4.js";import{ap as c}from"./jeecg-online-vendor-f57c6456.js";import{M as O}from"./antd-vue-vendor-05bfa84d.js";import{u as S,B as j}from"./useForm-df7d93c5.js";import{C as L}from"./index-37448b2d.js";const Q=[{title:"职务名称",dataIndex:"name",align:"left"}],W=[{field:"name",label:"职务名称",component:"Input",colProps:{span:8}}],R=[{label:"主键",field:"id",component:"Input",show:!1},{field:"name",label:"职务名称",component:"Input",required:!0}];const Y="/sys/position/exportXls",Z="/sys/position/importExcel",A=e=>c.get({url:"/sys/position/list",params:e}),q=(e,t)=>{let s=t?"/sys/position/edit":"/sys/position/add";return c.post({url:s,params:e})},C=e=>c.get({url:"/sys/position/queryById",params:e}),ee=(e,t)=>c.delete({url:"/sys/position/delete",data:e},{joinParamsToUrl:!0}).then(()=>{t()}),te=(e,t)=>{O.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>c.delete({url:"/sys/position/deleteBatch",data:e},{joinParamsToUrl:!0}).then(()=>{t()})})};const X=M({__name:"PositionModal",emits:["success","register"],setup(e,{emit:t}){const s=t,r=v(!0),[d,{resetFields:p,setFieldsValue:u,validate:l}]=S({schemas:R,showActionButtonGroup:!1}),[i,{setModalProps:n,closeModal:h}]=L(o=>m(this,null,function*(){yield p(),n({confirmLoading:!1}),r.value=!!(o!=null&&o.isUpdate),a(r)&&(o.record=yield C({id:o.record.id}),yield u(g({},o.record)))})),P=w(()=>a(r)?"编辑职务":"新增职务");function x(){return m(this,null,function*(){try{const o=yield l();n({confirmLoading:!0}),yield q(o,r.value),h(),s("success")}finally{n({confirmLoading:!1})}})}return(o,V)=>(I(),U(a(E),T(o.$attrs,{onRegister:a(i),title:P.value,onOk:x,width:700}),{default:F(()=>[k(a(j),{onRegister:a(d)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}}),se=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));export{se as P,X as _,Y as a,Z as b,Q as c,ee as d,te as e,A as g,W as s};
