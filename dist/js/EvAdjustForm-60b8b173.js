var A=(d,i,m)=>new Promise((b,g)=>{var U=r=>{try{a(m.next(r))}catch(j){g(j)}},C=r=>{try{a(m.throw(r))}catch(j){g(j)}},a=r=>r.done?b(r.value):Promise.resolve(r.value).then(U,C);a((m=m.apply(d,i)).next())});import{d as q,f as _,r as z,e as L,Y as u,a6 as $,ab as G,a9 as l,k as e,ae as v,u as c,a4 as K,a5 as Q,ac as W,n as Z}from"./tinymce-vendor-3c2b3d6e.js";import{C as B,ap as x,aM as ee,_ as ae}from"./jeecg-online-vendor-f57c6456.js";import{a5 as te}from"./antd-vue-vendor-05bfa84d.js";import{J as le}from"./JImageUpload-1b0b2e46.js";import{l as I}from"./JDictSelectTag-f0227cc5.js";const{createConfirm:se}=B();const _e="/evAdjust/exportXls",be="/evAdjust/importExcel",ge=d=>x.get({url:"/evAdjust/list",params:d}),je=(d,i)=>x.delete({url:"/evAdjust/delete",params:d},{joinParamsToUrl:!0}).then(()=>{i()}),ye=(d,i)=>{se({iconType:"warning",title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>x.delete({url:"/evAdjust/deleteBatch",data:d},{joinParamsToUrl:!0}).then(()=>{i()})})},oe=(d,i)=>{let m=i?"/evAdjust/edit":"/evAdjust/add";return x.post({url:m,params:d},{isTransformResponse:!1})},de=d=>(K("data-v-f5342965"),d=d(),Q(),d),ne=de(()=>W("span",{style:{color:"#999999"}},"调货信息",-1)),re=q({__name:"EvAdjustForm",props:{formDisabled:{type:Boolean,default:!1},formData:{type:Object,default:()=>{}},formBpm:{type:Boolean,default:!0}},emits:["register","ok"],setup(d,{expose:i,emit:m}){const b=d,g=_(),U=te.useForm,C=m,a=z({id:"",delFlag:void 0,remark:"",fromId:"",toId:"",goodsId:"",num:0,adjustTime:"",fromUserId:"",toUserId:"",img:""}),{createMessage:r}=B(),j=_({xs:{span:24},sm:{span:5}}),F=_({xs:{span:24},sm:{span:16}}),E=_({xs:{span:24},sm:{span:1}}),D=_({xs:{span:24},sm:{span:22}}),w=_(!1),O={},{resetFields:M,validate:h,validateInfos:f}=U(a,O,{immediate:!0}),p=L(()=>b.formBpm===!0?b.formData.disabled!==!1:b.formDisabled);function P(){T({})}function T(y){Z(()=>{M(),Object.assign(a,y)})}function S(){return A(this,null,function*(){yield h(),w.value=!0;const y=_(!1);let t=a;t.id&&(y.value=!0);for(let s in t)t[s]instanceof Array&&ee(g.value.getProps,s)==="string"&&(t[s]=t[s].join(","));yield oe(t,y.value).then(s=>{s.success?(r.success(s.message),C("ok")):r.warning(s.message)}).finally(()=>{w.value=!1})})}return i({add:P,edit:T,submitForm:S}),(y,t)=>{const s=u("a-form-item"),n=u("a-col"),Y=u("a-divider"),R=u("a-input"),H=u("a-input-number"),V=u("a-date-picker"),k=u("a-row"),X=u("a-textarea"),J=u("a-form"),N=u("a-spin");return $(),G(N,{spinning:w.value},{default:l(()=>[e(J,{ref_key:"formRef",ref:g,class:"antd-modal-form",labelCol:j.value,wrapperCol:F.value},{default:l(()=>[e(k,null,{default:l(()=>[e(n,{span:12},{default:l(()=>[e(s,v({label:"送货店铺"},c(f).fromId),{default:l(()=>[e(I,{type:"select",value:a.fromId,"onUpdate:value":t[0]||(t[0]=o=>a.fromId=o),dictCode:"sys_depart,depart_name,id,parent_id!=''",placeholder:"请选择送货店铺",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(n,{span:12},{default:l(()=>[e(s,v({label:"收货店铺"},c(f).toId),{default:l(()=>[e(I,{type:"select",value:a.toId,"onUpdate:value":t[1]||(t[1]=o=>a.toId=o),dictCode:"sys_depart,depart_name,id,parent_id!=''",placeholder:"请选择送货店铺",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(n,{span:12},{default:l(()=>[e(s,v({label:"送货人员"},c(f).fromUserId),{default:l(()=>[e(I,{type:"select",value:a.fromUserId,"onUpdate:value":t[2]||(t[2]=o=>a.fromUserId=o),dictCode:"sys_user,realname,id,username!='admin'",placeholder:"请选择送货人员",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(n,{span:12},{default:l(()=>[e(s,v({label:"收货人员"},c(f).toUserId),{default:l(()=>[e(I,{type:"select",value:a.toUserId,"onUpdate:value":t[3]||(t[3]=o=>a.toUserId=o),dictCode:"sys_user,realname,id,username!='admin'",placeholder:"请选择收货人员",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(Y,{orientation:"left",style:{height:"2px","border-color":"#999999"}},{default:l(()=>[ne]),_:1}),e(n,{span:18},{default:l(()=>[e(k,null,{default:l(()=>[e(n,{span:12},{default:l(()=>[e(s,v({label:"调货商品"},c(f).goodsId),{default:l(()=>[e(R,{value:a.goodsId,"onUpdate:value":t[4]||(t[4]=o=>a.goodsId=o),placeholder:"请输入商品",disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(n,{span:12},{default:l(()=>[e(s,v({label:"调货数量"},c(f).num),{default:l(()=>[e(H,{value:a.num,"onUpdate:value":t[5]||(t[5]=o=>a.num=o),min:0,placeholder:"请输入数量",style:{width:"100%"},disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1}),e(n,{span:12},{default:l(()=>[e(s,v({label:"调货日期"},c(f).adjustTime),{default:l(()=>[e(V,{placeholder:"请选择调货日期",value:a.adjustTime,"onUpdate:value":t[6]||(t[6]=o=>a.adjustTime=o),showTime:"","value-format":"YYYY-MM-DD HH:mm:ss",style:{width:"100%"},disabled:p.value},null,8,["value","disabled"])]),_:1},16)]),_:1})]),_:1})]),_:1}),e(n,{span:6},{default:l(()=>[e(s,{label:"凭证",required:"true"},{default:l(()=>[e(le,{value:a.img,"onUpdate:value":t[7]||(t[7]=o=>a.img=o),disabled:p.value,fileMax:4},null,8,["value","disabled"])]),_:1})]),_:1}),e(n,{span:24},{default:l(()=>[e(s,v({label:"备注"},c(f).remark,{labelCol:E.value,wrapperCol:D.value}),{default:l(()=>[e(X,{value:a.remark,"onUpdate:value":t[8]||(t[8]=o=>a.remark=o),disabled:p.value,rows:4},null,8,["value","disabled"])]),_:1},16,["labelCol","wrapperCol"])]),_:1})]),_:1})]),_:1},8,["labelCol","wrapperCol"])]),_:1},8,["spinning"])}}});const ue=ae(re,[["__scopeId","data-v-f5342965"]]),Ie=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));export{ue as E,be as a,ye as b,Ie as c,je as d,_e as g,ge as l};
