import{e as m,l as p}from"./tinymce-vendor-3c2b3d6e.js";import{j as u,B as c,bu as d}from"./antd-vue-vendor-05bfa84d.js";import{q as b,aV as i}from"./index-37448b2d.js";import{rules as f}from"./validator-a0d2ebc7.js";const{isDisabledAuth:P}=b();function w(s,r,l){const e=i({one:{colProps:{xs:24,sm:24},itemProps:{labelCol:{xs:24,sm:2},wrapperCol:{xs:24,sm:22}}},tow:{colProps:{xs:24,sm:12},itemProps:{labelCol:{xs:24,sm:4},wrapperCol:{xs:24,sm:20}}},three:{colProps:{xs:24,sm:8},itemProps:{labelCol:{xs:24,sm:6},wrapperCol:{xs:24,sm:18}}}},"three"),n=[{label:"",field:"id",component:"Input",show:!1},{label:"",field:"tableVersion",component:"Input",show:!1},e({label:"表名",field:"tableName",component:"Input",required:!0,dynamicDisabled:({model:o})=>o.tableVersion&&o.tableVersion!=1,dynamicRules:({model:o,schema:t})=>f.duplicateCheckRule("onl_cgform_head","table_name",o,t,!0)}),e({label:"表描述",field:"tableTxt",component:"Input",required:!0}),e({label:"表类型",field:"tableType",component:"Select",defaultValue:1,componentProps:{options:[{label:"单表",value:1},{label:"主表",value:2},{label:"附表",value:3}],onChange:l.onTableTypeChange}}),{label:"",field:"relationType",component:"InputNumber",render:()=>"",colProps:{xs:0,sm:17},ifShow:a},e({label:"",field:"relationType",component:"RadioGroup",defaultValue:0,componentProps:{options:[{label:"一对多",value:0},{label:"一对一",value:1}]},colProps:{xs:24,sm:4},itemProps:{colon:!1,labelCol:{xs:0,sm:0},wrapperCol:{xs:24,sm:24}},ifShow:a}),e({label:"序号",field:"tabOrderNum",component:"InputNumber",componentProps:{style:{width:"100%"}},colProps:{xs:24,sm:3},itemProps:{labelCol:{xs:24,sm:7},wrapperCol:{xs:24,sm:24-7}},ifShow:a}),e({label:"表单分类",field:"formCategory",component:"JDictSelectTag",defaultValue:"temp",componentProps:{dictCode:"ol_form_biz_type"}}),e({label:"主键策略",field:"idType",component:"Select",defaultValue:"UUID",componentProps:{options:[{label:"ID_WORKER(分布式自增)",value:"UUID"}]}}),e({label:"序号名称",field:"idSequence",component:"Input",componentProps:{},ifShow:a}),e({label:"显示复选框",field:"isCheckbox",component:"Select",defaultValue:"Y",componentProps:{options:[{label:"是",value:"Y"},{label:"否",value:"N"}]}}),e({label:"主题模板",field:"themeTemplate",component:"Select",defaultValue:"normal",componentProps:{options:[{label:"默认主题",value:"normal"},{label:"ERP主题(一对多)",value:"erp"},{label:"内嵌子表主题(一对多)",value:"innerTable"},{label:"TAB主题(一对多)",value:"tab"}]},dynamicDisabled:({model:o})=>o.tableType===1,dynamicRules(){return[{validator({},o){const t=r.value;if(o==="erp"){if(t.joinQuery)return Promise.reject("ERP不支持联合查询功能")}else if(o==="innerTable"&&t.joinQuery)return Promise.reject("内嵌子表不支持联合查询功能");return Promise.resolve()}}]}}),e({label:"表单风格",field:"formTemplate",component:"Select",defaultValue:"1",componentProps:{options:[{label:"一列",value:"1"},{label:"两列",value:"2"},{label:"三列",value:"3"},{label:"四列",value:"4"}],placeholder:"请选择PC表单风格"}}),e({label:"移动表单风格",field:"formTemplateMobile",component:"Select",defaultValue:"1",componentProps:{options:[{label:"AntDesign模板",value:"1"},{label:"Bootstrap模板",value:"2"}],placeholder:"请选择移动表单风格"},ifShow:!1}),e({label:"滚动条",field:"scroll",component:"Select",defaultValue:1,componentProps:{options:[{label:"有",value:1},{label:"无",value:0}]}}),e({label:"是否分页",field:"isPage",component:"Select",defaultValue:"Y",componentProps:{options:[{label:"是",value:"Y"},{label:"否",value:"N"}]}}),e({label:"是否树",field:"isTree",component:"Select",defaultValue:"N",componentProps:{options:[{label:"是",value:"Y"},{label:"否",value:"N"}],onChange:l.onIsTreeChange},dynamicRules({model:o}){return[{validator({},t){return t==="Y"&&(o.tableType==2||o.tableType==3)?Promise.reject("主表和附表不支持树类型！"):Promise.resolve()}}]}}),e({label:" ",field:"extConfigJson",component:"Input",slot:"extConfigButton",itemProps:{colon:!1}}),e({label:"树表单父ID",field:"treeParentIdField",component:"Input",ifShow:a}),e({label:"是否有子节点字段",field:"treeIdField",component:"Input",show:!1}),e({label:"树开表单列",field:"treeFieldname",required:!0,component:"Input",ifShow:a}),e({label:"附表",field:"subTableStr",component:"Input",componentProps:{disabled:!0,placeholder:" ",allowClear:!1},ifShow:l.ifShowOfSubTableStr},"one")];function a({field:o,model:t}){switch(o){case"relationType":case"tabOrderNum":return t.tableType===3;case"treeParentIdField":case"treeIdField":case"treeFieldname":return t.isTree==="Y";case"idSequence":return t.idType==="SEQUENCE"}return!0}return{formSchemas:n}}function x(s,r){const l=i({left:{colProps:{xs:24,sm:7},itemProps:{labelCol:{xs:24,sm:11},wrapperCol:{xs:24,sm:13}},style:{width:"100%"}},right:{colProps:{xs:24,sm:17},itemProps:{labelCol:{xs:24,sm:3},wrapperCol:{xs:24,sm:20}},style:{width:"100%"}}},"left");return{formSchemas:[l({label:"弹窗默认全屏",field:"modelFullscreen",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid"}},"left"),l({label:"弹窗宽度",field:"modalMinWidth",component:"InputNumber",componentProps:{style:"width: 80%",placeholder:"弹窗最小宽度（单位：px）"}},"right"),l({label:"开启表单评论",field:"commentStatus",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid"}},"left"),l({label:"",field:"commentStatus",component:"InputNumber",render:()=>""},"right"),l({label:"启用联合查询",field:"joinQuery",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid",onChange:r.onJoinQueryChange}},"left"),l({label:"",field:"joinQuery",component:"InputNumber",render:()=>""},"right"),l({label:"集成积木报表",field:"reportPrintShow",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid",onChange:r.onReportPrintShowChange}},"left"),l({label:"报表地址",field:"reportPrintUrl",component:"Input",componentProps:{style:"width: 80%"},dynamicDisabled:({model:e})=>!e.reportPrintShow,dynamicRules:({model:e})=>[{required:!!e.reportPrintShow,message:"请输入报表地址！"},{validator({},n){return/\/jmreport\/view\/{积木报表ID}/.test(n)?Promise.reject("请将{积木报表ID}替换为真实的积木报表ID！"):Promise.resolve()}}]},"right"),l({label:"固定操作列",field:"tableFixedAction",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid"},defaultValue:1},"left"),l({label:"固定方式",field:"tableFixedActionType",component:"Select",componentProps:{options:[{label:"固定到右侧",value:"right"},{label:"固定到左侧",value:"left"}],style:"width: 80%"},defaultValue:"right",dynamicDisabled:({model:e})=>!e.tableFixedAction,dynamicRules:({model:e})=>[{required:!!e.tableFixedAction,message:"请选择固定方式！"}]},"right")]}}function C(s,r,l){const e=i({one:{colProps:{xs:24,sm:24},itemProps:{labelCol:{xs:24,sm:5},wrapperCol:{xs:24,sm:16}}},towOne:{colProps:{xs:24,sm:24},itemProps:{labelCol:{xs:24,sm:3},wrapperCol:{xs:24,sm:20}}},tow:{colProps:{xs:24,sm:12},itemProps:{labelCol:{xs:24,sm:6},wrapperCol:{xs:24,sm:16}}}},"one"),n=m(()=>l.value?"one":"tow");return{formSchemas:m(()=>[e({label:"代码生成目录",field:"projectPath",render:({model:a,field:o})=>p(u.Search,{value:a[o],onChange:t=>{a[o]=t.target.value,r.onProjectPathChange(t)},onSearch:r.onProjectPathSearch},{enterButton:()=>p(c,{preIcon:"ant-design:folder-open",disabled:P("online:codeGenerate:projectPath")},{default:()=>"浏览",icon:()=>p(d)})}),component:"InputSearch",required:!0},l.value?"one":"towOne"),e({label:"页面风格",field:"jspMode",component:"Select",componentProps:{options:r.jspModeOptions.value}},n.value),e({label:"功能说明",field:"ftlDescription",component:"Input"},n.value),{label:"数据模型",field:"jformType",component:"Input",show:!1},e({label:"表名",field:"tableName_tmp",required:!0,dynamicDisabled:!0,component:"Input"},n.value),e({label:"实体类名",field:"entityName",required:!0,component:"Input",componentProps:{placeholder:"请输入实体类名(首字母大写)"}},n.value),e({label:"包名(小写)",field:"entityPackage",required:!0,component:"Input"},n.value),e({label:"代码分层样式",field:"packageStyle",component:"Select",componentProps:{disabled:!0,options:[{label:"业务分层",value:"service"},{label:"代码分层",value:"project"}]}},n.value),e({label:"页面代码",field:"vueStyle",required:!0,component:"RadioGroup",defaultValue:"vue3",componentProps:{options:[{label:"Vue3原生(a-form)",value:"vue3Native"},{label:"Vue3(BasicForm)",value:"vue3"},{label:"Vue2",value:"vue"}]}},n.value),{label:"需要生成的代码",field:"codeTypes",component:"Input",show:!1}])}}export{w as I,C as T,x as g};
