import{d as q,e as _,u as o,a6 as C,a7 as M,q as h,A as v,ac as i,k as d,F as E}from"./tinymce-vendor-3c2b3d6e.js";import{l as m}from"./index-37448b2d.js";import{C as F}from"./jeecg-online-vendor-f57c6456.js";import"./antd-vue-vendor-05bfa84d.js";import"./vxe-table-vendor-26792376.js";const L={class:"upload-download-handler"},N={class:"upload-mover-handler"},D=q({__name:"UploadItemActions",props:{element:{type:HTMLElement,required:!0},fileList:{type:Object,required:!0},mover:{type:Boolean,required:!0},download:{type:Boolean,required:!0},emitValue:{type:Function,required:!0}},setup(u){const{createMessage:f}=F(),l=u,a=_(()=>o(l.fileList));function y(){let e=p();if(e===-1){f.warn("移动失败："+e);return}if(e===0){s(e,o(a).length-1);return}s(e,e-1)}function B(){let e=p();if(e===-1){f.warn("移动失败："+e);return}if(e==o(a).length-1){s(e,0);return}s(e,e+1)}function s(e,n){if(e!==n){let t=[...o(a)],c=t[e];t[e]=t[n],t[n]=c,l.emitValue(t.map(r=>r.url).join(","))}}function p(){var n,t;const e=(t=(n=l.element)==null?void 0:n.getElementsByTagName("img")[0])==null?void 0:t.src;if(e){const c=o(a);for(let r=0;r<c.length;r++){let g=c[r].url;const w=e.replace(window.location.origin,"");if(g===w||encodeURI(g)===w)return r}}return-1}function k(){var n,t;const e=(t=(n=l.element)==null?void 0:n.getElementsByTagName("img")[0])==null?void 0:t.src;window.open(e)}return(e,n)=>(C(),M(E,null,[h(i("div",L,[i("a",{class:"download",title:"下载",onClick:k},[d(o(m),{icon:"ant-design:download"})])],512),[[v,u.download]]),h(i("div",N,[i("a",{title:"向前移动",onClick:y},[d(o(m),{icon:"ant-design:arrow-left"})]),i("a",{title:"向后移动",onClick:B},[d(o(m),{icon:"ant-design:arrow-right"})])],512),[[v,u.mover&&a.value.length>1]])],64))}});export{D as default};
