"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=require("../../v-x-e-table"),_utils=require("../../tools/utils"),_vn=require("../../tools/vn"),_render=require("./render"),_util=require("./util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,l=arguments.length;i<l;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},VxeFormConfigItem=(0,_vue.defineComponent)({name:"VxeFormConfigItem",props:{itemConfig:Object},setup:function(W){var $=(0,_vue.inject)("$xeform",{}),e={itemConfig:W.itemConfig};(0,_vue.provide)("$xeformiteminfo",e),(0,_vue.provide)("$xeformgather",null);return{renderVN:function(){var e=$.reactData,t=$.props,i=t.data,l=t.rules,n=t.span,s=t.align,o=t.titleAlign,r=t.titleWidth,u=t.titleColon,a=t.titleAsterisk,d=t.titleOverflow,t=t.vertical,f=$.getComputeMaps().computeValidOpts,c=W.itemConfig,e=e.collapseAll,f=f.value,_=c.slots,v=c.title,m=c.visible,j=c.folding,x=c.field,R=c.collapseNode,g=c.itemRender,k=c.showError,p=c.errRule,h=c.className,C=c.titleOverflow,U=c.vertical,N=c.children,D=c.showTitle,F=c.contentClassName,q=c.contentStyle,y=c.titleClassName,O=c.titleStyle,b=(0,_utils.isEnableConf)(g)?_vXETable.VXETable.renderer.get(g.name):null,T=b?b.itemClassName:"",V=b?b.itemStyle:null,w=b?b.itemContentClassName:"",A=b?b.itemContentStyle:null,E=b?b.itemTitleClassName:"",I=b?b.itemTitleStyle:null,M=_?_.default:null,_=_?_.title:null,n=c.span||n,s=c.align||s,o=_xeUtils.default.eqNull(c.titleAlign)?o:c.titleAlign,r=_xeUtils.default.eqNull(c.titleWidth)?r:c.titleWidth,u=_xeUtils.default.eqNull(c.titleColon)?u:c.titleColon,a=_xeUtils.default.eqNull(c.titleAsterisk)?a:c.titleAsterisk,d=_xeUtils.default.isUndefined(C)||_xeUtils.default.isNull(C)?d:C,C=_xeUtils.default.isUndefined(U)||_xeUtils.default.isNull(U)?t:U,t="title"===d,U=!0===d||"tooltip"===d,d=t||U||"ellipsis"===d,S={data:i,field:x,property:x,item:c,$form:$,$grid:$.xegrid};return!1===m?(0,_vue.createCommentVNode)():(m=!1,l&&(l=l[x])&&(m=l.some(function(e){return e.required})),N&&0<N.length?(l=N.map(function(e,t){return(0,_vue.h)(VxeFormConfigItem,{key:t,itemConfig:e})})).length?(0,_vue.h)("div",{class:["vxe-form--gather vxe-row",c.id,n?"vxe-col--".concat(n," is--span"):"",h?_xeUtils.default.isFunction(h)?h(S):h:""]},l):(0,_vue.createCommentVNode)():(N=[],M?N=$.callSlot(M,S):b&&b.renderItemContent?N=(0,_vn.getSlotVNs)(b.renderItemContent(g,S)):x&&(N=[_xeUtils.default.toValueString(_xeUtils.default.get(i,x))]),R&&N.push((0,_vue.h)("div",{class:"vxe-form--item-trigger-node",onClick:$.toggleCollapseEvent},[(0,_vue.h)("span",{class:"vxe-form--item-trigger-text"},e?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),(0,_vue.h)("i",{class:["vxe-form--item-trigger-icon",e?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})])),p&&f.showMessage&&N.push((0,_vue.h)("div",{class:"vxe-form--item-valid",style:p.maxWidth?{width:"".concat(p.maxWidth,"px")}:null},p.content)),l=U?{onMouseenter:function(e){$.triggerTitleTipEvent(e,S)},onMouseleave:$.handleTitleTipLeaveEvent}:{},(0,_vue.h)("div",{class:["vxe-form--item",c.id,n?"vxe-col--".concat(n," is--span"):"",h?_xeUtils.default.isFunction(h)?h(S):h:"",T?_xeUtils.default.isFunction(T)?T(S):T:"",{"is--title":v,"is--colon":u,"is--vertical":C,"is--asterisk":a,"is--required":m,"is--hidden":j&&e,"is--active":(0,_util.isActivetem)($,c),"is--error":k}],style:_xeUtils.default.isFunction(V)?V(S):V},[(0,_vue.h)("div",{class:"vxe-form--item-inner"},[!1!==D&&(v||_)?(0,_vue.h)("div",__assign({class:["vxe-form--item-title",o?"align--".concat(o):"",d?"is--ellipsis":"",E?_xeUtils.default.isFunction(E)?E(S):E:"",y?_xeUtils.default.isFunction(y)?y(S):y:""],style:Object.assign({},_xeUtils.default.isFunction(I)?I(S):I,_xeUtils.default.isFunction(O)?O(S):O,r?{width:isNaN(r)?r:"".concat(r,"px")}:null),title:t?(0,_utils.getFuncText)(v):null},l),(0,_render.renderTitle)($,c)):null,(0,_vue.h)("div",{class:["vxe-form--item-content",s?"align--".concat(s):"",w?_xeUtils.default.isFunction(w)?w(S):w:"",F?_xeUtils.default.isFunction(F)?F(S):F:""],style:Object.assign({},_xeUtils.default.isFunction(A)?A(S):A,_xeUtils.default.isFunction(q)?q(S):q)},N)])])))}}},render:function(){return this.renderVN()}}),_default=VxeFormConfigItem;exports.default=_default;